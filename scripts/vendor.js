!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function r(e){var t="length"in e&&e.length,r=Q.type(e);return"function"===r||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,r){if(Q.isFunction(t))return Q.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return Q.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,r);t=Q.filter(t,e)}return Q.grep(e,function(e){return X.call(t,e)>=0!==r})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=de[e]={};return Q.each(e.match(he)||[],function(e,r){t[r]=!0}),t}function a(){K.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function u(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(we,"-$1").toLowerCase(),r=e.getAttribute(n),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:xe.test(r)?Q.parseJSON(r):r}catch(i){}ye.set(e,t,r)}else r=void 0;return r}function l(){return!0}function c(){return!1}function f(){try{return K.activeElement}catch(e){}}function p(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var r=0,n=e.length;n>r;r++)ve.set(e[r],"globalEval",!t||ve.get(t[r],"globalEval"))}function m(e,t){var r,n,i,o,a,s,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(r=0,n=l[i].length;n>r;r++)Q.event.add(t,i,l[i][r])}ye.hasData(e)&&(s=ye.access(e),u=Q.extend({},s),ye.set(t,u))}}function v(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],r):r}function y(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Ne.test(e.type)?t.checked=e.checked:("input"===r||"textarea"===r)&&(t.defaultValue=e.defaultValue)}function x(t,r){var n,i=Q(r.createElement(t)).appendTo(r.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(i[0]))?n.display:Q.css(i[0],"display");return i.detach(),o}function w(e){var t=K,r=je[e];return r||(r=x(e,t),"none"!==r&&r||(Re=(Re||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Re[0].contentDocument,t.write(),t.close(),r=x(e,t),Re.detach()),je[e]=r),r}function b(e,t,r){var n,i,o,a,s=e.style;return r=r||$e(e),r&&(a=r.getPropertyValue(t)||r[t]),r&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Ue.test(a)&&Fe.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function E(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e,t){if(t in e)return t;for(var r=t[0].toUpperCase()+t.slice(1),n=t,i=Ge.length;i--;)if(t=Ge[i]+r,t in e)return t;return n}function N(e,t,r){var n=He.exec(t);return n?Math.max(0,n[1]-(r||0))+(n[2]||"px"):t}function S(e,t,r,n,i){for(var o=r===(n?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===r&&(a+=Q.css(e,r+Ee[o],!0,i)),n?("content"===r&&(a-=Q.css(e,"padding"+Ee[o],!0,i)),"margin"!==r&&(a-=Q.css(e,"border"+Ee[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+Ee[o],!0,i),"padding"!==r&&(a+=Q.css(e,"border"+Ee[o]+"Width",!0,i)));return a}function T(e,t,r){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=$e(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=b(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ue.test(i))return i;n=a&&(Z.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+S(e,t,r||(a?"border":"content"),n,o)+"px"}function C(e,t){for(var r,n,i,o=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(o[a]=ve.get(n,"olddisplay"),r=n.style.display,t?(o[a]||"none"!==r||(n.style.display=""),""===n.style.display&&_e(n)&&(o[a]=ve.access(n,"olddisplay",w(n.nodeName)))):(i=_e(n),"none"===r&&i||ve.set(n,"olddisplay",i?r:Q.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function M(e,t,r,n,i){return new M.prototype.init(e,t,r,n,i)}function A(){return setTimeout(function(){Ze=void 0}),Ze=Q.now()}function O(e,t){var r,n=0,i={height:e};for(t=t?1:0;4>n;n+=2-t)r=Ee[n],i["margin"+r]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function k(e,t,r){for(var n,i=(rt[t]||[]).concat(rt["*"]),o=0,a=i.length;a>o;o++)if(n=i[o].call(r,t,e))return n}function P(e,t,r){var n,i,o,a,s,u,l,c,f=this,p={},h=e.style,d=e.nodeType&&_e(e),g=ve.get(e,"fxshow");r.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],l=Q.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||w(e.nodeName):l,"inline"===c&&"none"===Q.css(e,"float")&&(h.display="inline-block")),r.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]}));for(n in t)if(i=t[n],Je.exec(i)){if(delete t[n],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;d=!0}p[n]=g&&g[n]||Q.style(e,n)}else l=void 0;if(Q.isEmptyObject(p))"inline"===("none"===l?w(e.nodeName):l)&&(h.display=l);else{g?"hidden"in g&&(d=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!d),d?Q(e).show():f.done(function(){Q(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Q.style(e,t,p[t])});for(n in p)a=k(d?g[n]:0,n,f),n in g||(g[n]=a.start,d&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function D(e,t){var r,n,i,o,a;for(r in e)if(n=Q.camelCase(r),i=t[n],o=e[r],Q.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),a=Q.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete e[n];for(r in o)r in e||(e[r]=o[r],t[r]=i)}else t[n]=i}function z(e,t,r){var n,i,o=0,a=tt.length,s=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ze||A(),r=Math.max(0,l.startTime+l.duration-t),n=r/l.duration||0,o=1-n,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,r]),1>o&&u?r:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:Ze||A(),duration:r.duration,tweens:[],createTween:function(t,r){var n=Q.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var r=0,n=t?l.tweens.length:0;if(i)return this;for(i=!0;n>r;r++)l.tweens[r].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(D(c,l.opts.specialEasing);a>o;o++)if(n=tt[o].call(l,e,c,l.opts))return n;return Q.map(c,k,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function B(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(he)||[];if(Q.isFunction(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function q(e,t,r,n){function i(s){var u;return o[s]=!0,Q.each(e[s]||[],function(e,s){var l=s(t,r,n);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function I(e,t){var r,n,i=Q.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&Q.extend(!0,e,n),e}function L(e,t,r){for(var n,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){u.unshift(i);break}if(u[0]in r)o=u[0];else{for(i in r){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),r[o]):void 0}function R(e,t,r,n){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function j(e,t,r,n){var i;if(Q.isArray(t))Q.each(t,function(t,i){r||Nt.test(e)?n(e,i):j(e+"["+("object"==typeof i?t:"")+"]",i,r,n)});else if(r||"object"!==Q.type(t))n(e,t);else for(i in t)j(e+"["+i+"]",t[i],r,n)}function F(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var U=[],$=U.slice,V=U.concat,H=U.push,X=U.indexOf,W={},Y=W.toString,G=W.hasOwnProperty,Z={},K=e.document,J="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,re=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(0>e?t:0);return this.pushStack(r>=0&&t>r?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:U.sort,splice:U.splice},Q.extend=Q.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],n=e[t],a!==n&&(l&&n&&(Q.isPlainObject(n)||(i=Q.isArray(n)))?(i?(i=!1,o=r&&Q.isArray(r)?r:[]):o=r&&Q.isPlainObject(r)?r:{},a[t]=Q.extend(l,o,n)):void 0!==n&&(a[t]=n));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?W[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,r=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):r(e))},camelCase:function(e){return e.replace(te,"ms-").replace(re,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,o=0,a=e.length,s=r(e);if(n){if(s)for(;a>o&&(i=t.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],n),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?Q.merge(n,"string"==typeof e?[e]:e):H.call(n,e)),n},inArray:function(e,t,r){return null==t?-1:X.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;r>n;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n,i=[],o=0,a=e.length,s=!r;a>o;o++)n=!t(e[o],o),n!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,a=e.length,s=r(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,n),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&u.push(i);return V.apply([],u)},guid:1,proxy:function(e,t){var r,n,i;return"string"==typeof t&&(r=e[t],t=e,e=r),Q.isFunction(e)?(n=$.call(arguments,2),i=function(){return e.apply(t||this,n.concat($.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,r,n){var i,o,a,s,u,l,f,h,d,g;if((t?t.ownerDocument||t:j)!==P&&k(t),t=t||P,r=r||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return r;if(!n&&z){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return r;if(o.id===a)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&L(t,o)&&o.id===a)return r.push(o),r}else{if(i[2])return J.apply(r,t.getElementsByTagName(e)),r;if((a=i[3])&&b.getElementsByClassName)return J.apply(r,t.getElementsByClassName(a)),r}if(b.qsa&&(!B||!B.test(e))){if(h=f=R,d=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=S(e),(f=t.getAttribute("id"))?h=f.replace(we,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+p(l[u]);d=xe.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return J.apply(r,d.querySelectorAll(g)),r}catch(m){}finally{f||t.removeAttribute("id")}}}return C(e.replace(ue,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>E.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[R]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var r=e.split("|"),n=e.length;n--;)E.attrHandle[r[n]]=t}function a(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){var r=t.nodeName.toLowerCase();return"input"===r&&t.type===e}}function u(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function l(e){return n(function(t){return t=+t,n(function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,r=e.length,n="";r>t;t++)n+=e[t].value;return n}function h(e,t,r){var n=t.dir,i=r&&"parentNode"===n,o=U++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o)}:function(t,r,a){var s,u,l=[F,o];if(a){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,a))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if(u=t[R]||(t[R]={}),(s=u[n])&&s[0]===F&&s[1]===o)return l[2]=s[2];if(u[n]=l,l[2]=e(t,r,a))return!0}}}function d(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function g(e,r,n){for(var i=0,o=r.length;o>i;i++)t(e,r[i],n);return n}function m(e,t,r,n,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!r||r(o,n,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,r,i,o,a){return i&&!i[R]&&(i=v(i)),o&&!o[R]&&(o=v(o,a)),n(function(n,a,s,u){var l,c,f,p=[],h=[],d=a.length,v=n||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:m(v,p,e,s,u),x=r?o||(n?e:d||i)?[]:a:y;if(r&&r(y,x,s,u),i)for(l=m(x,h),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[h[c]]=!(y[h[c]]=f));if(n){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(n,f):p[c])>-1&&(n[l]=!(a[l]=f))}}else x=m(x===a?x.splice(d,x.length):x),o?o(null,a,x,u):J.apply(a,x)})}function y(e){for(var t,r,n,i=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,r,n){var i=!o&&(n||r!==M)||((t=r).nodeType?u(e,r,n):l(e,r,n));return t=null,i}];i>s;s++)if(r=E.relative[e[s].type])c=[h(d(c),r)];else{if(r=E.filter[e[s].type].apply(null,e[s].matches),r[R]){for(n=++s;i>n&&!E.relative[e[n].type];n++);return v(s>1&&d(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),r,n>s&&y(e.slice(s,n)),i>n&&y(e=e.slice(n)),i>n&&p(e))}c.push(r)}return d(c)}function x(e,r){var i=r.length>0,o=e.length>0,a=function(n,a,s,u,l){var c,f,p,h=0,d="0",g=n&&[],v=[],y=M,x=n||o&&E.find.TAG("*",l),w=F+=null==y?1:Math.random()||.1,b=x.length;for(l&&(M=a!==P&&a);d!==b&&null!=(c=x[d]);d++){if(o&&c){for(f=0;p=e[f++];)if(p(c,a,s)){u.push(c);break}l&&(F=w)}i&&((c=!p&&c)&&h--,n&&g.push(c))}if(h+=d,i&&d!==h){for(f=0;p=r[f++];)p(g,v,a,s);if(n){if(h>0)for(;d--;)g[d]||v[d]||(v[d]=Z.call(u));v=m(v)}J.apply(u,v),l&&!n&&v.length>0&&h+r.length>1&&t.uniqueSort(u)}return l&&(F=w,M=y),g};return i?n(a):a}var w,b,E,_,N,S,T,C,M,A,O,k,P,D,z,B,q,I,L,R="sizzle"+1*new Date,j=e.document,F=0,U=0,$=r(),V=r(),H=r(),X=function(e,t){return e===t&&(O=!0),0},W=1<<31,Y={}.hasOwnProperty,G=[],Z=G.pop,K=G.push,J=G.push,Q=G.slice,ee=function(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ne.replace("w","w#"),oe="\\["+re+"*("+ne+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(re+"+","g"),ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),pe=new RegExp(ae),he=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,we=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ee=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_e=function(){k()};try{J.apply(G=Q.call(j.childNodes),j.childNodes),G[j.childNodes.length].nodeType}catch(Ne){J={apply:G.length?function(e,t){K.apply(e,Q.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}b=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:j;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,D=n.documentElement,r=n.defaultView,r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",_e,!1):r.attachEvent&&r.attachEvent("onunload",_e)),z=!N(n),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ve.test(n.getElementsByClassName),b.getById=i(function(e){return D.appendChild(e).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),b.getById?(E.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&z){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}},E.filter.ID=function(e){var t=e.replace(be,Ee);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(be,Ee);return function(e){var r="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),E.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},E.find.CLASS=b.getElementsByClassName&&function(e,t){return z?t.getElementsByClassName(e):void 0},q=[],B=[],(b.qsa=ve.test(n.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+re+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+R+"-]").length||B.push("~="),e.querySelectorAll(":checked").length||B.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||B.push(".#.+[+~]")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(b.matchesSelector=ve.test(I=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){b.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),q.push("!=",ae)}),B=B.length&&new RegExp(B.join("|")),q=q.length&&new RegExp(q.join("|")),t=ve.test(D.compareDocumentPosition),L=t||ve.test(D.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return O=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!b.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===j&&L(j,e)?-1:t===n||t.ownerDocument===j&&L(j,t)?1:A?ee(A,e)-ee(A,t):0:4&r?-1:1)}:function(e,t){if(e===t)return O=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:A?ee(A,e)-ee(A,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===j?-1:l[i]===j?1:0},n):P},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==P&&k(e),r=r.replace(fe,"='$1']"),!(!b.matchesSelector||!z||q&&q.test(r)||B&&B.test(r)))try{var n=I.call(e,r);if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return t(r,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&k(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&k(e);var r=E.attrHandle[t.toLowerCase()],n=r&&Y.call(E.attrHandle,t.toLowerCase())?r(e,t,!z):void 0;return void 0!==n?n:b.attributes||!z?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,i=0;if(O=!b.detectDuplicates,A=!b.sortStable&&e.slice(0),e.sort(X),O){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return A=null,e},_=t.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=_(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=_(t);return r},E=t.selectors={cacheLength:50,createPseudo:n,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(be,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&pe.test(r)&&(t=S(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(i){var o=t.attr(i,e);return null==o?"!="===r:r?(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&o.indexOf(n)>-1:"$="===r?n&&o.slice(-n.length)===n:"~="===r?(" "+o.replace(se," ")+" ").indexOf(n)>-1:"|="===r?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var l,c,f,p,h,d,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?m.firstChild:m.lastChild],a&&y){for(c=m[R]||(m[R]={}),l=c[e]||[],h=l[0]===F&&l[1],p=l[0]===F&&l[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(p=h=0)||d.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[F,h,p];break}}else if(y&&(l=(t[R]||(t[R]={}))[e])&&l[0]===F)p=l[1];else for(;(f=++h&&f&&f[g]||(p=h=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[R]||(f[R]={}))[e]=[F,p]),f!==t)););return p-=i,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,r){var i,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(r):o.length>1?(i=[e,e,"",r],E.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)n=ee(e,i[a]),e[n]=!(t[n]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:n(function(e){var t=[],r=[],i=T(e.replace(ue,"$1"));return i[R]?n(function(e,t,r,n){for(var o,a=i(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,i(t,null,o,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(be,Ee),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:n(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,Ee).toLowerCase(),function(t){var r;do if(r=z?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||0===r.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,r){return[0>r?r+t:r]}),even:l(function(e,t){for(var r=0;t>r;r+=2)e.push(r);return e}),odd:l(function(e,t){for(var r=1;t>r;r+=2)e.push(r);return e}),lt:l(function(e,t,r){for(var n=0>r?r+t:r;--n>=0;)e.push(n);return e}),gt:l(function(e,t,r){for(var n=0>r?r+t:r;++n<t;)e.push(n);return e})}},E.pseudos.nth=E.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=u(w);return f.prototype=E.filters=E.pseudos,E.setFilters=new f,S=t.tokenize=function(e,r){var n,i,o,a,s,u,l,c=V[e+" "];if(c)return r?0:c.slice(0);for(s=e,u=[],l=E.preFilter;s;){(!n||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=ce.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ue," ")}),s=s.slice(n.length));for(a in E.filter)!(i=de[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return r?s.length:s?t.error(e):V(e,u).slice(0)},T=t.compile=function(e,t){var r,n=[],i=[],o=H[e+" "];if(!o){for(t||(t=S(e)),r=t.length;r--;)o=y(t[r]),o[R]?n.push(o):i.push(o);o=H(e,x(i,n)),o.selector=e}return o},C=t.select=function(e,t,r,n){var i,o,a,s,u,l="function"==typeof e&&e,f=!n&&S(e=l.selector||e);if(r=r||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&z&&E.relative[o[1].type]){if(t=(E.find.ID(a.matches[0].replace(be,Ee),t)||[])[0],!t)return r;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((u=E.find[s])&&(n=u(a.matches[0].replace(be,Ee),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=n.length&&p(o),!e)return J.apply(r,n),r;break}}return(l||T(e,f))(n,t,!z,r,xe.test(e)&&c(t.parentNode)||t),r},b.sortStable=R.split("").sort(X).join("")===R,b.detectDuplicates=!!O,k(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,r){return r?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,r){return r||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,r){var n;return r?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Q.find.matchesSelector(n,e)?[n]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,r=this.length,n=[],i=this;

if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;r>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;r>t;t++)Q.find(e,i[t],n);return n=this.pushStack(r>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var r,n;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),ae.test(r[1])&&Q.isPlainObject(t))for(r in t)Q.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return n=K.getElementById(r[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,ue=Q(K);var fe=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(r))break;n.push(e)}return n},sibling:function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}}),Q.fn.extend({has:function(e){var t=Q(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,n=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>n;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&Q.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?X.call(Q(e),this[0]):X.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,r){return Q.dir(e,"parentNode",r)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,r){return Q.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return Q.dir(e,"previousSibling",r)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(r,n){var i=Q.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=Q.filter(n,i)),this.length>1&&(pe[e]||Q.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var he=/\S+/g,de={};Q.Callbacks=function(e){e="string"==typeof e?de[e]||o(e):Q.extend({},e);var t,r,n,i,a,s,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,r=!0,s=i||0,i=0,a=u.length,n=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var r=u.length;!function o(t){Q.each(t,function(t,r){var n=Q.type(r);"function"===n?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==n&&o(r)})}(arguments),n?a=u.length:t&&(i=r,c(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var r;(r=Q.inArray(t,u,r))>-1;)u.splice(r,1),n&&(a>=r&&a--,s>=r&&s--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||r&&!l||(t=t||[],t=[e,t.slice?t.slice():t],n?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(r){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===n?r.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,n):n}},i={};return n.pipe=n.then,Q.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){r=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=a.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,r,n,i=0,o=$.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,u=1===s?e:Q.Deferred(),l=function(e,r,n){return function(i){r[e]=this,n[e]=arguments.length>1?$.call(arguments):i,n===t?u.notifyWith(r,n):--s||u.resolveWith(r,n)}};if(a>1)for(t=new Array(a),r=new Array(a),n=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(l(i,n,o)).fail(u.reject).progress(l(i,r,t)):--s;return s||u.resolveWith(n,o),u.promise()}});var ge;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(ge.resolveWith(K,[Q]),Q.fn.triggerHandler&&(Q(K).triggerHandler("ready"),Q(K).off("ready"))))}}),Q.ready.promise=function(t){return ge||(ge=Q.Deferred(),"complete"===K.readyState?setTimeout(Q.ready):(K.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ge.promise(t)},Q.ready.promise();var me=Q.access=function(e,t,r,n,i,o,a){var s=0,u=e.length,l=null==r;if("object"===Q.type(r)){i=!0;for(s in r)Q.access(e,t,s,r[s],!0,o,a)}else if(void 0!==n&&(i=!0,Q.isFunction(n)||(a=!0),l&&(a?(t.call(e,n),t=null):(l=t,t=function(e,t,r){return l.call(Q(e),r)})),t))for(;u>s;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:l?t.call(e):u?t(e[0],r):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=s.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(n){t[this.expando]=r,Q.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var n,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=r;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(n in t)o[n]=t[n];return o},get:function(e,t){var r=this.cache[this.key(e)];return void 0===t?r:r[t]},access:function(e,t,r){var n;return void 0===t||t&&"string"==typeof t&&void 0===r?(n=this.get(e,t),void 0!==n?n:this.get(e,Q.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?n=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in a?n=[t,i]:(n=i,n=n in a?[n]:n.match(he)||[])),r=n.length;for(;r--;)delete a[n[r]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,r){return ye.access(e,t,r)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,r){return ve.access(e,t,r)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(n=a[r].name,0===n.indexOf("data-")&&(n=Q.camelCase(n.slice(5)),u(o,n,i[n])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var r,n=Q.camelCase(e);if(o&&void 0===t){if(r=ye.get(o,e),void 0!==r)return r;if(r=ye.get(o,n),void 0!==r)return r;if(r=u(o,n,void 0),void 0!==r)return r}else this.each(function(){var r=ye.get(this,n);ye.set(this,n,t),-1!==e.indexOf("-")&&void 0!==r&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,r){var n;return e?(t=(t||"fx")+"queue",n=ve.get(e,t),r&&(!n||Q.isArray(r)?n=ve.access(e,t,Q.makeArray(r)):n.push(r)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=Q.queue(e,t),n=r.length,i=r.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return ve.get(e,r)||ve.access(e,r,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",r])})})}}),Q.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?Q.queue(this[0],e):void 0===t?this:this.each(function(){var r=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)r=ve.get(o[a],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],_e=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),r=K.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";Z.focusinBubbles="onfocusin"in e;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,r,n,i){var o,a,s,u,l,c,f,p,h,d,g,m=ve.get(e);if(m)for(r.handler&&(o=r,r=o.handler,i=o.selector),r.guid||(r.guid=Q.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof Q!==Se&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],l=t.length;l--;)s=Ae.exec(t[l])||[],h=g=s[1],d=(s[2]||"").split(".").sort(),h&&(f=Q.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=Q.event.special[h]||{},c=Q.extend({type:h,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[h])||(p=u[h]=[],p.delegateCount=0,f.setup&&f.setup.call(e,n,d,a)!==!1||e.addEventListener&&e.addEventListener(h,a,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Q.event.global[h]=!0)},remove:function(e,t,r,n,i){var o,a,s,u,l,c,f,p,h,d,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(he)||[""],l=t.length;l--;)if(s=Ae.exec(t[l])||[],h=g=s[1],d=(s[2]||"").split(".").sort(),h){for(f=Q.event.special[h]||{},h=(n?f.delegateType:f.bindType)||h,p=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&f.teardown.call(e,d,m.handle)!==!1||Q.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)Q.event.remove(e,h+t[l],r,n,!0);Q.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,r,n,i){var o,a,s,u,l,c,f,p=[n||K],h=G.call(t,"type")?t.type:t,d=G.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||K,3!==n.nodeType&&8!==n.nodeType&&!Me.test(h+Q.event.triggered)&&(h.indexOf(".")>=0&&(d=h.split("."),h=d.shift(),d.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[Q.expando]?t:new Q.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:Q.makeArray(r,[t]),f=Q.event.special[h]||{},i||!f.trigger||f.trigger.apply(n,r)!==!1)){if(!i&&!f.noBubble&&!Q.isWindow(n)){for(u=f.delegateType||h,Me.test(u+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||K)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||h,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,r),c=l&&a[l],c&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,r),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),r)!==!1||!Q.acceptData(n)||l&&Q.isFunction(n[h])&&!Q.isWindow(n)&&(s=n[l],s&&(n[l]=null),Q.event.triggered=h,n[h](),Q.event.triggered=void 0,s&&(n[l]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,r,n,i,o,a=[],s=$.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,n=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(n=[],r=0;s>r;r++)o=t[r],i=o.selector+" ",void 0===n[i]&&(n[i]=o.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),n[i]&&n.push(o);n.length&&a.push({elem:u,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,n,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||K,n=r.documentElement,i=r.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,r,n,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ce.test(i)?this.mouseHooks:Te.test(i)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=n.length;t--;)r=n[t],e[r]=o[r];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,n){var i=Q.extend(new Q.Event,r,{type:e,isSimulated:!0,originalEvent:{}});n?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&r.preventDefault()}},Q.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==n&&!Q.contains(n,i))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=ve.access(n,t);i||n.addEventListener(e,r,!0),ve.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=ve.access(n,t)-1;i?ve.access(n,t,i):(n.removeEventListener(e,r,!0),ve.remove(n,t))}}}),Q.fn.extend({on:function(e,t,r,n,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(a in e)this.on(a,t,r,e[a],i);return this}if(null==r&&null==n?(n=t,r=t=void 0):null==n&&("string"==typeof t?(n=r,r=void 0):(n=r,r=t,t=void 0)),n===!1)n=c;else if(!n)return this;return 1===i&&(o=n,n=function(e){return Q().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,n,r,t)})},one:function(e,t,r,n){return this.on(e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Q(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=c),this.each(function(){Q.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?Q.event.trigger(e,t,r,!0):void 0}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ke=/<([\w:]+)/,Pe=/<|&#?\w+;/,De=/<(?:script|style|link)/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,qe=/^true\/(.*)/,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,Q.extend({clone:function(e,t,r){var n,i,o,a,s=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),o=v(e),n=0,i=o.length;i>n;n++)y(o[n],a[n]);if(t)if(r)for(o=o||v(e),a=a||v(s),n=0,i=o.length;i>n;n++)m(o[n],a[n]);else m(e,s);return a=v(s,"script"),a.length>0&&g(a,!u&&v(e,"script")),s},buildFragment:function(e,t,r,n){for(var i,o,a,s,u,l,c=t.createDocumentFragment(),f=[],p=0,h=e.length;h>p;p++)if(i=e[p],i||0===i)if("object"===Q.type(i))Q.merge(f,i.nodeType?[i]:i);else if(Pe.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(ke.exec(i)||["",""])[1].toLowerCase(),s=Le[a]||Le._default,o.innerHTML=s[1]+i.replace(Oe,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;Q.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!n||-1===Q.inArray(i,n))&&(u=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),r))for(l=0;i=o[l++];)Be.test(i.type||"")&&r.push(i);return c},cleanData:function(e){for(var t,r,n,i,o=Q.event.special,a=0;void 0!==(r=e[a]);a++){if(Q.acceptData(r)&&(i=r[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(n in t.events)o[n]?Q.event.remove(r,n):Q.removeEvent(r,n,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[r[ye.expando]]}}}),Q.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,n=e?Q.filter(e,this):this,i=0;null!=(r=n[i]);i++)t||1!==r.nodeType||Q.cleanData(v(r)),r.parentNode&&(t&&Q.contains(r.ownerDocument,r)&&g(v(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!Le[(ke.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Oe,"<$1></$2>");try{for(;n>r;r++)t=this[r]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=V.apply([],e);var r,n,i,o,a,s,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Q.isFunction(p);if(g||l>1&&"string"==typeof p&&!Z.checkClone&&ze.test(p))return this.each(function(r){var n=c.eq(r);g&&(e[0]=p.call(this,r,n.html())),n.domManip(e,t)});if(l&&(r=Q.buildFragment(e,this[0].ownerDocument,!1,this),n=r.firstChild,1===r.childNodes.length&&(r=n),n)){for(i=Q.map(v(r,"script"),h),o=i.length;l>u;u++)a=r,u!==f&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,d),u=0;o>u;u++)a=i[u],Be.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Ie,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var r,n=[],i=Q(e),o=i.length-1,a=0;o>=a;a++)r=a===o?this:this.clone(!0),Q(i[a])[t](r),H.apply(n,r.get());return this.pushStack(n)}});var Re,je={},Fe=/^margin/,Ue=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),$e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);r="1%"!==t.top,n="4px"===t.width,i.removeChild(o)}var r,n,i=K.documentElement,o=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return t(),r},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,r=a.appendChild(K.createElement("div"));return r.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(r,null).marginRight),i.removeChild(o),a.removeChild(r),t}}))}(),Q.swap=function(e,t,r,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=r.apply(e,n||[]);for(o in t)e.style[o]=a[o];return i};var Ve=/^(none|table(?!-c[ea]).+)/,He=new RegExp("^("+be+")(.*)$","i"),Xe=new RegExp("^([+-])=("+be+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=b(e,"opacity");return""===r?"1":r}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),u=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=_(u,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===r?a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:u[t]:(o=typeof r,"string"===o&&(i=Xe.exec(r))&&(r=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),null!=r&&r===r&&("number"!==o||Q.cssNumber[s]||(r+="px"),Z.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(u[t]=r)),void 0)}},css:function(e,t,r,n){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=_(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=b(e,t,n)),"normal"===i&&t in Ye&&(i=Ye[t]),""===r||r?(o=parseFloat(i),r===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,r,n){return r?Ve.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,We,function(){return T(e,t,n)}):T(e,t,n):void 0},set:function(e,r,n){var i=n&&$e(e);return N(e,r,n?S(e,t,n,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=E(Z.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];4>n;n++)i[e+Ee[n]+t]=o[n]||o[n-2]||o[0];return i}},Fe.test(e)||(Q.cssHooks[e+t].set=N)}),Q.fn.extend({css:function(e,t){return me(this,function(e,t,r){var n,i,o={},a=0;if(Q.isArray(t)){for(n=$e(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,n);return o}return void 0!==r?Q.style(e,t,r):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_e(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=M,M.prototype={constructor:M,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Q.cssNumber[r]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,r=M.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=M.prototype.init,Q.fx.step={};var Ze,Ke,Je=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[P],rt={"*":[function(e,t){var r=this.createTween(e,t),n=r.cur(),i=Qe.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+n)&&Qe.exec(Q.css(r.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+n||1;do s=s||".5",a/=s,Q.style(r.elem,e,a+o);while(s!==(s=r.cur()/n)&&1!==s&&--u)}return i&&(a=r.start=+a||+n||0,r.unit=o,r.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),r}]};Q.Animation=Q.extend(z,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,n=0,i=e.length;i>n;n++)r=e[n],rt[r]=rt[r]||[],rt[r].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,r){var n=e&&"object"==typeof e?Q.extend({},e):{complete:r||!r&&t||Q.isFunction(e)&&e,duration:e,easing:r&&t||t&&!Q.isFunction(t)&&t};return n.duration=Q.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Q.fx.speeds?Q.fx.speeds[n.duration]:Q.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Q.isFunction(n.old)&&n.old.call(this),n.queue&&Q.dequeue(this,n.queue)},n},Q.fn.extend({fadeTo:function(e,t,r,n){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=Q.isEmptyObject(e),o=Q.speed(t,r,n),a=function(){var t=z(this,Q.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));(t||!r)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=ve.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=Q.timers,a=n?n.length:0;for(r.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),
t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var r=Q.fn[t];Q.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(O(t,!0),e,n,i)}}),Q.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,r=Q.timers;for(Ze=Q.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||Q.fx.stop(),Ze=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ke||(Ke=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ke),Ke=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var n=setTimeout(t,e);r.stop=function(){clearTimeout(n)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),r=t.appendChild(K.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=r.selected,t.disabled=!0,Z.optDisabled=!r.disabled,e=K.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var nt,it,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return me(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?Q.prop(e,t,r):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),n=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?it:nt)),void 0===r?n&&"get"in n&&null!==(i=n.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:(e.setAttribute(t,r+""),r):void Q.removeAttr(e,t))},removeAttr:function(e,t){var r,n,i=0,o=t&&t.match(he);if(o&&1===e.nodeType)for(;r=o[i++];)n=Q.propFix[r]||r,Q.expr.match.bool.test(r)&&(e[n]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),it={set:function(e,t,r){return t===!1?Q.removeAttr(e,r):e.setAttribute(r,r),r}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ot[t]||Q.find.attr;ot[t]=function(e,t,n){var i,o;return n||(o=ot[t],ot[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return me(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var n,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,r,n,i,o,a,s="string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];l>u;u++)if(r=this[u],n=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Q.trim(n),r.className!==a&&(r.className=a)}return this},removeClass:function(e){var t,r,n,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];l>u;u++)if(r=this[u],n=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");a=e?Q.trim(n):"",r.className!==a&&(r.className=a)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(r){Q(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r)for(var t,n=0,i=Q(this),o=e.match(he)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(r===Se||"boolean"===r)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",r=0,n=this.length;n>r;r++)if(1===this[r].nodeType&&(" "+this[r].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Q.fn.extend({val:function(e){var t,r,n,i=this[0];{if(arguments.length)return n=Q.isFunction(e),this.each(function(r){var i;1===this.nodeType&&(i=n?e.call(this,r,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:(r=i.value,"string"==typeof r?r.replace(ut,""):null==r?"":r)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,r,n=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:n.length,u=0>i?s:o?i:0;s>u;u++)if(r=n[u],!(!r.selected&&u!==i||(Z.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&Q.nodeName(r.parentNode,"optgroup"))){if(t=Q(r).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var r,n,i=e.options,o=Q.makeArray(t),a=i.length;a--;)n=i[a],(n.selected=Q.inArray(n.value,o)>=0)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},Z.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}});var lt=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,t=r.parseFromString(e,"text/xml")}catch(n){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},xt={},wt="*/".concat("*"),bt=e.location.href,Et=vt.exec(bt.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt,type:"GET",isLocal:dt.test(Et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,Q.ajaxSettings),t):I(Q.ajaxSettings,e)},ajaxPrefilter:B(yt),ajaxTransport:B(xt),ajax:function(e,t){function r(e,t,r,a){var u,c,v,y,w,E=t;2!==x&&(x=2,s&&clearTimeout(s),n=void 0,o=a||"",b.readyState=e>0?4:0,u=e>=200&&300>e||304===e,r&&(y=L(f,b,r)),y=R(f,y,b,u),u?(f.ifModified&&(w=b.getResponseHeader("Last-Modified"),w&&(Q.lastModified[i]=w),w=b.getResponseHeader("etag"),w&&(Q.etag[i]=w)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=y.state,c=y.data,v=y.error,u=!v)):(v=E,(e||!E)&&(E="error",0>e&&(e=0))),b.status=e,b.statusText=(t||E)+"",u?d.resolveWith(p,[c,E,b]):d.rejectWith(p,[b,E,v]),b.statusCode(m),m=void 0,l&&h.trigger(u?"ajaxSuccess":"ajaxError",[b,f,u?c:v]),g.fireWith(p,[b,E]),l&&(h.trigger("ajaxComplete",[b,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,l,c,f=Q.ajaxSetup({},t),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?Q(p):Q.event,d=Q.Deferred(),g=Q.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,w="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return x||(e=y[r]=y[r]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),r(0,t),this}};if(d.promise(b).complete=g.add,b.success=b.done,b.error=b.fail,f.url=((e||f.url||bt)+"").replace(ft,"").replace(mt,Et[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(he)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Et[1]&&u[2]===Et[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Et[3]||("http:"===Et[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),q(yt,f,t,b),2===x)return b;l=Q.event&&f.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Q.lastModified[i]&&b.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&b.setRequestHeader("If-None-Match",Q.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+wt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)b.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,b,f)===!1||2===x))return b.abort();w="abort";for(c in{success:1,error:1,complete:1})b[c](f[c]);if(n=q(xt,f,t,b)){b.readyState=1,l&&h.trigger("ajaxSend",[b,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},f.timeout));try{x=1,n.send(v,r)}catch(E){if(!(2>x))throw E;r(-1,E)}}else r(-1,"No Transport");return b},getJSON:function(e,t,r){return Q.get(e,t,r,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,r,n,i){return Q.isFunction(r)&&(i=i||n,n=r,r=void 0),Q.ajax({url:e,type:t,dataType:i,data:r,success:n})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(r){Q(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var _t=/%20/g,Nt=/\[\]$/,St=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var r,n=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(r in e)j(r,e[r],t,i);return n.join("&").replace(_t,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Ct.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var r=Q(this).val();return null==r?null:Q.isArray(r)?Q.map(r,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:r.replace(St,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mt=0,At={},Ot={0:200,1223:204},kt=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in At)At[e]()}),Z.cors=!!kt&&"withCredentials"in kt,Z.ajax=kt=!!kt,Q.ajaxTransport(function(e){var t;return Z.cors||kt&&!e.crossDomain?{send:function(r,n){var i,o=e.xhr(),a=++Mt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(i in r)o.setRequestHeader(i,r[i]);t=function(e){return function(){t&&(delete At[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?n(o.status,o.statusText):n(Ot[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=At[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(n,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Pt=[],Dt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,r,n){var i,o,a,s=t.jsonp!==!1&&(Dt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Dt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},n.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=r.jsonpCallback,Pt.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||K;var n=ae.exec(e),i=!r&&[];return n?[t.createElement(n[1])]:(n=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],n.childNodes))};var zt=Q.fn.load;Q.fn.load=function(e,t,r){if("string"!=typeof e&&zt)return zt.apply(this,arguments);var n,i,o,a=this,s=e.indexOf(" ");return s>=0&&(n=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?Q("<div>").append(Q.parseHTML(e)).find(n):e)}).complete(r&&function(e,t){a.each(r,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Bt=e.document.documentElement;Q.offset={setOffset:function(e,t,r){var n,i,o,a,s,u,l,c=Q.css(e,"position"),f=Q(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Q.css(e,"top"),u=Q.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(n=f.position(),a=n.top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,r,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,r,n=this[0],i={top:0,left:0},o=n&&n.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,n)?(typeof n.getBoundingClientRect!==Se&&(i=n.getBoundingClientRect()),r=F(o),{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,r=this[0],n={top:0,left:0};return"fixed"===Q.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(n=e.offset()),n.top+=Q.css(e[0],"borderTopWidth",!0),n.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Q.css(r,"marginTop",!0),left:t.left-n.left-Q.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Bt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Bt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var n="pageYOffset"===r;Q.fn[t]=function(i){return me(this,function(t,i,o){var a=F(t);return void 0===o?a?a[r]:t[i]:void(a?a.scrollTo(n?e.pageXOffset:o,n?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=E(Z.pixelPosition,function(e,r){return r?(r=b(e,t),Ue.test(r)?Q(e).position()[t]+"px":r):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){Q.fn[n]=function(n,i){var o=arguments.length&&(r||"boolean"!=typeof n),a=r||(n===!0||i===!0?"margin":"border");return me(this,function(t,r,n){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?Q.css(t,r,a):Q.style(t,r,n,a)},t,o?n:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var qt=e.jQuery,It=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=It),t&&e.jQuery===Q&&(e.jQuery=qt),Q},typeof t===Se&&(e.jQuery=e.$=Q),Q});var cytoscape;!function(e){"use strict";var t=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};t.version="2.4.1",t.init=function(e){return void 0===e&&(e={}),t.is.plainObject(e)?new t.Core(e):t.is.string(e)?t.extension.apply(t.extension,arguments):void 0},t.fn={},"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape),"undefined"!=typeof define&&define.amd&&define("cytoscape",function(){return cytoscape}),e&&(e.cytoscape=cytoscape)}("undefined"==typeof window?null:window),this.cytoscape=cytoscape,function(e){"use strict";var t=0,r=1,n=2,i=function(e){return this instanceof i?(this.id="Thenable/1.0.7",this.state=t,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new i(e)};i.prototype={fulfill:function(e){return o(this,r,"fulfillValue",e)},reject:function(e){return o(this,n,"rejectReason",e)},then:function(e,t){var r=this,n=new i;return r.onFulfilled.push(u(e,n,"fulfill")),r.onRejected.push(u(t,n,"reject")),a(r),n.proxy}};var o=function(e,r,n,i){return e.state===t&&(e.state=r,e[n]=i,a(e)),e},a=function(e){e.state===r?s(e,"onFulfilled",e.fulfillValue):e.state===n&&s(e,"onRejected",e.rejectReason)},s=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(i):"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},u=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(o){return void t.reject(o)}l(t,i)}}},l=function(e,t){if(e===t||e.proxy===t)return void e.reject(new TypeError("cannot resolve promise with itself"));var r;if("object"==typeof t&&null!==t||"function"==typeof t)try{r=t.then}catch(n){return void e.reject(n)}if("function"!=typeof r)e.fulfill(t);else{var i=!1;try{r.call(t,function(r){i||(i=!0,r===t?e.reject(new TypeError("circular thenable chain")):l(e,r))},function(t){i||(i=!0,e.reject(t))})}catch(n){i||e.reject(n)}}};e.Promise="undefined"==typeof Promise?i:Promise,e.Promise.all=e.Promise.all||function(t){return new e.Promise(function(e,r){for(var n=new Array(t.length),i=0,o=function(r,o){n[r]=o,i++,i===t.length&&e(n)},a=0;a<t.length;a++)!function(e){var n=t[e],i=null!=n.then;if(i)n.then(function(t){o(e,t)},function(e){r(e)});else{var a=n;o(e,a)}}(a)})}}(cytoscape),function(e,t){"use strict";var r="string",n=typeof{},i="function";e.is={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==r},fn:function(e){return null!=e&&typeof e===i},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(t){return null!=t&&typeof t===n&&!e.is.array(t)&&t.constructor===Object},object:function(e){return null!=e&&typeof e===n},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(t){return e.is.number(t)&&Math.floor(t)===t},color:function(e){return null!=e&&"string"==typeof e&&""!==$.Color(e).toString()},bool:function(e){return null!=e&&typeof e==typeof!0},elementOrCollection:function(t){return e.is.element(t)||e.is.collection(t)},element:function(t){return t instanceof e.Element&&t._private.single},collection:function(t){return t instanceof e.Collection&&!t._private.single},core:function(t){return t instanceof e.Core},style:function(t){return t instanceof e.Style},stylesheet:function(t){return t instanceof e.Stylesheet},event:function(t){return t instanceof e.Event},thread:function(t){return t instanceof e.Thread},fabric:function(t){return t instanceof e.Fabric},emptyString:function(t){return t?e.is.string(t)&&(""===t||t.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(t){return t&&e.is.string(t)&&""!==t&&!t.match(/^\s+$/)?!0:!1},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(t){return e.is.plainObject(t)&&e.is.number(t.x1)&&e.is.number(t.x2)&&e.is.number(t.y1)&&e.is.number(t.y2)},promise:function(t){return e.is.object(t)&&e.is.fn(t.then)},touch:function(){return t&&("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return e.is.khtml()||e.is.webkit()||e.is.blink()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.util={extend:function(){var t,r,n,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||e.is.fn(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(t=arguments[u]))for(r in t)n=s[r],i=t[r],s!==i&&(c&&i&&(e.is.plainObject(i)||(o=e.is.array(i)))?(o?(o=!1,a=n&&e.is.array(n)?n:[]):a=n&&e.is.plainObject(n)?n:{},s[r]=e.util.extend(c,a,i)):void 0!==i&&(s[r]=i));return s},require:function(r,n,i){var o;i=e.util.extend({msgIfNotFound:!0},i);var a=!1,s=function(e){a=!0,n(e)},u=function(e){t&&(o=t[r]),void 0!==o&&s(o),e&&e()},l=function(){a||c(f)},c=function(e){"undefined"!=typeof module&&module.exports&&require&&(o=require(r)),void 0!==o&&s(o),e&&e()},f=function(){a||p(h)},p=function(e){"undefined"!=typeof define&&define.amd&&require&&require([r],function(t){o=t,void 0!==o&&s(o),e&&e()})},h=function(){!a&&i.msgIfNotFound&&e.util.error("Cytoscape.js tried to pull in dependency `"+r+"` but no module (i.e. CommonJS, AMD, or window) was found")};u(l)},requires:function(t,r){for(var n=[],i=[],o=function(){for(var e=0;e<t.length;e++)if(!i[e])return;r.apply(r,n)},a=0;a<t.length;a++)!function(){var r=t[a],s=a;e.util.require(r,function(e){n[s]=e,i[s]=!0,o()})}()},throttle:function(t,r,n){var i=!0,o=!0;return n===!1?i=!1:e.is.plainObject(n)&&(i="leading"in n?n.leading:i,o="trailing"in n?n.trailing:o),n=n||{},n.leading=i,n.maxWait=r,n.trailing=o,e.util.debounce(t,r,n)},now:function(){return+new Date},debounce:function(t,r,n){var i,o,a,s,u,l,c,f=0,p=!1,h=!0;if(e.is.fn(t)){if(r=Math.max(0,r)||0,n===!0){var d=!0;h=!1}else e.is.plainObject(n)&&(d=n.leading,p="maxWait"in n&&(Math.max(r,n.maxWait)||0),h="trailing"in n?n.trailing:h);var g=function(){var n=r-(e.util.now()-s);if(0>=n){o&&clearTimeout(o);var p=c;o=l=c=void 0,p&&(f=e.util.now(),a=t.apply(u,i),l||o||(i=u=null))}else l=setTimeout(g,n)},m=function(){l&&clearTimeout(l),o=l=c=void 0,(h||p!==r)&&(f=e.util.now(),a=t.apply(u,i),l||o||(i=u=null))};return function(){if(i=arguments,s=e.util.now(),u=this,c=h&&(l||!d),p===!1)var n=d&&!l;else{o||d||(f=s);var v=p-(s-f),y=0>=v;y?(o&&(o=clearTimeout(o)),f=s,a=t.apply(u,i)):o||(o=setTimeout(m,v))}return y&&l?l=clearTimeout(l):l||r===p||(l=setTimeout(g,r)),n&&(y=!0,a=t.apply(u,i)),!y||l||o||(i=u=null),a}}},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}},clone:function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},copy:function(t){return null==t?t:e.is.array(t)?t.slice():e.is.plainObject(t)?e.util.clone(t):t},makeBoundingBox:function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mapEmpty:function(e){var t=!0;if(null!=e)for(var r in e){t=!1;break}return t},pushMap:function(t){var r=e.util.getMap(t);null==r?e.util.setMap($.extend({},t,{value:[t.value]})):r.push(t.value)},setMap:function(t){for(var r,n=t.map,i=t.keys,o=i.length,a=0;o>a;a++){var r=i[a];e.is.plainObject(r)&&e.util.error("Tried to set map with object key"),a<i.length-1?(null==n[r]&&(n[r]={}),n=n[r]):n[r]=t.value}},getMap:function(t){for(var r=t.map,n=t.keys,i=n.length,o=0;i>o;o++){var a=n[o];if(e.is.plainObject(a)&&e.util.error("Tried to get map with object key"),r=r[a],null==r)return r}return r},deleteMap:function(t){for(var r=t.map,n=t.keys,i=n.length,o=t.keepChildren,a=0;i>a;a++){var s=n[a];e.is.plainObject(s)&&e.util.error("Tried to delete map with object key");var u=a===t.keys.length-1;if(u)if(o)for(var l in r)o[l]||(r[l]=void 0);else r[s]=void 0;else r=r[s]}},capitalize:function(t){return e.is.emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},camel2dash:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n.toLowerCase(),o=n!==i;o?(t.push("-"),t.push(i)):t.push(n)}var a=t.length===e.length;return a?e:t.join("")},dash2camel:function(e){for(var t=[],r=!1,n=0;n<e.length;n++){var i=e[n],o="-"===i;o?r=!0:(t.push(r?i.toUpperCase():i),r=!1)}return t.join("")},trim:function(e){var t,r;for(t=0;t<e.length&&" "===e[t];t++);for(r=e.length-1;r>t&&" "===e[r];r--);return e.substring(t,r+1)},hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=4===e.length,o=16;return i?(t=parseInt(e[1]+e[1],o),r=parseInt(e[2]+e[2],o),n=parseInt(e[3]+e[3],o)):(t=parseInt(e[1]+e[2],o),r=parseInt(e[3]+e[4],o),n=parseInt(e[5]+e[6],o)),[t,r,n]}},hsl2tuple:function(t){function r(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var n,i,o,a,s,u,l,c,f=new RegExp("^"+e.util.regex.hsla+"$").exec(t);if(f){if(i=parseInt(f[1]),0>i?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,o=parseFloat(f[2]),0>o||o>100)return;if(o/=100,a=parseFloat(f[3]),0>a||a>100)return;if(a/=100,s=f[4],void 0!==s&&(s=parseFloat(s),0>s||s>1))return;if(0===o)u=l=c=Math.round(255*a);else{var p=.5>a?a*(1+o):a+o-a*o,h=2*a-p;u=Math.round(255*r(h,p,i+1/3)),l=Math.round(255*r(h,p,i)),c=Math.round(255*r(h,p,i-1/3))}n=[u,l,c,s]}return n},rgb2tuple:function(t){var r,n=new RegExp("^"+e.util.regex.rgba+"$").exec(t);if(n){r=[];for(var i=[],o=1;3>=o;o++){var a=n[o];if("%"===a[a.length-1]&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),0>a||a>255)return;r.push(Math.floor(a))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=n[4];if(void 0!==l){if(l=parseFloat(l),0>l||l>1)return;r.push(l)}}return r},colorname2tuple:function(t){return e.util.colors[t.toLowerCase()]},color2tuple:function(t){return(e.is.array(t)?t:null)||e.util.colorname2tuple(t)||e.util.hex2tuple(t)||e.util.rgb2tuple(t)||e.util.hsl2tuple(t)},tuple2hex:function(e){function t(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}var r=e[0],n=e[1],i=e[2];return"#"+t(r)+t(n)+t(i)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],
darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},e.util.regex={},e.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",e.util.regex.rgba="rgb[a]?\\(("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hsla="hsl[a]?\\(("+e.util.regex.number+")\\s*,\\s*("+e.util.regex.number+"[%])\\s*,\\s*("+e.util.regex.number+"[%])(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+e.util.regex.number+")\\s*,\\s*(?:"+e.util.regex.number+"[%])\\s*,\\s*(?:"+e.util.regex.number+"[%])(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hex3="\\#[0-9a-fA-F]{3}",e.util.regex.hex6="\\#[0-9a-fA-F]{6}";var r=t?t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame:null;r=r||function(e){e&&setTimeout(e,1e3/60)},e.util.requestAnimationFrame=function(e){r(e)}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.math={},e.math.signum=function(e){return e>0?1:0>e?-1:0},e.math.distance=function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},e.math.qbezierAt=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},e.math.qbezierPtAt=function(t,r,n,i){return{x:e.math.qbezierAt(t.x,r.x,n.x,i),y:e.math.qbezierAt(t.y,r.y,n.y,i)}},e.math.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:t.y1>e.y2?!1:!0},e.math.inBoundingBox=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},e.math.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},e.math.roundRectangleIntersectLine=function(e,t,r,n,i,o,a){var s,u=this.getRoundRectangleRadius(i,o),l=i/2,c=o/2,f=r-l+u-a,p=n-c-a,h=r+l-u+a,d=p;if(s=this.finiteLinesIntersect(e,t,r,n,f,p,h,d,!1),s.length>0)return s;var g=r+l+a,m=n-c+u-a,v=g,y=n+c-u+a;if(s=this.finiteLinesIntersect(e,t,r,n,g,m,v,y,!1),s.length>0)return s;var x=r-l+u-a,w=n+c+a,b=r+l-u+a,E=w;if(s=this.finiteLinesIntersect(e,t,r,n,x,w,b,E,!1),s.length>0)return s;var _=r-l-a,N=n-c+u-a,S=_,T=n+c-u+a;if(s=this.finiteLinesIntersect(e,t,r,n,_,N,S,T,!1),s.length>0)return s;var C,M=r-l+u,A=n-c+u;if(C=this.intersectLineCircle(e,t,r,n,M,A,u+a),C.length>0&&C[0]<=M&&C[1]<=A)return[C[0],C[1]];var O=r+l-u,k=n-c+u;if(C=this.intersectLineCircle(e,t,r,n,O,k,u+a),C.length>0&&C[0]>=O&&C[1]<=k)return[C[0],C[1]];var P=r+l-u,D=n+c-u;if(C=this.intersectLineCircle(e,t,r,n,P,D,u+a),C.length>0&&C[0]>=P&&C[1]>=D)return[C[0],C[1]];var z=r-l+u,B=n+c-u;return C=this.intersectLineCircle(e,t,r,n,z,B,u+a),C.length>0&&C[0]<=z&&C[1]>=B?[C[0],C[1]]:[]},e.math.roundRectangleIntersectBox=function(e,t,r,n,i,o,a,s,u){var l=this.getRoundRectangleRadius(i,o),c=a-i/2-u,f=s-o/2+l-u,p=a+i/2+u,h=s+o/2-l+u,d=a-i/2+l-u,g=s-o/2-u,m=a+i/2-l+u,v=s+o/2+u,y=Math.min(e,r),x=Math.max(e,r),w=Math.min(t,n),b=Math.max(t,n);return c>x?!1:y>p?!1:g>b?!1:w>v?!1:c>=y&&x>=c&&f>=w&&b>=f?!0:p>=y&&x>=p&&f>=w&&b>=f?!0:p>=y&&x>=p&&h>=w&&b>=h?!0:c>=y&&x>=c&&h>=w&&b>=h?!0:y>=c&&p>=y&&w>=f&&h>=w?!0:x>=c&&p>=x&&w>=f&&h>=w?!0:x>=c&&p>=x&&b>=f&&h>=b?!0:y>=c&&p>=y&&b>=f&&h>=b?!0:d>=y&&x>=d&&g>=w&&b>=g?!0:m>=y&&x>=m&&g>=w&&b>=g?!0:m>=y&&x>=m&&v>=w&&b>=v?!0:d>=y&&x>=d&&v>=w&&b>=v?!0:y>=d&&m>=y&&w>=g&&v>=w?!0:x>=d&&m>=x&&w>=g&&v>=w?!0:x>=d&&m>=x&&b>=g&&v>=b?!0:y>=d&&m>=y&&b>=g&&v>=b?!0:this.boxIntersectEllipse(y,w,x,b,u,2*l,2*l,d+u,f+u)?!0:this.boxIntersectEllipse(y,w,x,b,u,2*l,2*l,m-u,f+u)?!0:this.boxIntersectEllipse(y,w,x,b,u,2*l,2*l,m-u,h-u)?!0:this.boxIntersectEllipse(y,w,x,b,u,2*l,2*l,d+u,h-u)?!0:!1},e.math.checkInBoundingCircle=function(e,t,r,n,i,o,a,s){return e=(e-a)/(i+n),t=(t-s)/(o+n),r>=e*e+t*t},e.math.boxInBezierVicinity=function(e,t,r,n,i,o,a,s,u,l,c){var f=.25*i+.5*a+.25*u,p=.25*o+.5*s+.25*l,h=Math.min(e,r)-c,d=Math.min(t,n)-c,g=Math.max(e,r)+c,m=Math.max(t,n)+c;if(i>=h&&g>=i&&o>=d&&m>=o)return 1;if(u>=h&&g>=u&&l>=d&&m>=l)return 1;if(f>=h&&g>=f&&p>=d&&m>=p)return 1;if(a>=h&&g>=a&&s>=d&&m>=s)return 1;var v=Math.min(i,f,u),y=Math.min(o,p,l),x=Math.max(i,f,u),w=Math.max(o,p,l);return v>g||h>x||y>m||d>w?0:1},e.math.checkBezierInBox=function(t,r,n,i,o,a,s,u,l,c,f){function p(f){var p=e.math.qbezierAt(o,s,l,f),h=e.math.qbezierAt(a,u,c,f);return p>=t&&n>=p&&h>=r&&i>=h}for(var h=0;1>=h;h+=.25)if(!p(h))return!1;return!0},e.math.checkStraightEdgeInBox=function(e,t,r,n,i,o,a,s,u){return i>=e&&r>=i&&a>=e&&r>=a&&o>=t&&n>=o&&s>=t&&n>=s},e.math.checkStraightEdgeCrossesBox=function(e,t,r,n,i,o,a,s,u){var l,c,f=Math.min(e,r)-u,p=Math.min(t,n)-u,h=Math.max(e,r)+u,d=Math.max(t,n)+u,g=a-i,m=i,v=s-o,y=o;if(Math.abs(g)<1e-4)return i>=f&&h>=i&&Math.min(o,s)<=p&&Math.max(o,s)>=d;var x=(f-m)/g;if(x>0&&1>=x&&(l=v*x+y,l>=p&&d>=l))return!0;var w=(h-m)/g;if(w>0&&1>=w&&(l=v*w+y,l>=p&&d>=l))return!0;var b=(p-y)/v;if(b>0&&1>=b&&(c=g*b+m,c>=f&&h>=c))return!0;var E=(d-y)/v;return E>0&&1>=E&&(c=g*E+m,c>=f&&h>=c)?!0:!1},e.math.checkBezierCrossesBox=function(e,t,r,n,i,o,a,s,u,l,c){var f=Math.min(e,r)-c,p=Math.min(t,n)-c,h=Math.max(e,r)+c,d=Math.max(t,n)+c;if(i>=f&&h>=i&&o>=p&&d>=o)return!0;if(u>=f&&h>=u&&l>=p&&d>=l)return!0;var g=i-2*a+u,m=-2*i+2*a,v=i,y=[];if(Math.abs(g)<1e-4){var x=(f-i)/m,w=(h-i)/m;y.push(x,w)}else{var b,E,_=m*m-4*g*(v-f);if(_>0){var N=Math.sqrt(_);b=(-m+N)/(2*g),E=(-m-N)/(2*g),y.push(b,E)}var S,T,C=m*m-4*g*(v-h);if(C>0){var N=Math.sqrt(C);S=(-m+N)/(2*g),T=(-m-N)/(2*g),y.push(S,T)}}y.sort(function(e,t){return e-t});var M=o-2*s+l,A=-2*o+2*s,O=o,k=[];if(Math.abs(M)<1e-4){var P=(p-o)/A,D=(d-o)/A;k.push(P,D)}else{var z,B,q=A*A-4*M*(O-p);if(q>0){var N=Math.sqrt(q);z=(-A+N)/(2*M),B=(-A-N)/(2*M),k.push(z,B)}var I,L,R=A*A-4*M*(O-d);if(R>0){var N=Math.sqrt(R);I=(-A+N)/(2*M),L=(-A-N)/(2*M),k.push(I,L)}}k.sort(function(e,t){return e-t});for(var j=0;j<y.length;j+=2)for(var F=1;F<k.length;F+=2)if(y[j]<k[F]&&k[F]>=0&&y[j]<=1&&y[j+1]>k[F-1]&&k[F-1]<=1&&y[j+1]>=0)return!0;return!1},e.math.inLineVicinity=function(e,t,r,n,i,o,a){var s=a,u=Math.min(r,i),l=Math.max(r,i),c=Math.min(n,o),f=Math.max(n,o);return e>=u-s&&l+s>=e&&t>=c-s&&f+s>=t},e.math.inBezierVicinity=function(e,t,r,n,i,o,a,s,u){var l={x1:Math.min(r,a,i),x2:Math.max(r,a,i),y1:Math.min(n,s,o),y2:Math.max(n,s,o)};return e<l.x1||e>l.x2||t<l.y1||t>l.y2?!1:!0},e.math.solveCubic=function(e,t,r,n,i){t/=e,r/=e,n/=e;var o,a,s,u,l,c,f,p;return a=(3*r-t*t)/9,s=-(27*n)+t*(9*r-2*t*t),s/=54,o=a*a*a+s*s,i[1]=0,f=t/3,o>0?(l=s+Math.sqrt(o),l=0>l?-Math.pow(-l,1/3):Math.pow(l,1/3),c=s-Math.sqrt(o),c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-f+l+c,f+=(l+c)/2,i[4]=i[2]=-f,f=Math.sqrt(3)*(-c+l)/2,i[3]=f,void(i[5]=-f)):(i[5]=i[3]=0,0===o?(p=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=-f+2*p,void(i[4]=i[2]=-(p+f))):(a=-a,u=a*a*a,u=Math.acos(s/Math.sqrt(u)),p=2*Math.sqrt(a),i[0]=-f+p*Math.cos(u/3),i[2]=-f+p*Math.cos((u+2*Math.PI)/3),void(i[4]=-f+p*Math.cos((u+4*Math.PI)/3))))},e.math.sqDistanceToQuadraticBezier=function(e,t,r,n,i,o,a,s){var u=1*r*r-4*r*i+2*r*a+4*i*i-4*i*a+a*a+n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s,l=9*r*i-3*r*r-3*r*a-6*i*i+3*i*a+9*n*o-3*n*n-3*n*s-6*o*o+3*o*s,c=3*r*r-6*r*i+r*a-r*e+2*i*i+2*i*e-a*e+3*n*n-6*n*o+n*s-n*t+2*o*o+2*o*t-s*t,f=1*r*i-r*r+r*e-i*e+n*o-n*n+n*t-o*t,p=[];this.solveCubic(u,l,c,f,p);for(var h=1e-7,d=[],g=0;6>g;g+=2)Math.abs(p[g+1])<h&&p[g]>=0&&p[g]<=1&&d.push(p[g]);d.push(1),d.push(0);for(var m,v,y,x,w=-1,b=0;b<d.length;b++)v=Math.pow(1-d[b],2)*r+2*(1-d[b])*d[b]*i+d[b]*d[b]*a,y=Math.pow(1-d[b],2)*n+2*(1-d[b])*d[b]*o+d[b]*d[b]*s,x=Math.pow(v-e,2)+Math.pow(y-t,2),w>=0?w>x&&(w=x,m=d[b]):(w=x,m=d[b]);return w},e.math.sqDistanceToFiniteLine=function(e,t,r,n,i,o){var a=[e-r,t-n],s=[i-r,o-n],u=s[0]*s[0]+s[1]*s[1],l=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],f=c*c/u;return 0>c?l:f>u?(e-i)*(e-i)+(t-o)*(t-o):l-f},e.math.pointInsidePolygon=function(e,t,r,n,i,o,a,s,u){var l=new Array(r.length),c=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2;for(var f=Math.cos(-c),p=Math.sin(-c),h=0;h<l.length/2;h++)l[2*h]=o/2*(r[2*h]*f-r[2*h+1]*p),l[2*h+1]=a/2*(r[2*h+1]*f+r[2*h]*p),l[2*h]+=n,l[2*h+1]+=i;var d;if(u>0){var g=this.expandPolygon(l,-u);d=this.joinLines(g)}else d=l;for(var m,v,y,x,w,b=0,E=0,h=0;h<d.length/2;h++)if(m=d[2*h],v=d[2*h+1],h+1<d.length/2?(y=d[2*(h+1)],x=d[2*(h+1)+1]):(y=d[2*(h+1-d.length/2)],x=d[2*(h+1-d.length/2)+1]),m==e&&y==e);else{if(!(m>=e&&e>=y||e>=m&&y>=e))continue;w=(e-m)/(y-m)*(x-v)+v,w>t&&b++,t>w&&E++}return b%2===0?!1:!0},e.math.joinLines=function(e){for(var t,r,n,i,o,a,s,u,l=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],r=e[4*c+1],n=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(o=e[4*(c+1)],a=e[4*(c+1)+1],s=e[4*(c+1)+2],u=e[4*(c+1)+3]):(o=e[0],a=e[1],s=e[2],u=e[3]);var f=this.finiteLinesIntersect(t,r,n,i,o,a,s,u,!0);l[2*c]=f[0],l[2*c+1]=f[1]}return l},e.math.expandPolygon=function(e,t){for(var r,n,i,o,a=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s],n=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],o=e[2*(s+1)+1]):(i=e[0],o=e[1]);var u=o-n,l=-(i-r),c=Math.sqrt(u*u+l*l),f=u/c,p=l/c;a[4*s]=r+f*t,a[4*s+1]=n+p*t,a[4*s+2]=i+f*t,a[4*s+3]=o+p*t}return a},e.math.intersectLineEllipse=function(e,t,r,n,i,o){var a=r-e,s=n-t;a/=i,s/=o;var u=Math.sqrt(a*a+s*s),l=u-1;if(0>l)return[];var c=l/u;return[(r-e)*c+e,(n-t)*c+t]},e.math.dotProduct=function(e,t){if(2!=e.length||2!=t.length)throw"dot product: arguments are not vectors";return e[0]*t[0]+e[1]*t[1]},e.math.intersectLineCircle=function(e,t,r,n,i,o,a){var s=[r-e,n-t],u=[i,o],l=[e-i,t-o],c=s[0]*s[0]+s[1]*s[1],f=2*(l[0]*s[0]+l[1]*s[1]),u=l[0]*l[0]+l[1]*l[1]-a*a,p=f*f-4*c*u;if(0>p)return[];var h=(-f+Math.sqrt(p))/(2*c),d=(-f-Math.sqrt(p))/(2*c),g=Math.min(h,d),m=Math.max(h,d),v=[];if(g>=0&&1>=g&&v.push(g),m>=0&&1>=m&&v.push(m),0===v.length)return[];var y=v[0]*s[0]+e,x=v[0]*s[1]+t;if(v.length>1){if(v[0]==v[1])return[y,x];var w=v[1]*s[0]+e,b=v[1]*s[1]+t;return[y,x,w,b]}return[y,x]},e.math.findCircleNearPoint=function(e,t,r,n,i){var o=n-e,a=i-t,s=Math.sqrt(o*o+a*a),u=o/s,l=a/s;return[e+u*r,t+l*r]},e.math.findMaxSqDistanceToOrigin=function(e){for(var t,r=1e-6,n=0;n<e.length/2;n++)t=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1],t>r&&(r=t);return r},e.math.finiteLinesIntersect=function(e,t,r,n,i,o,a,s,u){var l=(a-i)*(t-o)-(s-o)*(e-i),c=(r-e)*(t-o)-(n-t)*(e-i),f=(s-o)*(r-e)-(a-i)*(n-t);if(0!==f){var p=l/f,h=c/f;return p>=0&&1>=p&&h>=0&&1>=h?[e+p*(r-e),t+p*(n-t)]:u?[e+p*(r-e),t+p*(n-t)]:[]}return 0===l||0===c?[e,r,a].sort()[1]===a?[a,s]:[e,r,i].sort()[1]===i?[i,o]:[i,a,r].sort()[1]===r?[r,n]:[]:[]},e.math.boxIntersectEllipse=function(e,t,r,n,i,o,a,s,u){if(e>r){var l=e;e=r,r=l}if(t>n){var c=t;t=n,n=c}var f=[s-o/2-i,u],p=[s+o/2+i,u],h=[s,u-a/2-i],d=[s,u+a/2+i];return r<f[0]?!1:e>p[0]?!1:t>d[1]?!1:n<h[1]?!1:e<=p[0]&&p[0]<=r&&t<=p[1]&&p[1]<=n?!0:e<=f[0]&&f[0]<=r&&t<=f[1]&&f[1]<=n?!0:e<=h[0]&&h[0]<=r&&t<=h[1]&&h[1]<=n?!0:e<=d[0]&&d[0]<=r&&t<=d[1]&&d[1]<=n?!0:(e=(e-s)/(o/2+i),r=(r-s)/(o/2+i),t=(t-u)/(a/2+i),n=(n-u)/(a/2+i),1>=e*e+t*t?!0:1>=r*r+t*t?!0:1>=r*r+n*n?!0:1>=e*e+n*n?!0:!1)},e.math.boxIntersectPolygon=function(t,r,n,i,o,a,s,u,l,c,f){if(t>n){var p=t;t=n,n=p}if(r>i){var h=r;r=i,i=h}var d=new Array(o.length),g=Math.asin(c[1]/Math.sqrt(c[0]*c[0]+c[1]*c[1]));c[0]<0?g+=Math.PI/2:g=-g-Math.PI/2;for(var m=Math.cos(-g),v=Math.sin(-g),y=0;y<d.length/2;y++)d[2*y]=a/2*(o[2*y]*m-o[2*y+1]*v),d[2*y+1]=s/2*(o[2*y+1]*m+o[2*y]*v),d[2*y]+=u,d[2*y+1]+=l;for(var x=d[0],w=d[0],b=d[1],E=d[1],y=1;y<d.length/2;y++)d[2*y]>w&&(w=d[2*y]),d[2*y]<x&&(x=d[2*y]),d[2*y+1]>E&&(E=d[2*y+1]),d[2*y+1]<b&&(b=d[2*y+1]);if(x-f>n)return!1;if(t>w+f)return!1;if(b-f>i)return!1;if(r>E+f)return!1;var _;if(f>0){var N=e.math.expandPolygon(d,-f);_=e.math.joinLines(N)}else _=d;for(var y=0;y<d.length/2;y++)if(t<=d[2*y]&&d[2*y]<=n&&r<=d[2*y+1]&&d[2*y+1]<=i)return!0;for(var y=0;y<_.length/2;y++){var S,T,C=_[2*y],M=_[2*y+1];if(y<_.length/2-1?(S=_[2*(y+1)],T=_[2*(y+1)+1]):(S=_[0],T=_[1]),e.math.finiteLinesIntersect(C,M,S,T,t,r,n,r,!1).length>0)return!0;if(e.math.finiteLinesIntersect(C,M,S,T,t,i,n,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(C,M,S,T,t,r,t,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(C,M,S,T,n,r,n,i,!1).length>0)return!0}return!1},e.math.polygonIntersectLine=function(t,r,n,i,o,a,s,u){for(var l,c=[],f=new Array(n.length),p=0;p<f.length/2;p++)f[2*p]=n[2*p]*a+i,f[2*p+1]=n[2*p+1]*s+o;var h;if(u>0){var d=e.math.expandPolygon(f,-u);h=e.math.joinLines(d)}else h=f;for(var g,m,v,y,p=0;p<h.length/2;p++)g=h[2*p],m=h[2*p+1],p<h.length/2-1?(v=h[2*(p+1)],y=h[2*(p+1)+1]):(v=h[0],y=h[1]),l=this.finiteLinesIntersect(t,r,i,o,g,m,v,y),0!==l.length&&c.push(l[0],l[1]);return c},e.math.shortenIntersection=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(i-r)/i;return 0>o&&(o=1e-5),[t[0]+o*n[0],t[1]+o*n[1]]},e.math.generateUnitNgonPointsFitToSquare=function(t,r){var n=e.math.generateUnitNgonPoints(t,r);return n=e.math.fitPolygonToSquare(n)},e.math.fitPolygonToSquare=function(e){for(var t,r,n=e.length/2,i=1/0,o=1/0,a=-(1/0),s=-(1/0),u=0;n>u;u++)t=e[2*u],r=e[2*u+1],i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,r),s=Math.max(s,r);for(var l=2/(a-i),c=2/(s-o),u=0;n>u;u++)t=e[2*u]=e[2*u]*l,r=e[2*u+1]=e[2*u+1]*c,i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,r),s=Math.max(s,r);if(-1>o)for(var u=0;n>u;u++)r=e[2*u+1]=e[2*u+1]+(-1-o);return e},e.math.generateUnitNgonPoints=function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,o,a,s=new Array(2*e),u=0;e>u;u++)i=u*r+n,o=s[2*u]=Math.cos(i),a=s[2*u+1]=Math.sin(-i);return s},e.math.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)}}(cytoscape),function(e){"use strict";function t(t,r,n){var i={};switch(i[r]=n,t){case"core":case"collection":e.fn[t](i)}if("layout"===t){for(var a=n.prototype,s=["stop"],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this}),a.on=e.define.on({layout:!0}),a.one=e.define.on({layout:!0,unbindSelfOnTrigger:!0}),a.once=e.define.on({layout:!0,unbindAllBindersOnTrigger:!0}),a.off=e.define.off({layout:!0}),a.trigger=e.define.trigger({layout:!0}),e.define.eventAliasesOn(a)}return e.util.setMap({map:o,keys:[t,r],value:n})}function r(t,r){return e.util.getMap({map:o,keys:[t,r]})}function n(t,r,n,i,o){return e.util.setMap({map:a,keys:[t,r,n,i],value:o})}function i(t,r,n,i){return e.util.getMap({map:a,keys:[t,r,n,i]})}var o={};e.extensions=o;var a={};e.modules=a,e.extension=function(){return 2==arguments.length?r.apply(this,arguments):3==arguments.length?t.apply(this,arguments):4==arguments.length?i.apply(this,arguments):5==arguments.length?n.apply(this,arguments):void e.util.error("Invalid extension access syntax")}}(cytoscape),function(e,t){"use strict";if(e){var r=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t};e.fn.cytoscape=function(n){var i=e(this);if("get"===n)return r(i).cy;if(t.is.fn(n)){var o=n,a=r(i).cy;if(a&&a.isReady())a.trigger("ready",[],o);else{var s=r(i),u=s.readies=s.readies||[];u.push(o)}}else if(t.is.plainObject(n))return i.each(function(){var t=e.extend({},n,{container:e(this)[0]});cytoscape(t)})},e.cytoscape=cytoscape,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)}}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(e){"use strict";function t(){return!1}function r(){return!0}e.Event=function(n,i){return this instanceof e.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented?r:t):this.type=n,i&&(this.type=void 0!==i.type?i.type:this.type,this.cy=i.cy,this.cyTarget=i.cyTarget,this.cyPosition=i.cyPosition,this.cyRenderedPosition=i.cyRenderedPosition,this.namespace=i.namespace,this.layout=i.layout,this.data=i.data,this.message=i.message),void(this.timeStamp=n&&n.timeStamp||+new Date)):new e.Event(n,i)},e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t}}(cytoscape),function(e){"use strict";e.define={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};return t=e.util.extend({},r,t),function(r,n){var i=t,o=this,a=void 0!==o.length,s=a?o:[o],u=a?o[0]:o;if(e.is.string(r)){if(i.allowGetting&&void 0===n){var l;return u&&(l=u._private[i.field][r]),l}if(i.allowSetting&&void 0!==n){var c=!i.immutableKeys[r];if(c){for(var f=0,p=s.length;p>f;f++)i.canSet(s[f])&&(s[f]._private[i.field][r]=n);i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&e.is.plainObject(r)){var h,d,g=r;for(h in g){d=g[h];var c=!i.immutableKeys[h];if(c)for(var f=0,p=s.length;p>f;f++)i.canSet(s[f])&&(s[f]._private[i.field][h]=d)}i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&e.is.fn(r)){var m=r;o.bind(i.bindingEvent,m)}else if(i.allowGetting&&void 0===r){var l;return u&&(l=u._private[i.field]),l}return o}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=e.util.extend({},r,t),function(r){var n=t,i=this,o=void 0!==i.length,a=o?i:[i];if(e.is.string(r)){for(var s=r.split(/\s+/),u=s.length,l=0;u>l;l++){var c=s[l];if(!e.is.emptyString(c)){var f=!n.immutableKeys[c];if(f)for(var p=0,h=a.length;h>p;p++)a[p]._private[n.field][c]=void 0}}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(void 0===r){for(var p=0,h=a.length;h>p;p++){var d=a[p]._private[n.field];for(var c in d){var g=!n.immutableKeys[c];g&&(d[c]=void 0)}}n.triggerEvent&&i[n.triggerFnName](n.event)}return i}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(t){var r={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return t=e.util.extend({},r,t),function(r,n,i,o){var a=this,s=void 0!==a.length,u=s?a:[a],l=e.is.string(r),c=t;if(e.is.plainObject(n)?(o=i,i=n,n=void 0):(e.is.fn(n)||n===!1)&&(o=n,i=void 0,n=void 0),(e.is.fn(i)||i===!1)&&(o=i,i=void 0),!e.is.fn(o)&&o!==!1&&l)return a;if(l){var f={};f[r]=o,r=f}for(var p in r)if(o=r[p],o===!1&&(o=e.define.event.falseCallback),e.is.fn(o)){p=p.split(/\s+/);for(var h=0;h<p.length;h++){var d=p[h];if(!e.is.emptyString(d)){var g=d.match(e.define.event.regex);if(g)for(var m=g[1],v=g[2]?g[2]:void 0,y={callback:o,data:i,delegated:n?!0:!1,selector:n,selObj:new e.Selector(n),type:m,namespace:v,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:u},x=0;x<u.length;x++){var w=u[x]._private;w.listeners=w.listeners||[],w.listeners.push(y)}}}}return a}},eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.removeListener=r.unlisten=r.unbind=r.off,r.emit=r.trigger,r.pon=r.promiseOn=function(t,r){var n=this,i=Array.prototype.slice.call(arguments,0);return new e.Promise(function(e,t){var r=function(t){n.off.apply(n,a),e(t)},o=i.concat([r]),a=o.concat([]);n.on.apply(n,o)})}},off:function(t){var r={};return t=e.util.extend({},r,t),function(t,r,n){var i=this,o=void 0!==i.length,a=o?i:[i],s=e.is.string(t);if(0===arguments.length){for(var u=0;u<a.length;u++)a[u]._private.listeners=[];return i}if((e.is.fn(r)||r===!1)&&(n=r,r=void 0),s){var l={};l[t]=n,t=l}for(var c in t){n=t[c],n===!1&&(n=e.define.event.falseCallback),c=c.split(/\s+/);for(var f=0;f<c.length;f++){var p=c[f];if(!e.is.emptyString(p)){var h=p.match(e.define.event.optionalTypeRegex);if(h)for(var d=h[1]?h[1]:void 0,g=h[2]?h[2]:void 0,u=0;u<a.length;u++)for(var m=a[u]._private.listeners=a[u]._private.listeners||[],v=0;v<m.length;v++){var y=m[v],x=!g||g===y.namespace,w=!d||y.type===d,b=!n||n===y.callback,E=x&&w&&b;E&&(m.splice(v,1),v--)}}}}return i}},trigger:function(t){var r={};return t=e.util.extend({},r,t),function(r,n,i){var o=this,a=void 0!==o.length,s=a?o:[o],u=e.is.string(r),l=e.is.plainObject(r),c=e.is.event(r),f=this._private.cy||(e.is.core(this)?this:null),p=f?f.hasCompoundNodes():!1;if(u){var h=r.split(/\s+/);r=[];for(var d=0;d<h.length;d++){var g=h[d];if(!e.is.emptyString(g)){var m=g.match(e.define.event.regex),v=m[1],y=m[2]?m[2]:void 0;r.push({type:v,namespace:y})}}}else if(l){var x=r;r=[x]}n?e.is.array(n)||(n=[n]):n=[];for(var d=0;d<r.length;d++)for(var w=r[d],b=0;b<s.length;b++){var g,E=s[b],_=E._private.listeners=E._private.listeners||[],N=e.is.element(E),S=N||t.layout;if(c?(g=w,g.cyTarget=g.cyTarget||E,g.cy=g.cy||f):g=new e.Event(w,{cyTarget:E,cy:f,namespace:w.namespace}),w.layout&&(g.layout=w.layout),t.layout&&(g.layout=E),g.cyPosition){var T=g.cyPosition,C=f.zoom(),M=f.pan();g.cyRenderedPosition={x:T.x*C+M.x,y:T.y*C+M.y}}i&&(_=[{namespace:g.namespace,type:g.type,callback:i}]);for(var A=0;A<_.length;A++){var O=_[A],k=!O.namespace||O.namespace===g.namespace,P=O.type===g.type,D=O.delegated?E!==g.cyTarget&&e.is.element(g.cyTarget)&&O.selObj.matches(g.cyTarget):!0,z=k&&P&&D;if(z){var B=[g];if(B=B.concat(n),g.data=O.data?O.data:void 0,(O.unbindSelfOnTrigger||O.unbindAllBindersOnTrigger)&&(_.splice(A,1),A--),O.unbindAllBindersOnTrigger)for(var q=O.binders,I=0;I<q.length;I++){var L=q[I];if(L&&L!==E)for(var R=L._private.listeners,j=0;j<R.length;j++){var F=R[j];F===O&&(R.splice(j,1),j--)}}var U=O.delegated?g.cyTarget:E,$=O.callback.apply(U,B);($===!1||g.isPropagationStopped())&&(S=!1,$===!1&&(g.stopPropagation(),g.preventDefault()))}}if(S){var V=p?E._private.parent:null,H=null!=V&&0!==V.length;H?(V=V[0],V.trigger(g)):f.trigger(g)}}return o}},animated:function(t){var r={};return t=e.util.extend({},r,t),function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(t){var r={};return t=e.util.extend({},r,t),function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var o=r[i];o._private.animation.queue=[]}return this}},delay:function(t){var r={};return t=e.util.extend({},r,t),function(e,t){var r=this._private.cy||this;return r.styleEnabled()?(this.animate({delay:e},{duration:e,complete:t}),this):this}},animate:function(t){var r={};return t=e.util.extend({},r,t),function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],o=this._private.cy||this,a=!n,s=!a;if(!o.styleEnabled())return this;var u,l=+new Date,c=o.style();switch(void 0===t&&(t={}),void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}var f=!0;if(e)for(var p in e){f=!1;break}if(f)return this;if(e.css&&s&&(e.css=c.getValueStyle(e.css,{array:!0})),e.renderedPosition&&s){var h=e.renderedPosition,d=o.pan(),g=o.zoom();e.position={x:(h.x-d.x)/g,y:(h.y-d.y)/g}}if(e.panBy&&a){var m=e.panBy,v=o.pan();e.pan={x:v.x+m.x,y:v.y+m.y}}var y=e.center||e.centre;if(y&&a){var x=o.getCenterPan(y.eles,e.zoom);x&&(e.pan=x)}if(e.fit&&a){var w=e.fit,b=o.getFitViewport(w.eles||w.boundingBox,w.padding);b&&(e.pan=b.pan,e.zoom=b.zoom)}for(var p=0;p<i.length;p++){var E=i[p];u=E.animated()&&(void 0===t.queue||t.queue)?E._private.animation.queue:E._private.animation.current,u.push({properties:e,duration:t.duration,params:t,callTime:l})}return s&&o.addToAnimationPool(this),this}},stop:function(t){var r={};return t=e.util.extend({},r,t),function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){for(var s=i[a],u=s._private.animation.current,l=0;l<u.length;l++){var c=u[l];t&&(c.duration=0)}e&&(s._private.animation.queue=[]),t||(s._private.animation.current=[])}return o.notify({collection:this,type:"draw"}),this}}}}(cytoscape),function(e){"use strict";e.fn.selector=function(t,r){for(var n in t){var i=t[n];e.Selector.prototype[n]=i}},e.Selector=function(t,r){if(!(this instanceof e.Selector))return new e.Selector(t,r);void 0===r&&void 0!==t&&(r=t,t=void 0);var n=this;if(n._private={selectorText:null,invalid:!0},!r||e.is.string(r)&&r.match(/^\s*$/))null==t?n.length=0:(n[0]=a(),n[0].group=t,n.length=1);else if(e.is.element(r)){var i=new e.Collection(n.cy(),[r]);n[0]=a(),n[0].collection=i,n.length=1}else if(e.is.collection(r))n[0]=a(),n[0].collection=r,n.length=1;else if(e.is.fn(r))n[0]=a(),n[0].filter=r,n.length=1;else{if(!e.is.string(r))return void e.util.error("A selector must be created from a string; found "+r);var o=null,a=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:e.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+",s.value=s.string+"|"+s.number,s.className=s.variable,s.id=s.variable;for(var u=function(e){return e.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(e,t,r,n){return t})},l=s.comparatorOp.split("|"),c=0;c<l.length;c++){var f=l[c];s.comparatorOp+="|@"+f}for(var l=s.comparatorOp.split("|"),c=0;c<l.length;c++){var f=l[c];f.indexOf("!")>=0||"="!==f&&(s.comparatorOp+="|\\!"+f)}var p={group:{query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},id:{query:!0,regex:"\\#("+s.id+")",populate:function(e){this.ids.push(u(e))}},className:{query:!0,regex:"\\.("+s.className+")",populate:function(e){this.classes.push(u(e))}},dataExists:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(e){this.data.push({field:u(e)})}},dataCompare:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(e,t,r){var n=null!=new RegExp("^"+s.string+"$").exec(r);r=n?r.substring(1,r.length-1):parseFloat(r),this.data.push({field:u(e),operator:t,value:r})}},dataBool:{query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:u(t),operator:e})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(e,t,r){this.meta.push({field:u(e),operator:t,value:parseFloat(r)})}},nextQuery:{separator:!0,regex:s.separator,populate:function(){n[++c]=a(),o=null}},child:{separator:!0,regex:s.child,populate:function(){var e=a();e.parent=this,e.subject=o,n[c]=e}},descendant:{separator:!0,regex:s.descendant,populate:function(){var e=a();e.ancestor=this,e.subject=o,n[c]=e}},subject:{modifier:!0,regex:s.subject,populate:function(){return null!=o&&this.subject!=this?(e.util.error("Redefinition of subject in selector `"+r+"`"),!1):(o=this,void(this.subject=this))}}},h=0;for(var d in p)p[h]=p[d],p[h].name=d,h++;p.length=h,n._private.selectorText=r;var g=r,c=0,m=function(t){for(var r,n,i,o=0;o<p.length;o++){var a=p[o],s=a.name;if(!e.is.fn(t)||t(s,a)){var u=g.match(new RegExp("^"+a.regex));if(null!=u){n=u,r=a,i=s;var l=u[0];g=g.substring(l.length);break}}}return{expr:r,match:n,name:i}},v=function(){var e=g.match(/^\s+/);if(e){var t=e[0];g=g.substring(t.length)}};for(n[0]=a(),v();;){var y=m();if(null==y.expr)return void e.util.error("The selector `"+r+"`is invalid");for(var x=[],h=1;h<y.match.length;h++)x.push(y.match[h]);var w=y.expr.populate.apply(n[c],x);if(w===!1)return;if(g.match(/^\s*$/))break}for(n.length=c+1,h=0;h<n.length;h++){var b=n[h];if(null!=b.subject){for(;b.subject!=b;)if(null!=b.parent){var E=b.parent,_=b;_.parent=null,E.child=_,b=E}else{if(null==b.ancestor){e.util.error("When adjusting references for the selector `"+b+"`, neither parent nor ancestor was found");break}var N=b.ancestor,S=b;S.ancestor=null,N.descendant=S,b=N}n[h]=b.subject}}if(null!=t)for(var h=0;h<n.length;h++){if(null!=n[h].group&&n[h].group!=t)return void e.util.error("Group `"+n[h].group+"` conflicts with implicit group `"+t+"` in selector `"+r+"`");n[h].group=t}}n._private.invalid=!1},e.selfn=e.Selector.prototype,e.selfn.size=function(){return this.length},e.selfn.eq=function(e){return this[e]},e.selfn.find=function(){};var t=function(r,n){if(null!=r.group&&"*"!=r.group&&r.group!=n._private.group)return!1;for(var i=n.cy(),o=!0,a=0;a<r.colonSelectors.length;a++){var s=r.colonSelectors[a];switch(s){case":selected":o=n.selected();break;case":unselected":o=!n.selected();break;case":selectable":o=n.selectable();break;case":unselectable":o=!n.selectable();break;case":locked":o=n.locked();

break;case":unlocked":o=!n.locked();break;case":visible":o=n.visible();break;case":hidden":o=!n.visible();break;case":transparent":o=n.transparent();break;case":grabbed":o=n.grabbed();break;case":free":o=!n.grabbed();break;case":removed":o=n.removed();break;case":inside":o=!n.removed();break;case":grabbable":o=n.grabbable();break;case":ungrabbable":o=!n.grabbable();break;case":animated":o=n.animated();break;case":unanimated":o=!n.animated();break;case":parent":o=n.isNode()&&n.children().nonempty();break;case":child":case":nonorphan":o=n.isNode()&&n.parent().nonempty();break;case":orphan":o=n.isNode()&&n.parent().empty();break;case":loop":o=n.isEdge()&&n.data("source")===n.data("target");break;case":simple":o=n.isEdge()&&n.data("source")!==n.data("target");break;case":active":o=n.active();break;case":inactive":o=!n.active();break;case":touch":o=e.is.touch();break;case":backgrounding":o=n.backgrounding();break;case":nonbackgrounding":o=!n.backgrounding()}if(!o)break}if(!o)return!1;for(var u=!0,a=0;a<r.ids.length;a++){var l=r.ids[a],c=n._private.data.id;if(u=u&&l==c,!u)break}if(!u)return!1;for(var f=!0,a=0;a<r.classes.length;a++){var p=r.classes[a];if(f=f&&n.hasClass(p),!f)break}if(!f)return!1;var h=function(t){for(var n=!0,i=0;i<r[t.name].length;i++){var o,a=r[t.name][i],s=a.operator,u=a.value,l=a.field;if(null!=s&&null!=u){var c=t.fieldValue(l),f=e.is.string(c)||e.is.number(c)?""+c:"",p=""+u,h=!1;s.indexOf("@")>=0&&(f=f.toLowerCase(),p=p.toLowerCase(),s=s.replace("@",""),h=!0);var d=!1,g=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),d=!0),h&&(u=p.toLowerCase(),c=f.toLowerCase()),s){case"*=":o=f.search(p)>=0;break;case"$=":o=null!=new RegExp(p+"$").exec(f);break;case"^=":o=null!=new RegExp("^"+p).exec(f);break;case"=":o=c===u;break;case"!=":o=c!==u;break;case">":o=d?u>=c:c>u,g=!0;break;case">=":o=d?u>c:c>=u,g=!0;break;case"<":o=d?c>=u:u>c,g=!0;break;case"<=":o=d?c>u:u>=c,g=!0;break;default:o=!1}}else if(null!=s)switch(s){case"?":o=t.fieldTruthy(l);break;case"!":o=!t.fieldTruthy(l);break;case"^":o=t.fieldUndefined(l)}else o=!t.fieldUndefined(l);if(d&&!g&&(o=!o,g=!0),!o){n=!1;break}}return n},d=h({name:"data",fieldValue:function(e){return n._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===n._private.data[e]},fieldTruthy:function(e){return n._private.data[e]?!0:!1}});if(!d)return!1;var g=h({name:"meta",fieldValue:function(e){return n[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==n[e]()},fieldTruthy:function(e){return n[e]()?!0:!1}});if(!g)return!1;if(null!=r.collection){var m=null!=r.collection._private.ids[n.id()];if(!m)return!1}if(null!=r.filter&&0===n.collection().filter(r.filter).size())return!1;var v=function(e,r){if(null!=e){var n=!1;if(!i.hasCompoundNodes())return!1;r=r();for(var o=0;o<r.length;o++)if(t(e,r[o])){n=!0;break}return n}return!0};return v(r.parent,function(){return n.parent()})&&v(r.ancestor,function(){return n.parents()})&&v(r.child,function(){return n.children()})&&v(r.descendant,function(){return n.descendants()})?!0:!1};e.selfn.filter=function(r){var n=this,i=r.cy();if(n._private.invalid)return new e.Collection(i);var o=function(e,r){for(var i=0;i<n.length;i++){var o=n[i];if(t(o,r))return!0}return!1};null==n._private.selectorText&&(o=function(){return!0});var a=r.filter(o);return a},e.selfn.matches=function(e){var r=this;if(r._private.invalid)return!1;for(var n=0;n<r.length;n++){var i=r[n];if(t(i,e))return!0}return!1},e.selfn.toString=e.selfn.selector=function(){for(var t="",r=function(t,r){return e.is.string(t)?r?'"'+t+'"':t:""},n=function(e){var t="";e.subject===e&&(t+="$");var o=r(e.group);t+=o.substring(0,o.length-1);for(var a=0;a<e.data.length;a++){var s=e.data[a];t+=s.value?"["+s.field+r(s.operator)+r(s.value,!0)+"]":"["+r(s.operator)+s.field+"]"}for(var a=0;a<e.meta.length;a++){var u=e.meta[a];t+="[["+u.field+r(u.operator)+r(u.value,!0)+"]]"}for(var a=0;a<e.colonSelectors.length;a++){var l=e.colonSelectors[i];t+=l}for(var a=0;a<e.ids.length;a++){var l="#"+e.ids[i];t+=l}for(var a=0;a<e.classes.length;a++){var l="."+e.classes[i];t+=l}return null!=e.parent&&(t=n(e.parent)+" > "+t),null!=e.ancestor&&(t=n(e.ancestor)+" "+t),null!=e.child&&(t+=" > "+n(e.child)),null!=e.descendant&&(t+=" "+n(e.descendant)),t},i=0;i<this.length;i++){var o=this[i];t+=n(o),this.length>1&&i<this.length-1&&(t+=", ")}return t}}(cytoscape),function(e){"use strict";e.Style=function(t){return this instanceof e.Style?e.is.core(t)?(this._private={cy:t,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void e.util.error("A style must have a core reference"):new e.Style(t)},e.style=e.Style,e.styfn=e.Style.prototype,e.fn.style=function(t,r){for(var n in t){var i=t[n];e.Style.prototype=i}},function(){var t=e.util.regex.number,r=e.util.regex.rgbaNoBackRefs,n=e.util.regex.hslaNoBackRefs,i=e.util.regex.hex3,o=e.util.regex.hex6,a=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(e){return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+t+"|\\w+|"+r+"|"+n+"|"+i+"|"+o+")\\s*\\,\\s*("+t+"|\\w+|"+r+"|"+n+"|"+i+"|"+o+")\\)$"};e.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var u=e.style.types,l=e.style.properties=[{name:"text-valign",type:u.valign},{name:"text-halign",type:u.halign},{name:"color",type:u.color},{name:"content",type:u.text},{name:"text-outline-color",type:u.color},{name:"text-outline-width",type:u.size},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size},{name:"text-border-style",type:u.borderStyle},{name:"text-background-shape",type:u.textBackgroundShape},{name:"text-transform",type:u.textTransform},{name:"text-wrap",type:u.textWrap},{name:"text-max-width",type:u.size},{name:"font-family",type:u.fontFamily},{name:"font-style",type:u.fontStyle},{name:"font-weight",type:u.fontWeight},{name:"font-size",type:u.size},{name:"min-zoomed-font-size",type:u.size},{name:"edge-text-rotation",type:u.textRotation},{name:"display",type:u.display},{name:"visibility",type:u.visibility},{name:"opacity",type:u.zeroOneNumber},{name:"z-index",type:u.nonNegativeInt},{name:"overlay-padding",type:u.size},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber},{name:"shadow-blur",type:u.size},{name:"shadow-color",type:u.color},{name:"shadow-opacity",type:u.zeroOneNumber},{name:"shadow-offset-x",type:u.number},{name:"shadow-offset-y",type:u.number},{name:"text-shadow-blur",type:u.size},{name:"text-shadow-color",type:u.color},{name:"text-shadow-opacity",type:u.zeroOneNumber},{name:"text-shadow-offset-x",type:u.number},{name:"text-shadow-offset-y",type:u.number},{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"height",type:u.autoSize},{name:"width",type:u.autoSize},{name:"shape",type:u.nodeShape},{name:"background-color",type:u.color},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size},{name:"border-style",type:u.borderStyle},{name:"background-image",type:u.url},{name:"background-image-opacity",type:u.zeroOneNumber},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"padding-left",type:u.size},{name:"padding-right",type:u.size},{name:"padding-top",type:u.size},{name:"padding-bottom",type:u.size},{name:"position",type:u.position},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels},{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"control-point-step-size",type:u.size},{name:"control-point-distance",type:u.number},{name:"control-point-weight",type:u.zeroOneNumber},{name:"curve-style",type:u.curveStyle},{name:"haystack-radius",type:u.zeroOneNumber},{name:"source-arrow-shape",type:u.arrowShape},{name:"target-arrow-shape",type:u.arrowShape},{name:"mid-source-arrow-shape",type:u.arrowShape},{name:"mid-target-arrow-shape",type:u.arrowShape},{name:"source-arrow-color",type:u.color},{name:"target-arrow-color",type:u.color},{name:"mid-source-arrow-color",type:u.color},{name:"mid-target-arrow-color",type:u.color},{name:"source-arrow-fill",type:u.arrowFill},{name:"target-arrow-fill",type:u.arrowFill},{name:"mid-source-arrow-fill",type:u.arrowFill},{name:"mid-target-arrow-fill",type:u.arrowFill},{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}];e.style.pieBackgroundN=16,l.push({name:"pie-size",type:u.bgSize});for(var c=1;c<=e.style.pieBackgroundN;c++)l.push({name:"pie-"+c+"-background-color",type:u.color}),l.push({name:"pie-"+c+"-background-size",type:u.percent}),l.push({name:"pie-"+c+"-background-opacity",type:u.zeroOneNumber});for(var c=0;c<l.length;c++){var f=l[c];l[f.name]=f}}(),e.styfn.addDefaultStylesheet=function(){var t="Helvetica",r="normal",n="normal",i="#000",o="none",a=16,s=9999;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:i,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":o,"text-wrap":"none","text-max-width":s,"text-background-color":"none","text-background-opacity":1,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":t,"font-style":r,"font-weight":n,"font-size":a,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":e.is.touch()?40:15,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.styfn.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},e.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},e.styfn.core=function(){return this._private.coreStyle},e.styfn.parse=function(t,r,n,i){t=e.util.camel2dash(t);var o=e.style.properties[t],a=r,s=e.style.types;if(!o)return null;if(void 0===r||null===r)return null;var u=e.is.string(r);u&&(r=e.util.trim(r));var l=o.type;if(!l)return null;if(n&&(""===r||null===r))return{name:t,value:r,bypass:!0,deleteBypass:!0};var c=t.match(/pie-(\d+)-background-size/);if(e.is.fn(r))return{name:t,value:r,strValue:"fn",mapped:s.fn,bypass:n,hasPie:c};var f,p,h,d,g,m;if(!u||i);else{if((f=new RegExp(s.data.regex).exec(r))||(h=new RegExp(s.layoutData.regex).exec(r))||(g=new RegExp(s.scratch.regex).exec(r))){if(n)return!1;var v;return v=f?s.data:h?s.layoutData:s.scratch,f=f||h||g,{name:t,value:f,strValue:""+r,mapped:v,field:f[1],bypass:n,hasPie:c}}if((p=new RegExp(s.mapData.regex).exec(r))||(d=new RegExp(s.mapLayoutData.regex).exec(r))||(m=new RegExp(s.mapScratch.regex).exec(r))){if(n)return!1;var v;if(v=p?s.mapData:d?s.mapLayoutData:s.mapScratch,p=p||d||m,!l.color&&!l.number)return!1;var y=this.parse(t,p[4]);if(!y||y.mapped)return!1;var x=this.parse(t,p[5]);if(!x||x.mapped)return!1;if(y.value===x.value)return!1;if(l.color){var w=y.value,b=x.value,E=!(w[0]!==b[0]||w[1]!==b[1]||w[2]!==b[2]||w[3]!==b[3]&&(null!=w[3]&&1!==w[3]||null!=b[3]&&1!==b[3]));if(E)return!1}return{name:t,value:p,strValue:""+r,mapped:v,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:y.value,valueMax:x.value,bypass:n,hasPie:c}}}if(l.number){var _,N="px";if(l.units&&(_=l.units),l.implicitUnits&&(N=l.implicitUnits),!l.unitless)if(u){var S="px|em"+(l.allowPercent?"|\\%":"");_&&(S=_);var T=r.match("^("+e.util.regex.number+")("+S+")?$");T&&(r=T[1],_=T[2]||N)}else(!_||l.implicitUnits)&&(_=N);if(r=parseFloat(r),isNaN(r)&&void 0===l.enums)return null;if(isNaN(r)&&void 0!==l.enums){r=a;for(var C=0;C<l.enums.length;C++){var M=l.enums[C];if(M===r)return{name:t,value:r,strValue:""+r,bypass:n}}return null}if(l.integer&&!e.is.integer(r))return null;if(void 0!==l.min&&r<l.min||void 0!==l.max&&r>l.max)return null;var A={name:t,value:r,strValue:""+r+(_?_:""),units:_,bypass:n,hasPie:c&&null!=r&&0!==r&&""!==r};return l.unitless||"px"!==_&&"em"!==_||(A.pxValue="px"!==_&&_?this.getEmSizeInPixels()*r:r),("ms"===_||"s"===_)&&(A.msValue="ms"===_?r:1e3*r),A}if(l.propList){var O=[],k=""+r;if("none"===k);else{for(var P=k.split(","),C=0;C<P.length;C++){var D=e.util.trim(P[C]);e.style.properties[D]&&O.push(D)}if(0===O.length)return null}return{name:t,value:O,strValue:0===O.length?"none":O.join(", "),bypass:n}}if(l.color){var z=e.util.color2tuple(r);return z?{name:t,value:z,strValue:""+r,bypass:n}:null}if(l.enums){for(var C=0;C<l.enums.length;C++){var M=l.enums[C];if(M===r)return{name:t,value:r,strValue:""+r,bypass:n}}return null}if(l.regex){var B=new RegExp(l.regex),q=B.exec(r);return q?{name:t,value:q,strValue:""+r,bypass:n}:null}return l.string?{name:t,value:r,strValue:""+r,bypass:n}:null},e.styfn.selector=function(t){var r="core"===t?null:new e.Selector(t),n=this.length++;return this[n]={selector:r,properties:[],mappedProperties:[],index:n},this},e.styfn.css=function(){var t=arguments;switch(t.length){case 1:for(var r=t[0],n=0;n<e.style.properties.length;n++){var i=e.style.properties[n],o=r[i.name];void 0===o&&(o=r[e.util.dash2camel(i.name)]),void 0!==o&&this.cssRule(i.name,o)}break;case 2:this.cssRule(t[0],t[1])}return this},e.styfn.style=e.styfn.css,e.styfn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.hasPie&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this}}(cytoscape),function(e){"use strict";e.styfn.apply=function(e){var t=this;t._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var r=0;r<e.length;r++){var n=e[r],i=t.getContextMeta(n),o=t.getContextStyle(i),a=t.applyContextStyle(i,o,n);t.updateTransitions(n,a.diffProps),t.updateStyleHints(n)}t._private.newStyle=!1},e.styfn.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,o=n[i];if(o)return o;for(var a=[],s={},u=0;u<r.length;u++){var l=r[u],c="t"===e[u],f="t"===t[u],p=c!==f,h=l.mappedProperties.length>0;if(p||h){var d;p&&h?d=l.properties:p?d=l.properties:h&&(d=l.mappedProperties);for(var g=0;g<d.length;g++){for(var m=d[g],v=m.name,y=!1,x=u+1;x<r.length;x++){var w=r[x],b="t"===t[x];if(b&&(y=null!=w.properties[m.name]))break}s[v]||y||(s[v]=!0,a.push(v))}}}return n[i]=a,a},e.styfn.getContextMeta=function(e){var t,r=this,n="",i=e._private.styleCxtKey||"";r._private.newStyle&&(i="");for(var o=0;o<r.length;o++){var a=r[o],s=a.selector&&a.selector.matches(e);n+=s?"t":"f"}return t=r.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t}},e.styfn.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},o=0;o<r.length;o++){var a=r[o],s="t"===t[o];if(s)for(var u=0;u<a.properties.length;u++){var l=a.properties[u],c=i[l.name]=l;c.context=a}}return n[t]=i,i},e.styfn.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,o={},a=0;a<i.length;a++){var s=i[a],u=t[s],l=r._private.style[s];if(u&&l!==u){var c=o[s]={prev:l};n.applyParsedProperty(r,u),c.next=r._private.style[s],c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:o}},e.styfn.updateStyleHints=function(t){var r=t._private,n=this,i=r.style,o=!1;if("nodes"===r.group&&n._private.hasPie)for(var a=1;a<=e.style.pieBackgroundN;a++){var s=r.style["pie-"+a+"-background-size"].value;if(s>0){o=!0;break}}r.hasPie=o;var u=i["text-transform"].strValue,l=i.content.strValue,c=i["font-style"].strValue,s=i["font-size"].pxValue+"px",f=i["font-family"].strValue,p=i["font-weight"].strValue,h=i["text-valign"].strValue,d=i["text-valign"].strValue,g=i["text-outline-width"].pxValue,m=i["text-wrap"].strValue,v=i["text-max-width"].pxValue;r.labelKey=c+"$"+s+"$"+f+"$"+p+"$"+l+"$"+u+"$"+h+"$"+d+"$"+g+"$"+m+"$"+v,r.fontKey=c+"$"+p+"$"+s+"$"+f;var y=i.width.pxValue,x=i.height.pxValue,w=i["border-width"].pxValue;if(r.boundingBoxKey=y+"$"+x+"$"+w,"edges"===t._private.group){var b=i["control-point-step-size"].pxValue,E=i["control-point-distance"]?i["control-point-distance"].pxValue:void 0,_=i["control-point-weight"].value,N=i["curve-style"].strValue;r.boundingBoxKey+="$"+b+"$"+E+"$"+_+"$"+N}r.styleKey=Date.now()},e.styfn.applyParsedProperty=function(t,r){var n,i,o=r,a=t._private.style,s=e.style.types,u=e.style.properties[o.name].type,l=o.bypass,c=a[o.name],f=c&&c.bypass,p=t._private;if(("height"===r.name||"width"===r.name)&&t.isNode()){if("auto"===r.value&&!t.isParent())return!1;"auto"!==r.value&&t.isParent()&&(o=r=this.parse(r.name,"auto",l))}if(l&&o.deleteBypass){var h=a[o.name];return h?h.bypass&&h.bypassed?(a[o.name]=h.bypassed,!0):!1:!0}var d=function(){e.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case s.mapData:case s.mapLayoutData:case s.mapScratch:var n,g=o.mapped===s.mapLayoutData,m=o.mapped===s.mapScratch,v=o.field.split(".");n=m||g?p.scratch:p.data;for(var y=0;y<v.length&&n;y++){var x=v[y];n=n[x]}var w;if(w=e.is.number(n)?(n-o.fieldMin)/(o.fieldMax-o.fieldMin):0,0>w?w=0:w>1&&(w=1),u.color){var b=o.valueMin[0],E=o.valueMax[0],_=o.valueMin[1],N=o.valueMax[1],S=o.valueMin[2],T=o.valueMax[2],C=null==o.valueMin[3]?1:o.valueMin[3],M=null==o.valueMax[3]?1:o.valueMax[3],A=[Math.round(b+(E-b)*w),Math.round(_+(N-_)*w),Math.round(S+(T-S)*w),Math.round(C+(M-C)*w)];i={bypass:o.bypass,name:o.name,value:A,strValue:"rgb("+A[0]+", "+A[1]+", "+A[2]+")"}}else{if(!u.number)return!1;var O=o.valueMin+(o.valueMax-o.valueMin)*w;i=this.parse(o.name,O,o.bypass,!0)}i||(i=this.parse(o.name,c.strValue,o.bypass,!0)),i||d(),i.mapping=o,o=i;break;case s.data:case s.layoutData:case s.scratch:var n,g=o.mapped===s.layoutData,m=o.mapped===s.scratch,v=o.field.split(".");if(n=m||g?p.scratch:p.data)for(var y=0;y<v.length;y++){var x=v[y];n=n[x]}if(i=this.parse(o.name,n,o.bypass,!0),!i){var k=c?c.strValue:"";i=this.parse(o.name,k,o.bypass,!0)}i||d(),i.mapping=o,o=i;break;case s.fn:var P=o.value,D=P(t);i=this.parse(o.name,D,o.bypass,!0),i.mapping=o,o=i;break;case void 0:break;default:return!1}return l?(o.bypassed=f?c.bypassed:c,a[o.name]=o):f?c.bypassed=o:a[o.name]=o,!0},e.styfn.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()},e.styfn.updateMappers=function(t){for(var r=0;r<t.length;r++){for(var n=t[r],i=n._private.style,o=0;o<e.style.properties.length;o++){var a=e.style.properties[o],s=i[a.name];if(s&&s.mapping){var u=s.mapping;this.applyParsedProperty(n,u)}}this.updateStyleHints(n)}},e.styfn.updateTransitions=function(t,r,n){var i=this,o=t._private.style,a=o["transition-property"].value,s=o["transition-duration"].msValue,u=o["transition-delay"].msValue,l={};if(a.length>0&&s>0){for(var c=!1,f=0;f<a.length;f++){var p=a[f],h=o[p],d=r[p];if(d){var g=d.prev,m=g,v=null!=d.next?d.next:h,y=!1;m&&(e.is.number(m.pxValue)&&e.is.number(v.pxValue)?y=m.pxValue!==v.pxValue:e.is.number(m.value)&&e.is.number(v.value)?y=m.value!==v.value:e.is.array(m.value)&&e.is.array(v.value)&&(y=m.value[0]!==v.value[0]||m.value[1]!==v.value[1]||m.value[2]!==v.value[2]),y&&(l[p]=v.strValue,this.applyBypass(t,p,m.strValue),c=!0))}}if(!c)return;t._private.transitioning=!0,t.stop(),u>0&&t.delay(u),t.animate({css:l},{duration:s,queue:!1,complete:function(){n||i.removeBypasses(t,a),t._private.transitioning=!1}})}else t._private.transitioning&&(t.stop(),this.removeBypasses(t,a),t._private.transitioning=!1)}}(cytoscape),function(e){"use strict";e.styfn.applyBypass=function(t,r,n,i){var o=[],a=!0;if("*"===r||"**"===r){if(void 0!==n)for(var s=0;s<e.style.properties.length;s++){var u=e.style.properties[s],r=u.name,l=this.parse(r,n,!0);l&&o.push(l)}}else if(e.is.string(r)){var l=this.parse(r,n,!0);l&&o.push(l)}else{if(!e.is.plainObject(r))return!1;var c=r;i=n;for(var s=0;s<e.style.properties.length;s++){var u=e.style.properties[s],r=u.name,n=c[r];if(void 0===n&&(n=c[e.util.dash2camel(r)]),void 0!==n){var l=this.parse(r,n,!0);l&&o.push(l)}}}if(0===o.length)return!1;for(var f=!1,s=0;s<t.length;s++){for(var p,h=t[s],d=h._private.style,g={},m=0;m<o.length;m++){var u=o[m];if(i){var v=d[u.name];p=g[u.name]={prev:v}}f=this.applyParsedProperty(h,u)||f,i&&(p.next=d[u.name])}i&&this.updateTransitions(h,g,a)}return f},e.styfn.overrideBypass=function(t,r,n){for(var i=0;i<t.length;i++){var o=t[i],a=o._private.style[e.util.camel2dash(r)];a.bypass?(a.value=n,a.pxValue=n):this.applyBypass(o,r,n)}},e.styfn.removeAllBypasses=function(t,r){for(var n=!0,i=0;i<t.length;i++){for(var o=t[i],a={},s=o._private.style,u=0;u<e.style.properties.length;u++){var l=e.style.properties[u],c=l.name,f="",p=this.parse(c,f,!0),h=s[l.name],d=a[l.name]={prev:h};this.applyParsedProperty(o,p),d.next=s[l.name]}r&&this.updateTransitions(o,a,n)}},e.styfn.removeBypasses=function(t,r,n){for(var i=!0,o=0;o<t.length;o++){for(var a=t[o],s={},u=a._private.style,l=0;l<r.length;l++){var c=r[l],f=e.style.properties[c],p="",h=this.parse(c,p,!0),d=u[f.name],g=s[f.name]={prev:d};this.applyParsedProperty(a,h),g.next=u[f.name]}n&&this.updateTransitions(a,s,i)}}}(cytoscape),function(e,t){"use strict";e.styfn.getEmSizeInPixels=function(){var e=this._private.cy,r=e.container();if(t&&r&&t.getComputedStyle){var n=t.getComputedStyle(r).getPropertyValue("font-size"),i=parseFloat(n);return i}return 1},e.styfn.containerCss=function(e){var r=this._private.cy,n=r.container();return t&&n&&t.getComputedStyle?t.getComputedStyle(n).getPropertyValue(e):void 0},e.styfn.containerProperty=function(e){var t=this.containerCss(e),r=this.parse(e,t);return r},e.styfn.containerPropertyAsString=function(e){var t=this.containerProperty(e);return t?t.strValue:void 0}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.styfn.getRenderedStyle=function(t){var t=t[0];if(t){for(var r={},n=t._private.style,i=this._private.cy,o=i.zoom(),a=0;a<e.style.properties.length;a++){var s=e.style.properties[a],u=n[s.name];if(u){var l=u.unitless?u.strValue:u.pxValue*o+"px";r[s.name]=l,r[e.util.dash2camel(s.name)]=l}}return r}},e.styfn.getRawStyle=function(t){var t=t[0];if(t){for(var r={},n=t._private.style,i=0;i<e.style.properties.length;i++){var o=e.style.properties[i],a=n[o.name];a&&(r[o.name]=a.strValue,r[e.util.dash2camel(o.name)]=a.strValue)}return r}},e.styfn.getValueStyle=function(t,r){r=r||{};var n,i=r.array?[]:{};if(n=e.is.element(t)?t._private.style:t)for(var o=0;o<e.style.properties.length;o++){var a=e.style.properties[o],s=n[a.name]||n[e.util.dash2camel(a.name)];void 0===s||e.is.plainObject(s)||(s=this.parse(a.name,s)),s&&(r.array?i.push(s):(i[a.name]=s,i[e.util.dash2camel(a.name)]=s))}return i}}(cytoscape),function(e){"use strict";e.style.applyFromJson=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.selector,o=n.style||n.css;e.selector(i);for(var a in o){var s=o[a];e.css(a,s)}}return e},e.style.fromJson=function(t,r){var n=new e.Style(t);return e.style.applyFromJson(n,r),n},e.styfn.fromJson=function(t){var r=this;return r.resetToDefault(),e.style.applyFromJson(r,t),r},e.styfn.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:o})}return e}}(cytoscape),function(e){"use strict";e.style.applyFromString=function(t,r){function n(){u=u.length>o.length?u.substr(o.length):""}function i(){a=a.length>s.length?a.substr(s.length):""}var o,a,s,u=""+r;for(u=u.replace(/[/][*](\s|.)+?[*][/]/g,"");;){var l=u.match(/^\s*$/);if(l)break;var c=u.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){e.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+u);break}o=c[0];var f=c[1];if("core"!==f){var p=new e.Selector(f);if(p._private.invalid){e.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),n();continue}}var h=c[2],d=!1;a=h;for(var g=[];;){var l=a.match(/^\s*$/);if(l)break;var m=a.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!m){e.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),d=!0;break}s=m[0];var v=m[1],y=m[2],x=e.style.properties[v];if(x){var w=t.parse(v,y);w?(g.push({name:v,val:y}),i()):(e.util.error("Skipping property: Invalid property definition in: "+s),i())}else e.util.error("Skipping property: Invalid property name in: "+s),i()}if(d){n();break}t.selector(f);for(var b=0;b<g.length;b++){var x=g[b];t.css(x.name,x.val)}n()}return t},e.style.fromString=function(t,r){var n=new e.Style(t);return e.style.applyFromString(n,r),n},e.styfn.fromString=function(t){var r=this;return r.resetToDefault(),e.style.applyFromString(r,t),r}}(cytoscape),function(e){"use strict";e.stylesheet=e.Stylesheet=function(){return this instanceof e.Stylesheet?void(this.length=0):new e.Stylesheet},e.sheetfn=e.Stylesheet.prototype,e.sheetfn.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},e.sheetfn.css=function(t,r){var n=this.length-1;if(e.is.string(t))this[n].properties.push({name:t,value:r});else if(e.is.plainObject(t))for(var i=t,o=0;o<e.style.properties.length;o++){var a=e.style.properties[o],s=i[a.name];if(void 0===s&&(s=i[e.util.dash2camel(a.name)]),
void 0!==s){var t=a.name,r=s;this[n].properties.push({name:t,value:r})}}return this},e.sheetfn.style=e.sheetfn.css,e.sheetfn.generateStyle=function(t){for(var r=new e.Style(t),n=0;n<this.length;n++){var i=this[n],o=i.selector,a=i.properties;r.selector(o);for(var s=0;s<a.length;s++){var u=a[s];r.css(u.name,u.value)}}return r}}(cytoscape),function(e,t){"use strict";e.Thread=function(t){return this instanceof e.Thread?(this._private={requires:[],files:[],queue:null,pass:[]},void(t&&this.run(t))):new e.Thread(t)},e.thread=e.Thread,e.thdfn=e.Thread.prototype,e.fn.thread=function(t,r){for(var n in t){var i=t[n];e.Thread.prototype[n]=i}};var r=function(t){var r=e.is.fn(t)?t.toString():'JSON.parse("'+JSON.stringify(t)+'")';return r},n=function(t){var i,a;e.is.object(t)&&t.fn?(i=o(t.fn,t.name),a=t.name,t=t.fn):e.is.fn(t)?(i=t.toString(),a=t.name):e.is.string(t)?i=t:e.is.object(t)&&(i=t.proto?"":t.name+" = {};",a=t.name,t=t.obj),i+="\n";var s=function(e,t){if(e.prototype){var r=!1;for(var o in e.prototype){r=!0;break}r&&(i+=n({name:t,obj:e,proto:!0},e))}};if(t.prototype&&null!=a)for(var u in t.prototype){var l="",c=t.prototype[u],f=r(c),p=a+".prototype."+u;l+=p+" = "+f+";\n",l&&(i+=l),s(c,p)}if(!e.is.string(t))for(var u in t){var h="";if(t.hasOwnProperty(u)){var c=t[u],f=r(c),p=a+'["'+u+'"]';h+=p+" = "+f+";\n"}h&&(i+=h),s(c,p)}return i},i=function(t){return e.is.string(t)&&t.match(/\.js$/)};e.fn.thread({require:function(t,r){return i(t)?(this._private.files.push(t),this):(r&&(e.is.fn(t)?(r=r||t.name,t={name:r,fn:t}):t={name:r,obj:t}),this._private.requires.push(t),this)},pass:function(e){return this._private.pass.push(e),this},run:function(r,i){var o=this,a=this._private;if(i=i||a.pass.shift(),a.stopped)return void e.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.");if(a.running)return a.queue=a.queue.then(function(){return o.run(r,i)});var s=null!=t,u="undefined"!=typeof module;o.trigger("run");var l=new e.Promise(function(l,c){a.running=!0;var f=a.ran,p=e.is.string(r)?r:r.toString(),h="\n"+a.requires.map(function(e){return n(e)}).concat(a.files.map(function(e){if(s){var r=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?t.location.origin+t.location.pathname+e:e.match(/^\//)?t.location.origin+"/"+e:e};return'importScripts("'+r(e)+'");'}return u?'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );':void 0})).concat(["( function(){","var ret = ("+p+")("+JSON.stringify(i)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(a.requires=[],a.files=[],s){var d,g;if(!f){var m=h+"";h=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),h+=m,d=new Blob([h],{type:"application/javascript"}),g=t.URL.createObjectURL(d)}var v=a.webworker=a.webworker||new Worker(g);f&&v.postMessage({$$eval:h});var y;v.addEventListener("message",y=function(t){var r=e.is.object(t)&&e.is.object(t.data);r&&"$$resolve"in t.data?(v.removeEventListener("message",y),l(t.data.$$resolve)):r&&"$$reject"in t.data?(v.removeEventListener("message",y),c(t.data.$$reject)):o.trigger(new e.Event(t,{type:"message",message:t.data}))},!1),f||v.postMessage("$$start")}else if(u){var y,x=require("path"),w=require("child_process"),b=a.child=a.child||w.fork(x.join(__dirname,"thread-node-fork"));b.on("message",y=function(t){e.is.object(t)&&"$$resolve"in t?(b.removeListener("message",y),l(t.$$resolve)):e.is.object(t)&&"$$reject"in t?(b.removeListener("message",y),c(t.$$reject)):o.trigger(new e.Event({},{type:"message",message:t}))}),b.send({$$eval:h})}else e.error("Tried to create thread but no underlying tech found!")}).then(function(e){return a.running=!1,a.ran=!0,o.trigger("ran"),e});return null==a.queue&&(a.queue=l),l},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var o=function(e,t){var r=e.toString();return r=r.replace(/function.*\(/,"function "+t+"(")},a=function(e){return e=e||{},function(t,r){var n=o(t,"_$_$_"+e.name);return this.require(n),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(r):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};e.fn.thread({reduce:a({name:"reduce"}),reduceRight:a({name:"reduceRight"}),map:a({name:"map"})});var s=e.thdfn;s.promise=s.run,s.terminate=s.halt=s.stop,s.include=s.require,e.worker=e.Worker=e.Thread,e.fn.thread({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.thdfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.Fabric=function(t){if(!(this instanceof e.Fabric))return new e.Fabric(t);this._private={pass:[]};var r=4;e.is.number(t),t="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:r;for(var n=0;t>n;n++)this[n]=e.Thread();this.length=t},e.fabric=e.Fabric,e.fabfn=e.Fabric.prototype,e.fn.fabric=function(t,r){for(var n in t){var i=t[n];e.Fabric.prototype[n]=i}},e.fn.fabric({require:function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var r=this[t];r.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(t){var r=this._private.pass;return e.is.array(t)?r.push(t):e.util.error("Only arrays or collections may be used with fabric.pass()"),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(t){for(var r=this,n=r._private,i=r.spreadSize(),o=n.pass.shift().concat([]),a=[],s=0;s<this.length;s++){var u=this[s],l=o.splice(0,i),c=u.pass(l).run(t);a.push(c);var f=0===o.length;if(f)break}return e.Promise.all(a).then(function(e){for(var t=[],r=0,n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++){var a=i[o];t[r++]=a}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],r=resolve;resolve=function(e){t.push(e)};for(var n=0;n<e.length;n++){var i=t.length,o=_$_$_fabmap(e[n]),a=i===t.length;a&&t.push(o)}return resolve=r,t})},filter:function(e){var t=this._private,r=t.pass[0];return this.map(e).then(function(e){for(var t=[],n=0;n<r.length;n++){var i=r[n],o=e[n];o&&t.push(i)}return t})},sort:function(e){var t=this,r=this._private.pass[0].length,n=this.spreadSize();return e=e||function(e,t){return t>e?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(n,i,o){i=Math.min(i,r),o=Math.min(o,r);for(var a=n,s=i,u=[],l=a;o>l;l++){var c=t[n],f=t[i];s>n&&(i>=o||e(c,f)<=0)?(u.push(c),n++):(u.push(f),i++)}for(var l=0;l<u.length;l++){var p=a+l;t[p]=u[l]}},o=n;r>o;o*=2)for(var a=0;r>a;a+=2*o)i(a,a+o,a+2*o);return t})}});var r=function(e){return e=e||{},function(t,r){var n=this._private.pass.shift();return this.random().pass(n)[e.threadFn](t,r)}};e.fn.fabric({randomMap:r({threadFn:"map"}),reduce:r({threadFn:"reduce"}),reduceRight:r({threadFn:"reduceRight"})});var n=e.fabfn;n.promise=n.run,n.terminate=n.halt=n.stop,n.include=n.require,e.fn.fabric({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.fabfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";var r=e.is.touch(),n={},i=e.util.copy(n);e.defaults=function(t){n=e.util.extend({},i,t)},e.fn.core=function(t,r){for(var n in t){var i=t[n];e.Core.prototype[n]=i}},e.Core=function(i){if(!(this instanceof e.Core))return new e.Core(i);var o=this;i=e.util.extend({},n,i);var a=i.container,s=a?a._cyreg:null;if(s=s||{},s&&s.cy){if(a)for(;a.firstChild;)a.removeChild(a.firstChild);s.cy.notify({type:"destroy"}),s={}}var u=s.readies=s.readies||[];a&&(a._cyreg=s),s.cy=o;var l=void 0!==t&&void 0!==a&&!i.headless,c=i;c.layout=e.util.extend({name:l?"grid":"null"},c.layout),c.renderer=e.util.extend({name:l?"canvas":"null"},c.renderer);var f=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},p=this._private={container:c.container,ready:!1,initrender:!1,options:c,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:e.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,c.zoomingEnabled),userZoomingEnabled:f(!0,c.userZoomingEnabled),panningEnabled:f(!0,c.panningEnabled),userPanningEnabled:f(!0,c.userPanningEnabled),boxSelectionEnabled:f(!1,c.boxSelectionEnabled),autolock:f(!1,c.autolock,c.autolockNodes),autoungrabify:f(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:f(!1,c.autounselectify),styleEnabled:void 0===c.styleEnabled?l:c.styleEnabled,zoom:e.is.number(c.zoom)?c.zoom:1,pan:{x:e.is.plainObject(c.pan)&&e.is.number(c.pan.x)?c.pan.x:0,y:e.is.plainObject(c.pan)&&e.is.number(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},h=c.selectionType;p.selectionType=void 0===h||"additive"!==h&&"single"!==h?r?"additive":"single":h,e.is.number(c.minZoom)&&e.is.number(c.maxZoom)&&c.minZoom<c.maxZoom?(p.minZoom=c.minZoom,p.maxZoom=c.maxZoom):e.is.number(c.minZoom)&&void 0===c.maxZoom?p.minZoom=c.minZoom:e.is.number(c.maxZoom)&&void 0===c.minZoom&&(p.maxZoom=c.maxZoom);var d=function(t){for(var r=!1,n=0;n<g.length;n++){var i=g[n];if(e.is.promise(i)){r=!0;break}}return r?e.Promise.all(g).then(t):void t(g)},g=[c.style,c.elements];d(function(t){var r=t[0],n=t[1];p.styleEnabled&&o.setStyle(r),o.initRenderer(e.util.extend({hideEdgesOnViewport:c.hideEdgesOnViewport,hideLabelsOnViewport:c.hideLabelsOnViewport,textureOnViewport:c.textureOnViewport,wheelSensitivity:e.is.number(c.wheelSensitivity)&&c.wheelSensitivity>0?c.wheelSensitivity:1,motionBlur:void 0===c.motionBlur?!0:c.motionBlur,motionBlurOpacity:void 0===c.motionBlurOpacity?.05:c.motionBlurOpacity,pixelRatio:e.is.number(c.pixelRatio)&&c.pixelRatio>0?c.pixelRatio:"auto"===c.pixelRatio?void 0:1,tapThreshold:f(e.is.touch()?8:4,e.is.touch()?c.touchTapThreshold:c.desktopTapThreshold)},c.renderer)),c.initrender&&(o.on("initrender",c.initrender),o.on("initrender",function(){o._private.initrender=!0})),o.load(n,function(){o.startAnimationLoop(),o._private.ready=!0,e.is.fn(c.ready)&&o.on("ready",c.ready);for(var t=0;t<u.length;t++){var r=u[t];o.on("ready",r)}s&&(s.readies=[]),o.trigger("ready")},c.done)})},e.corefn=e.Core.prototype,e.fn.core({isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var e=this.container(),t=e.parentNode;return t&&t.removeChild(e),this},getElementById:function(t){var r=this._private.id2index[t];return void 0!==r?this._private.elements[r]:new e.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],o=i._private.data.id,a=r[o],s=void 0!==a;s||(a=t.length,t.push(i),r[o]=a,i._private.index=a)}return this},removeFromPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],o=i._private.data.id,a=r[o],s=void 0!==a;if(s){this._private.id2index[o]=void 0,t.splice(a,1);for(var u=a;u<t.length;u++){var l=t[u]._private.data.id;r[l]--,t[u]._private.index--}}}},container:function(){return this._private.container},options:function(){return e.util.copy(this._private.options)},json:function(e){var t={},r=this;return t.elements={},r.elements().each(function(e,r){var n=r.group();t.elements[n]||(t.elements[n]=[]),t.elements[n].push(r.json())}),this._private.styleEnabled&&(t.style=r.style().json()),t.zoomingEnabled=r._private.zoomingEnabled,t.userZoomingEnabled=r._private.userZoomingEnabled,t.zoom=r._private.zoom,t.minZoom=r._private.minZoom,t.maxZoom=r._private.maxZoom,t.panningEnabled=r._private.panningEnabled,t.userPanningEnabled=r._private.userPanningEnabled,t.pan=r._private.pan,t.boxSelectionEnabled=r._private.boxSelectionEnabled,t.layout=r._private.options.layout,t.renderer=r._private.options.renderer,t.hideEdgesOnViewport=r._private.options.hideEdgesOnViewport,t.hideLabelsOnViewport=r._private.options.hideLabelsOnViewport,t.textureOnViewport=r._private.options.textureOnViewport,t.wheelSensitivity=r._private.options.wheelSensitivity,t.motionBlur=r._private.options.motionBlur,t},defer:function(e){var t=this,r=t._private,n=r.deferredExecQueue;n.push(e),r.deferredTimeout||(r.deferredTimeout=setTimeout(function(){for(;n.length>0;)n.shift()();r.deferredTimeout=null},0))}})}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";function r(e){var t=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?r:e;setTimeout(t,9,e)}e.fn.core({add:function(t){var r,n=this;if(e.is.elementOrCollection(t)){var i=t;if(i._private.cy===n)r=i.restore();else{for(var o=[],a=0;a<i.length;a++){var s=i[a];o.push(s.json())}r=new e.Collection(n,o)}}else if(e.is.array(t)){var o=t;r=new e.Collection(n,o)}else if(e.is.plainObject(t)&&(e.is.array(t.nodes)||e.is.array(t.edges))){for(var u=t,o=[],l=["nodes","edges"],a=0,c=l.length;c>a;a++){var f=l[a],p=u[f];if(e.is.array(p))for(var h=0,d=p.length;d>h;h++){var g=p[h];g.group=f,o.push(g)}}r=new e.Collection(n,o)}else{var g=t;r=new e.Element(n,g).collection()}return r},remove:function(t){if(e.is.elementOrCollection(t))t=t;else if(e.is.string(t)){var r=t;t=this.$(r)}return t.remove()},load:function(n,i,o){function a(){s.one("layoutready",function(e){s.notifications(!0),s.trigger(e),s.notify({type:"load",collection:s.elements()}),s.one("load",i),s.trigger("load")}).one("layoutstop",function(){s.one("done",o),s.trigger("done")});var t=e.util.extend({},s._private.options.layout);t.eles=s.$(),s.layout(t)}var s=this;s.notifications(!1);var u=s.elements();return u.length>0&&u.remove(),null!=n&&(e.is.plainObject(n)||e.is.array(n))&&s.add(n),t?r(a):a(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.fn.core({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},startAnimationLoop:function(){function r(){e.util.requestAnimationFrame(function(e){n(e),r()})}function n(t){function r(r,n){var s=r._private.animation.current,u=r._private.animation.queue,l=!1;if(0===s.length){var c=u.length>0?u.shift():null;c&&(c.callTime=t,s.push(c))}for(var f=[],p=s.length-1;p>=0;p--){var h=s[p];h.started||i(r,h),o(r,h,t,n),h.done&&(f.push(h),s.splice(p,1)),l=!0}for(var p=0;p<f.length;p++){var h=f[p],d=h.params.complete;e.is.fn(d)&&d.apply(r,[t])}return n||0!==s.length||0!==u.length||a.push(r),l}t=+new Date;for(var n=u._private.aniEles,a=[],s=0;s<n.length;s++){var l=n[s];r(l)}var c=r(u,!0);if(n.length>0||c){var f;if(n.length>0){var p=n.updateCompoundBounds();f=p.length>0?n.add(p):n}u.notify({type:"draw",collection:f})}n.unmerge(a)}function i(t,r){var n=e.is.core(t),i=!n,o=t,a=u._private.style;if(i)var s=o._private.position,l={x:s.x,y:s.y},c=a.getValueStyle(o);if(n)var f=u._private.pan,p={x:f.x,y:f.y},h=u._private.zoom;r.started=!0,r.startTime=Date.now(),r.startPosition=l,r.startStyle=c,r.startPan=p,r.startZoom=h}function o(t,r,n,i){var o,l=u._private.style,c=r.properties,f=r.params,p=r.startTime,h=!i;if(o=0===r.duration?1:Math.min(1,(n-p)/r.duration),0>o?o=0:o>1&&(o=1),null==c.delay){var d=r.startPosition,g=c.position,m=t._private.position;g&&h&&(a(d.x,g.x)&&(m.x=s(d.x,g.x,o)),a(d.y,g.y)&&(m.y=s(d.y,g.y,o)));var v=r.startPan,y=c.pan,x=t._private.pan,w=null!=y&&i;w&&(a(v.x,y.x)&&(x.x=s(v.x,y.x,o)),a(v.y,y.y)&&(x.y=s(v.y,y.y,o)),t.trigger("pan"));var b=r.startZoom,E=c.zoom,_=null!=E&&i;_&&(a(b,E)&&(t._private.zoom=s(b,E,o)),t.trigger("zoom")),(w||_)&&t.trigger("viewport");var N=c.style||c.css;if(N&&h)for(var S=0;S<N.length;S++){var T=N[S].name,C=N[S],M=C,A=r.startStyle[T],O=s(A,M,o);l.overrideBypass(t,T,O)}}return e.is.fn(f.step)&&f.step.apply(t,[n]),o>=1&&(r.done=!0),o}function a(t,r){return null==t||null==r?!1:e.is.number(t)&&e.is.number(r)?!0:t&&r?!0:!1}function s(t,r,n){0>n?n=0:n>1&&(n=1);var i,o;if(i=null!=t.pxValue||null!=t.value?null!=t.pxValue?t.pxValue:t.value:t,o=null!=r.pxValue||null!=r.value?null!=r.pxValue?r.pxValue:r.value:r,e.is.number(i)&&e.is.number(o))return i+(o-i)*n;if(e.is.number(i[0])&&e.is.number(o[0])){var a=i,s=o,u=function(e,t){var r=t-e,i=e;return Math.round(n*r+i)},l=u(a[0],s[0]),c=u(a[1],s[1]),f=u(a[2],s[2]);return[l,c,f]}return void 0}var u=this;u.styleEnabled()&&t&&r()}})}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.fn.core({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(e){"use strict";e.fn.core({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.corefn)}(cytoscape),function(e){"use strict";e.fn.core({png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}}),e.corefn.jpeg=e.corefn.jpg}(cytoscape),function(e){"use strict";e.fn.core({layout:function(t){var r;return null==t&&(t=e.util.extend({},this._private.options.layout),t.eles=this.$()),r=this.initLayout(t),r.run(),this},makeLayout:function(e){return this.initLayout(e)},initLayout:function(t){if(null==t)return void e.util.error("Layout options must be specified to make a layout");if(null==t.name)return void e.util.error("A `name` must be specified to make a layout");var r=t.name,n=e.extension("layout",r);if(null==n)return void e.util.error("Can not apply layout: No such layout `"+r+"` found; did you include its JS file?");t.eles=null!=t.eles?t.eles:this.$(),e.is.string(t.eles)&&(t.eles=this.$(t.eles));var i=new n(e.util.extend({},t,{cy:this}));return e.is.plainObject(i._private)||(i._private={}),i._private.cy=this,i._private.listeners=[],i}}),e.corefn.createLayout=e.corefn.makeLayout}(cytoscape),function(e){"use strict";e.fn.core({notify:function(e){if(this._private.batchingNotify){var t=this._private.batchNotifyEles,r=this._private.batchNotifyTypes;if(e.collection)for(var n=0;n<e.collection.length;n++){var i=e.collection[n];t.ids[i._private.id]||t.push(i)}return void(r.ids[e.type]||r.push(e.type))}if(this._private.notificationsEnabled){var o=this.renderer();o.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=e?!0:!1)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=[],e.batchNotifyEles=[],e.batchNotifyTypes=[],e.batchStyleEles.ids={},e.batchNotifyEles.ids={},e.batchNotifyTypes.ids={},this},endBatch:function(){var t=this._private;return t.batchingStyle=!1,new e.Collection(this,t.batchStyleEles).updateStyle(),t.batchingNotify=!1,this.notify({type:t.batchNotifyTypes,collection:t.batchNotifyEles}),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r in e){var n=e[r],i=t.getElementById(r);i.data(n)}})}})}(cytoscape),function(e){"use strict";e.fn.core({renderTo:function(e,t,r,n){var i=this._private.renderer;return i.renderTo(e,t,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(t){var r=this,n=e.extension("renderer",t.name);return null==n?void e.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name):void(this._private.renderer=new n(e.util.extend({},t,{cy:r,style:r._private.style})))},triggerOnRender:function(){for(var e=this._private.onRenders,t=0;t<e.length;t++){var r=e[t];r()}return this},onRender:function(e){return this._private.onRenders.push(e),this},offRender:function(e){var t=this._private.onRenders;if(null==e)return this._private.onRenders=[],this;for(var r=0;r<t.length;r++){var n=t[r];if(e===n){t.splice(r,1);break}}return this}})}(cytoscape),function(e){"use strict";e.fn.core({collection:function(t){return e.is.string(t)?this.$(t):e.is.elementOrCollection(t)?t.collection():e.is.array(t)?new e.Collection(this,t):new e.Collection(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(t){var r=new e.Collection(this,this._private.elements);return t?r.filter(t):r}}),e.corefn.elements=e.corefn.filter=e.corefn.$}(cytoscape),function(e){"use strict";e.fn.core({style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(t){var r=this._private;return r.style=e.is.stylesheet(t)?t.generateStyle(this):e.is.array(t)?e.style.fromJson(this,t):e.is.string(t)?e.style.fromString(this,t):new e.Style(this),r.style}})}(cytoscape),function(e){"use strict";e.fn.core({autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=e?!0:!1,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=e?!0:!1,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=e?!0:!1,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=e?!0:!1,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=e?!0:!1,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=e?!0:!1,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=e?!0:!1,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=e?!0:!1,this)},pan:function(){var t,r,n,i,o,a=arguments,s=this._private.pan;switch(a.length){case 0:return s;case 1:if(e.is.string(a[0]))return t=a[0],s[t];if(e.is.plainObject(a[0])){if(!this._private.panningEnabled)return this;n=a[0],i=n.x,o=n.y,e.is.number(i)&&(s.x=i),e.is.number(o)&&(s.y=o),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=a[0],r=a[1],"x"!==t&&"y"!==t||!e.is.number(r)||(s[t]=r),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(t){var r,n,i,o,a,s=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:e.is.plainObject(s[0])&&(i=s[0],o=i.x,a=i.y,e.is.number(o)&&(u.x+=o),e.is.number(a)&&(u.y+=a),this.trigger("pan viewport"));break;case 2:r=s[0],n=s[1],"x"!==r&&"y"!==r||!e.is.number(n)||(u[r]+=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(t,r){if(e.is.number(t)&&void 0===r&&(r=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(e.is.string(t)){var i=t;t=this.$(i)}else if(e.is.boundingBox(t)){var o=t;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else e.is.elementOrCollection(t)||(t=this.elements());n=n||t.boundingBox();var a,s=this.width(),u=this.height();if(r=e.is.number(r)?r:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){a=Math.min((s-2*r)/n.w,(u-2*r)/n.h),a=a>this._private.maxZoom?this._private.maxZoom:a,a=a<this._private.minZoom?this._private.minZoom:a;var l={x:(s-a*(n.x1+n.x2))/2,y:(u-a*(n.y1+n.y2))/2};return{zoom:a,pan:l}}}},minZoom:function(t){return void 0===t?this._private.minZoom:(e.is.number(t)&&(this._private.minZoom=t),this)},maxZoom:function(t){return void 0===t?this._private.maxZoom:(e.is.number(t)&&(this._private.maxZoom=t),this)},zoom:function(t){var r,n;if(void 0===t)return this._private.zoom;if(e.is.number(t))n=t;else if(e.is.plainObject(t)){if(n=t.level,t.position){var i=t.position,o=this._private.pan,a=this._private.zoom;r={x:i.x*a+o.x,y:i.y*a+o.y}}else t.renderedPosition&&(r=t.renderedPosition);if(r&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!e.is.number(n)||r&&(!e.is.number(r.x)||!e.is.number(r.y)))return this;if(n=n>this._private.maxZoom?this._private.maxZoom:n,n=n<this._private.minZoom?this._private.minZoom:n,r){var s=this._private.pan,u=this._private.zoom,l=n,c={x:-l/u*(r.x-s.x)+r.x,y:-l/u*(r.y-s.y)+r.y};this._private.zoom=n,this._private.pan=c;var f=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(f?" pan ":"")+" viewport ")}else this._private.zoom=n,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(t){var r=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!t)return this;if(e.is.number(t.zoom)||(n=!1),e.is.plainObject(t.pan)||(i=!1),!n&&!i)return this;if(n){var u=t.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?a=!0:(r.zoom=u,o.push("zoom"))}if(i&&(!a||!t.cancelOnFailedZoom)&&r.panningEnabled){var l=t.pan;e.is.number(l.x)&&(r.pan.x=l.x,s=!1),e.is.number(l.y)&&(r.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.trigger(o.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(e.is.string(t)){var n=t;t=this.elements(n)}else e.is.elementOrCollection(t)||(t=this.elements());var i=t.boundingBox(),o=this.width(),a=this.height();r=void 0===r?this._private.zoom:r;var s={x:(o-r*(i.x1+i.x2))/2,y:(a-r*(i.y1+i.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}}),e.corefn.centre=e.corefn.center,e.corefn.autolockNodes=e.corefn.autolock,e.corefn.autoungrabifyNodes=e.corefn.autoungrabify}(cytoscape),function(e){"use strict";e.fn.collection=e.fn.eles=function(t,r){for(var n in t){var i=t[n];e.Collection.prototype[n]=i}};var t={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(t,r,n){var i=e.is.element(r)?r._private:r,o=i.group,a=null!=n?n:this.prefix[o]+this.id[o];if(t.getElementById(a).empty())this.id[o]++;else for(;!t.getElementById(a).empty();)a=this.prefix[o]+ ++this.id[o];return a}};e.Element=function(t,r,n){if(!(this instanceof e.Element))return new e.Element(t,r,n);var i=this;if(n=void 0===n||n?!0:!1,void 0===t||void 0===r||!e.is.core(t))return void e.util.error("An element must have a core reference and parameters set");if("nodes"!==r.group&&"edges"!==r.group)return void e.util.error("An element must be of type `nodes` or `edges`; you specified `"+r.group+"`");if(this.length=1,this[0]=this,this._private={cy:t,single:!0,data:r.data||{},position:r.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:r.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:r.selected?!0:!1,selectable:void 0===r.selectable?!0:r.selectable?!0:!1,locked:r.locked?!0:!1,grabbed:!1,grabbable:void 0===r.grabbable?!0:r.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[]},r.renderedPosition){var o=r.renderedPosition,a=t.pan(),s=t.zoom();this._private.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}if(e.is.string(r.classes))for(var u=r.classes.split(/\s+/),l=0,c=u.length;c>l;l++){var f=u[l];f&&""!==f&&(i._private.classes[f]=!0)}r.css&&t.style().applyBypass(this,r.css),(void 0===n||n)&&this.restore()},e.Collection=function(r,n,i){if(!(this instanceof e.Collection))return new e.Collection(r,n);if(void 0===r||!e.is.core(r))return void e.util.error("A collection must have a reference to the core");var o={},a={},s=!1;if(n){if(n.length>0&&e.is.plainObject(n[0])&&!e.is.element(n[0])){s=!0;for(var u=[],l={},c=0,f=n.length;f>c;c++){var p=n[c];null==p.data&&(p.data={});var h=p.data;if(null==h.id)h.id=t.generate(r,p);else if(0!==r.getElementById(h.id).length||l[h.id])continue;var d=new e.Element(r,p,!1);u.push(d),l[h.id]=!0}n=u}}else n=[];this.length=0;for(var c=0,f=n.length;f>c;c++){var g=n[c];if(g){var m=g._private.data.id;(!i||i.unique&&!o[m])&&(o[m]=g,a[m]=this.length,this[this.length]=g,this.length++)}}this._private={cy:r,ids:o,indexes:a},s&&this.restore()},e.elefn=e.elesfn=e.Element.prototype=e.Collection.prototype,e.elesfn.cy=function(){return this._private.cy},e.elesfn.element=function(){return this[0]},e.elesfn.collection=function(){return e.is.collection(this)?this:new e.Collection(this._private.cy,[this])},e.elesfn.unique=function(){return new e.Collection(this._private.cy,this,{unique:!0})},e.elesfn.getElementById=function(t){var r=this._private.cy,n=this._private.ids[t];return n?n:e.Collection(r)},e.elesfn.json=function(){var t=this.element();if(null==t)return void 0;var r=t._private,n=e.util.copy({data:r.data,position:r.position,group:r.group,bypass:r.bypass,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbed:r.grabbed,grabbable:r.grabbable,classes:""}),i=[];for(var o in r.classes)r.classes[o]&&i.push(o);for(var a=0;a<i.length;a++){var o=i[a];n.classes+=o+(a<i.length-1?" ":"")}return n},e.elesfn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e},e.elesfn.clone=function(){for(var t=this.cy(),r=[],n=0;n<this.length;n++){var i=this[n],o=i.json(),a=new e.Element(t,o,!1);r.push(a)}return new e.Collection(t,r);

},e.elesfn.copy=e.elesfn.clone,e.elesfn.restore=function(r){var n=this,i=[],o=n.cy();void 0===r&&(r=!0);for(var a=[],s=[],u=[],l=0,c=0,f=0,p=n.length;p>f;f++){var h=n[f];h.isNode()?(s.push(h),l++):(u.push(h),c++)}a=s.concat(u);for(var f=0,p=a.length;p>f;f++){var h=a[f];if(h.removed()){var d=h._private,g=d.data;if(void 0===g.id)g.id=t.generate(o,h);else{if(e.is.emptyString(g.id)||!e.is.string(g.id)){e.util.error("Can not create element with invalid string ID `"+g.id+"`");continue}if(0!==o.getElementById(g.id).length){e.util.error("Can not create second element with ID `"+g.id+"`");continue}}var m=g.id;if(h.isEdge()){for(var v=h,y=["source","target"],x=y.length,w=!1,b=0;x>b;b++){var E=y[b],_=g[E];null==_||""===_?(e.util.error("Can not create edge `"+m+"` with unspecified "+E),w=!0):o.getElementById(_).empty()&&(e.util.error("Can not create edge `"+m+"` with nonexistant "+E+" `"+_+"`"),w=!0)}if(w)continue;var N=o.getElementById(g.source),S=o.getElementById(g.target);N._private.edges.push(v),S._private.edges.push(v),v._private.source=N,v._private.target=S}d.ids={},d.ids[m]=h,d.removed=!1,o.addToPool(h),i.push(h)}}for(var f=0;l>f;f++){var T=a[f],g=T._private.data,C=T._private.data.parent,M=null!=C;if(M){var A=o.getElementById(C);if(A.empty())g.parent=void 0;else{for(var O=!1,k=A;!k.empty();){if(T.same(k)){O=!0,g.parent=void 0;break}k=k.parent()}O||(A[0]._private.children.push(T),T._private.parent=A[0],o._private.hasCompoundNodes=!0)}}}if(i=new e.Collection(o,i),i.length>0){var P=i.add(i.connectedNodes()).add(i.parent());P.updateStyle(r),r?i.rtrigger("add"):i.trigger("add")}return n},e.elesfn.removed=function(){var e=this[0];return e&&e._private.removed},e.elesfn.inside=function(){var e=this[0];return e&&!e._private.removed},e.elesfn.remove=function(t){function r(e){for(var t=e._private.edges,r=0;r<t.length;r++)i(t[r])}function n(e){for(var t=e._private.children,r=0;r<t.length;r++)i(t[r])}function i(e){var t=c[e.id()];t||(c[e.id()]=!0,e.isNode()?(l.push(e),r(e),n(e)):l.unshift(e))}function o(e,t){for(var r=e._private.edges,n=0;n<r.length;n++){var i=r[n];if(t===i){r.splice(n,1);break}}}function a(e,t){t=t[0],e=e[0];for(var r=e._private.children,n=0;n<r.length;n++)if(r[n][0]===t[0]){r.splice(n,1);break}}var s=this,u=[],l=[],c={},f=s._private.cy;void 0===t&&(t=!0);for(var p=0,h=s.length;h>p;p++){var d=s[p];i(d)}for(var p=0;p<l.length;p++){var d=l[p];if(d._private.removed=!0,f.removeFromPool(d),u.push(d),d.isEdge()){var g=d.source()[0],m=d.target()[0];o(g,d),o(m,d)}else{var v=d.parent();0!==v.length&&a(v,d)}}var y=f._private.elements;f._private.hasCompoundNodes=!1;for(var p=0;p<y.length;p++){var d=y[p];if(d.isParent()){f._private.hasCompoundNodes=!0;break}}var x=new e.Collection(this.cy(),u);x.size()>0&&(t&&this.cy().notify({type:"remove",collection:x}),x.trigger("remove"));for(var w={},p=0;p<l.length;p++){var d=l[p],b="nodes"===d._private.group,E=d._private.data.parent;if(b&&void 0!==E&&!w[E]){w[E]=!0;var v=f.getElementById(E);v&&0!==v.length&&!v._private.removed&&0===v.children().length&&v.updateStyle()}}return this},e.elesfn.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var r=e.source,n=e.target,i=t.getElementById(r).length>0,o=t.getElementById(n).length>0;if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var u=a[s];"edges"===u.group&&(i&&(u.data.source=r),o&&(u.data.target=n))}return t.add(a)}}else if(void 0!==e.parent){var l=e.parent,c=null===l||t.getElementById(l).length>0;if(c){var a=this.jsons(),f=this.descendants(),p=f.merge(f.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var u=a[s];"nodes"===u.group&&(u.data.parent=null===l?void 0:l)}}return t.add(a).merge(p.restore())}return this}}(cytoscape),function(e){"use strict";e.fn.eles({stdBreadthFirstSearch:function(t){return t=e.util.extend({},t,{std:!0}),this.breadthFirstSearch(t)},breadthFirstSearch:function(t,r,n){var i,o,a;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.roots,r=i.visit,n=i.directed,o=i.std,a=i.thisArg),n=2!==arguments.length||e.is.fn(r)?n:r,r=e.is.fn(r)?r:function(){};for(var s,u=this._private.cy,l=e.is.string(t)?this.filter(t):t,c=[],f=[],p={},h={},d={},g=0,m=this.nodes(),v=this.edges(),y=0;y<l.length;y++)l[y].isNode()&&(c.unshift(l[y]),d[l[y].id()]=!0,f.push(l[y]),h[l[y].id()]=0);for(;0!==c.length;){var x,l=c.shift(),w=h[l.id()],b=p[l.id()],E=null==b?void 0:b.connectedNodes().not(l)[0];if(x=o?r.call(a,l,b,E,g++,w):r.call(l,g++,w,l,b,E),x===!0){s=l;break}if(x===!1)break;for(var _=l.connectedEdges(n?function(){return this.data("source")===l.id()}:void 0).intersect(v),y=0;y<_.length;y++){var N=_[y],S=N.connectedNodes(function(){return this.id()!==l.id()}).intersect(m);0===S.length||d[S.id()]||(S=S[0],c.push(S),d[S.id()]=!0,h[S.id()]=h[l.id()]+1,f.push(S),p[S.id()]=N)}}for(var T=[],y=0;y<f.length;y++){var C=f[y],M=p[C.id()];M&&T.push(M),T.push(C)}return{path:new e.Collection(u,T,{unique:!0}),found:new e.Collection(u,s,{unique:!0})}},stdDepthFirstSearch:function(t){return t=e.util.extend({},t,{std:!0}),this.depthFirstSearch(t)},depthFirstSearch:function(t,r,n){var i,o,a;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.roots,r=i.visit,n=i.directed,o=i.std,a=i.thisArg),n=2!==arguments.length||e.is.fn(r)?n:r,r=e.is.fn(r)?r:function(){};for(var s,u=this._private.cy,l=e.is.string(t)?this.filter(t):t,c=[],f=[],p={},h={},d={},g=0,m=this.edges(),v=this.nodes(),y=0;y<l.length;y++)l[y].isNode()&&(c.push(l[y]),f.push(l[y]),h[l[y].id()]=0);for(;0!==c.length;){var l=c.pop();if(!d[l.id()]){d[l.id()]=!0;var x,w=h[l.id()],b=p[l.id()],E=null==b?void 0:b.connectedNodes().not(l)[0];if(x=o?r.call(a,l,b,E,g++,w):r.call(l,g++,w,l,b,E),x===!0){s=l;break}if(x===!1)break;for(var _=l.connectedEdges(n?function(){return this.data("source")===l.id()}:void 0).intersect(m),y=0;y<_.length;y++){var N=_[y],S=N.connectedNodes(function(){return this.id()!==l.id()}).intersect(v);0===S.length||d[S.id()]||(S=S[0],c.push(S),h[S.id()]=h[l.id()]+1,f.push(S),p[S.id()]=N)}}}for(var T=[],y=0;y<f.length;y++){var C=f[y],M=p[C.id()];M&&T.push(M),T.push(C)}return{path:new e.Collection(u,T,{unique:!0}),found:new e.Collection(u,s,{unique:!0})}},kruskal:function(t){function r(e){for(var t=0;t<i.length;t++){var r=i[t];if(r.anySame(e))return{eles:r,index:t}}}t=e.is.fn(t)?t:function(){return 1};for(var n=new e.Collection(this._private.cy,[]),i=[],o=this.nodes(),a=0;a<o.length;a++)i.push(o[a].collection());for(var s=this.edges(),u=s.toArray().sort(function(e,r){var n=t.call(e,e),i=t.call(r,r);return n-i}),a=0;a<u.length;a++){var l=u[a],c=l.source()[0],f=l.target()[0],p=r(c),h=r(f);p.index!==h.index&&(n=n.add(l),i[p.index]=p.eles.add(h.eles),i.splice(h.index,1))}return o.add(n)},dijkstra:function(t,r,n){var i;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.root,r=i.weight,n=i.directed);var o=this._private.cy;n=e.is.fn(r)?n:r,r=e.is.fn(r)?r:function(){return 1};for(var a=e.is.string(t)?this.filter(t).eq(0):t.eq(0),s={},u={},l={},c=this.edges().filter(function(){return!this.isLoop()}),f=this.nodes(),p=[],h=0;h<f.length;h++)s[f[h].id()]=f[h].same(a)?0:1/0,p.push(f[h]);var d=function(e){return s[e.id()]};p=new e.Collection(o,p);for(var g=e.Minheap(o,p,d),m=function(e,t){for(var i,o=(n?e.edgesTo(t):e.edgesWith(t)).intersect(c),a=1/0,s=0;s<o.length;s++){var u=o[s],l=r.apply(u,[u]);(a>l||!i)&&(a=l,i=u)}return{edge:i,dist:a}};g.size()>0;){var v=g.pop(),y=v.value,x=v.id,w=o.getElementById(x);if(l[x]=y,y===Math.Infinite)break;for(var b=w.neighborhood().intersect(f),h=0;h<b.length;h++){var E=b[h],_=E.id(),N=m(w,E),S=y+N.dist;S<g.getValueById(_)&&(g.edit(_,S),u[_]={node:w,edge:N.edge})}}return{distanceTo:function(t){var r=e.is.string(t)?f.filter(t).eq(0):t.eq(0);return l[r.id()]},pathTo:function(t){var r=e.is.string(t)?f.filter(t).eq(0):t.eq(0),n=[],i=r;if(r.length>0)for(n.unshift(r);u[i.id()];){var a=u[i.id()];n.unshift(a.edge),n.unshift(a.node),i=a.node}return new e.Collection(o,n)}}}}),e.elesfn.bfs=e.elesfn.breadthFirstSearch,e.elesfn.dfs=e.elesfn.depthFirstSearch,e.elesfn.stdBfs=e.elesfn.stdBreadthFirstSearch,e.elesfn.stdDfs=e.elesfn.stdDepthFirstSearch}(cytoscape),function(e){"use strict";e.fn.eles({aStar:function(t){t=t||{};var r=function(e,t,n,o){if(e==t)return o.push(i.getElementById(t)),o;if(t in n){var a=n[t],s=h[t];return o.push(i.getElementById(t)),o.push(i.getElementById(s)),r(e,a,n,o)}return void 0},n=function(e,t){if(0===e.length)return void 0;for(var r=0,n=t[e[0]],i=1;i<e.length;i++){var o=t[e[i]];n>o&&(n=o,r=i)}return r},i=this._private.cy;if(null==t||null==t.root)return void 0;var o=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null==t.goal)return void 0;var a=e.is.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(null!=t.heuristic&&e.is.fn(t.heuristic))var s=t.heuristic;else var s=function(){return 0};if(null!=t.weight&&e.is.fn(t.weight))var u=t.weight;else var u=function(e){return 1};if(null!=t.directed)var l=t.directed;else var l=!1;var c=[],f=[o.id()],p={},h={},d={},g={};d[o.id()]=0,g[o.id()]=s(o);for(var m=this.edges().stdFilter(function(e){return!e.isLoop()}),v=this.nodes(),y=0;f.length>0;){var x=n(f,g),w=i.getElementById(f[x]);if(y++,w.id()==a.id()){var b=r(o.id(),a.id(),p,[]);return b.reverse(),{found:!0,distance:d[w.id()],path:new e.Collection(i,b),steps:y}}c.push(w.id()),f.splice(x,1);var E=w.connectedEdges();l&&(E=E.stdFilter(function(e){return e.data("source")===w.id()})),E=E.intersect(m);for(var _=0;_<E.length;_++){var N=E[_],S=N.connectedNodes().stdFilter(function(e){return e.id()!==w.id()}).intersect(v);if(-1==c.indexOf(S.id())){var T=d[w.id()]+u.apply(N,[N]);-1!=f.indexOf(S.id())?T<d[S.id()]&&(d[S.id()]=T,g[S.id()]=T+s(S),p[S.id()]=w.id()):(d[S.id()]=T,g[S.id()]=T+s(S),f.push(S.id()),p[S.id()]=w.id(),h[S.id()]=N.id())}}}return{found:!1,distance:void 0,path:void 0,steps:y}},floydWarshall:function(t){t=t||{};var r=this._private.cy;if(null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(e){return 1};if(null!=t.directed)var i=t.directed;else var i=!1;for(var o=this.edges().stdFilter(function(e){return!e.isLoop()}),a=this.nodes(),s=a.length,u={},l=0;s>l;l++)u[a[l].id()]=l;for(var c=[],l=0;s>l;l++){for(var f=new Array(s),p=0;s>p;p++)f[p]=l==p?0:1/0;c.push(f)}var h=[],d=[],g=function(e){for(var t=0;s>t;t++){for(var r=new Array(s),n=0;s>n;n++)r[n]=void 0;e.push(r)}};g(h),g(d);for(var l=0;l<o.length;l++){var m=u[o[l].source().id()],v=u[o[l].target().id()],y=n.apply(o[l],[o[l]]);c[m][v]>y&&(c[m][v]=y,h[m][v]=v,d[m][v]=o[l])}if(!i)for(var l=0;l<o.length;l++){var m=u[o[l].target().id()],v=u[o[l].source().id()],y=n.apply(o[l],[o[l]]);c[m][v]>y&&(c[m][v]=y,h[m][v]=v,d[m][v]=o[l])}for(var x=0;s>x;x++)for(var l=0;s>l;l++)for(var p=0;s>p;p++)c[l][x]+c[x][p]<c[l][p]&&(c[l][p]=c[l][x]+c[x][p],h[l][p]=h[l][x]);for(var w=[],l=0;s>l;l++)w.push(a[l].id());var b={distance:function(t,n){if(e.is.string(t))var i=r.filter(t)[0].id();else var i=t.id();if(e.is.string(n))var o=r.filter(n)[0].id();else var o=n.id();return c[u[i]][u[o]]},path:function(t,n){var i=function(e,t,n,i,o){if(e===t)return r.getElementById(i[e]);if(void 0===n[e][t])return void 0;for(var a=[r.getElementById(i[e])],s=e;e!==t;){s=e,e=n[e][t];var u=o[s][e];a.push(u),a.push(r.getElementById(i[e]))}return a};if(e.is.string(t))var o=r.filter(t)[0].id();else var o=t.id();if(e.is.string(n))var a=r.filter(n)[0].id();else var a=n.id();var s=i(u[o],u[a],h,w,d);return new e.Collection(r,s)}};return b},bellmanFord:function(t){if(t=t||{},null!=t.weight&&e.is.fn(t.weight))var r=t.weight;else var r=function(e){return 1};if(null!=t.directed)var n=t.directed;else var n=!1;if(null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var i=this.filter(t.root)[0];else var i=t.root[0];for(var o=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),u=s.length,l={},c=0;u>c;c++)l[s[c].id()]=c;for(var f=[],p=[],h=[],c=0;u>c;c++)f[c]=s[c].id()===i.id()?0:1/0,p[c]=void 0;for(var d=!1,c=1;u>c;c++){d=!1;for(var g=0;g<a.length;g++){var m=l[a[g].source().id()],v=l[a[g].target().id()],y=r.apply(a[g],[a[g]]),x=f[m]+y;if(x<f[v]&&(f[v]=x,p[v]=m,h[v]=a[g],d=!0),!n){var x=f[v]+y;x<f[m]&&(f[m]=x,p[m]=v,h[m]=a[g],d=!0)}}if(!d)break}if(d)for(var g=0;g<a.length;g++){var m=l[a[g].source().id()],v=l[a[g].target().id()],y=r.apply(a[g],[a[g]]);if(f[m]+y<f[v])return e.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var w=[],c=0;u>c;c++)w.push(s[c].id());var b={distanceTo:function(t){if(e.is.string(t))var r=o.filter(t)[0].id();else var r=t.id();return f[l[r]]},pathTo:function(t){var r=function(e,t,r,n,i,a){for(;;){if(i.push(o.getElementById(n[r])),i.push(a[r]),t===r)return i;var s=e[r];if("undefined"==typeof s)return void 0;r=s}};if(e.is.string(t))var n=o.filter(t)[0].id();else var n=t.id();var a=[],s=r(p,l[i.id()],l[n],w,a,h);return null!=s&&s.reverse(),new e.Collection(o,s)},hasNegativeWeightCycle:!1};return b},kargerStein:function(t){t=t||{};var r=function(e,t,r){for(var n=r[e],i=n[1],o=n[2],a=t[i],s=t[o],u=r.filter(function(e){return t[e[1]]===a&&t[e[2]]===s?!1:t[e[1]]===s&&t[e[2]]===a?!1:!0}),l=0;l<u.length;l++){var c=u[l];c[1]===s?(u[l]=c.slice(0),u[l][1]=a):c[2]===s&&(u[l]=c.slice(0),u[l][2]=a)}for(var l=0;l<t.length;l++)t[l]===s&&(t[l]=a);return u},n=function(e,t,i,o){if(o>=i)return t;var a=Math.floor(Math.random()*t.length),s=r(a,e,t);return n(e,s,i-1,o)},i=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),a=this.nodes(),s=a.length,u=o.length,l=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),c=Math.floor(s/Math.sqrt(2));if(2>s)return void e.util.error("At least 2 nodes are required for KargerSteing algorithm!");for(var f={},p=0;s>p;p++)f[a[p].id()]=p;for(var h=[],p=0;u>p;p++){var d=o[p];h.push([p,f[d.source().id()],f[d.target().id()]])}for(var g,m=1/0,v=[],p=0;s>p;p++)v.push(p);for(var y=0;l>=y;y++){var x=v.slice(0),w=n(x,h,s,c),b=x.slice(0),E=n(x,w,c,2),_=n(b,w,c,2);E.length<=_.length&&E.length<m?(m=E.length,g=[E,x]):_.length<=E.length&&_.length<m&&(m=_.length,g=[_,b])}for(var N=g[0].map(function(e){return o[e[0]]}),S=[],T=[],C=g[1][0],p=0;p<g[1].length;p++){var M=g[1][p];M===C?S.push(a[p]):T.push(a[p])}var A={cut:new e.Collection(i,N),partition1:new e.Collection(i,S),partition2:new e.Collection(i,T)};return A},pageRank:function(t){t=t||{};var r=function(e){for(var t=e.length,r=0,n=0;t>n;n++)r+=e[n];for(var n=0;t>n;n++)e[n]=e[n]/r};if(null!=t&&null!=t.dampingfactor)var n=t.dampingFactor;else var n=.8;if(null!=t&&null!=t.precision)var i=t.precision;else var i=1e-6;if(null!=t&&null!=t.iterations)var o=t.iterations;else var o=200;if(null!=t&&null!=t.weight&&e.is.fn(t.weight))var a=t.weight;else var a=function(e){return 1};for(var s=this._private.cy,u=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),c=l.length,f=u.length,p={},h=0;c>h;h++)p[l[h].id()]=h;for(var d=[],g=[],m=(1-n)/c,h=0;c>h;h++){for(var v=[],y=0;c>y;y++)v.push(0);d.push(v),g.push(0)}for(var h=0;f>h;h++){var x=u[h],w=p[x.source().id()],b=p[x.target().id()],E=a.apply(x,[x]);d[b][w]+=E,g[w]+=E}for(var _=1/c+m,y=0;c>y;y++)if(0===g[y])for(var h=0;c>h;h++)d[h][y]=_;else for(var h=0;c>h;h++)d[h][y]=d[h][y]/g[y]+m;for(var N,S=[],T=[],h=0;c>h;h++)S.push(1),T.push(0);for(var C=0;o>C;C++){for(var M=T.slice(0),h=0;c>h;h++)for(var y=0;c>y;y++)M[h]+=d[h][y]*S[y];r(M),N=S,S=M;for(var A=0,h=0;c>h;h++)A+=Math.pow(N[h]-S[h],2);if(i>A)break}var O={rank:function(t){if(e.is.string(t))var r=s.filter(t)[0].id();else var r=t.id();return S[p[r]]}};return O},degreeCentralityNormalized:function(t){if(t=t||{},null!=t.directed)var r=t.directed;else var r=!1;var n=this.nodes(),i=n.length;if(r){for(var o={},a={},s=0,u=0,l=0;i>l;l++){var c=n[l],f=this.degreeCentrality(e.util.extend({},t,{root:c}));s<f.indegree&&(s=f.indegree),u<f.outdegree&&(u=f.outdegree),o[c.id()]=f.indegree,a[c.id()]=f.outdegree}return{indegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return o[t]/s},outdegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return a[t]/u}}}for(var p={},h=0,l=0;i>l;l++){var c=n[l],f=this.degreeCentrality(e.util.extend({},t,{root:c}));h<f.degree&&(h=f.degree),p[c.id()]=f.degree}return{degree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return p[t]/h}}},degreeCentrality:function(t){t=t||{};var r=this;if(null==t||null==t.root)return void 0;var n=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var i=t.weight;else var i=function(e){return 1};if(null!=t.directed)var o=t.directed;else var o=!1;if(null!=t.alpha&&e.is.number(t.alpha))var a=t.alpha;else a=0;if(o){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(r),u=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(r),l=s.length,c=u.length,f=0,p=0,h=0;h<s.length;h++){var d=s[h];f+=i.apply(d,[d])}for(var h=0;h<u.length;h++){var d=u[h];p+=i.apply(d,[d])}return{indegree:Math.pow(l,1-a)*Math.pow(f,a),outdegree:Math.pow(c,1-a)*Math.pow(p,a)}}for(var g=n.connectedEdges().intersection(r),m=g.length,v=0,h=0;h<g.length;h++){var d=g[h];v+=i.apply(d,[d])}return{degree:Math.pow(m,1-a)*Math.pow(v,a)}},closenessCentralityNormalized:function(t){t=t||{};for(var r={},n=0,i=this.nodes(),o=this.floydWarshall({weight:t.weight,directed:t.directed}),a=0;a<i.length;a++){for(var s=0,u=0;u<i.length;u++)a!=u&&(s+=1/o.distance(i[a],i[u]));s>n&&(n=s),r[i[a].id()]=s}return{closeness:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return r[t]/n}}},closenessCentrality:function(t){if(t=t||{},null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var r=this.filter(t.root)[0];else var r=t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(){return 1};if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var o=this.dijkstra({root:r,weight:n,directed:i}),a=0,s=this.nodes(),u=0;u<s.length;u++)s[u].id()!=r.id()&&(a+=1/o.distanceTo(s[u]));return a},betweennessCentrality:function(t){if(t=t||{},null!=t.weight&&e.is.fn(t.weight))var r=t.weight,n=!0;else var n=!1;if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var o=function(e,t){e.unshift(t);for(var r=0;g[e[r]]<g[e[r+1]]&&r<e.length-1;r++){var n=e[r];e[r]=e[r+1],e[r+1]=n}},a=this._private.cy,s=this.nodes(),u={},l={},c=0;c<s.length;c++)u[s[c].id()]=i?s[c].outgoers("node"):s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)l[s[c].id()]=0;for(var f=0;f<s.length;f++){for(var p=[],h={},d={},g={},m=[],c=0;c<s.length;c++)h[s[c].id()]=[],d[s[c].id()]=0,g[s[c].id()]=Number.POSITIVE_INFINITY;for(d[s[f].id()]=1,g[s[f].id()]=0,m.unshift(s[f].id());m.length>0;){var v=m.pop();p.push(v),u[v].forEach(n?function(e){if(a.$("#"+v).edgesTo(e).length>0)var t=a.$("#"+v).edgesTo(e)[0];else var t=e.edgesTo("#"+v)[0];var n=r.apply(t,[t]);g[e.id()]>g[v]+n&&(g[e.id()]=g[v]+n,m.indexOf(e.id())<0?o(m,e.id()):(m.splice(m.indexOf(e.id()),1),o(m,e.id())),d[e.id()]=0,h[e.id()]=[]),g[e.id()]==g[v]+n&&(d[e.id()]=d[e.id()]+d[v],h[e.id()].push(v))}:function(e){g[e.id()]==Number.POSITIVE_INFINITY&&(m.unshift(e.id()),g[e.id()]=g[v]+1),g[e.id()]==g[v]+1&&(d[e.id()]=d[e.id()]+d[v],h[e.id()].push(v))})}for(var y={},c=0;c<s.length;c++)y[s[c].id()]=0;for(;p.length>0;){var x=p.pop();h[x].forEach(function(e){y[e]=y[e]+d[e]/d[x]*(1+y[x]),x!=s[f].id()&&(l[x]=l[x]+y[x])})}}var w=0;for(var b in l)w<l[b]&&(w=l[b]);var E={betweenness:function(t){if(e.is.string(t))var t=a.filter(t)[0].id();else var t=t.id();return l[t]},betweennessNormalized:function(t){if(e.is.string(t))var t=a.filter(t)[0].id();else var t=t.id();return l[t]/w}};return E.betweennessNormalised=E.betweennessNormalized,E}}),e.elesfn.dc=e.elesfn.degreeCentrality,e.elesfn.dcn=e.elesfn.degreeCentralityNormalised=e.elesfn.degreeCentralityNormalized,e.elesfn.cc=e.elesfn.closenessCentrality,e.elesfn.ccn=e.elesfn.closenessCentralityNormalised=e.elesfn.closenessCentralityNormalized,e.elesfn.bc=e.elesfn.betweennessCentrality}(cytoscape),function(e){"use strict";e.fn.eles({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop()})}(cytoscape),function(e){"use strict";e.fn.eles({addClass:function(t){t=t.split(/\s+/);for(var r=this,n=[],i=0;i<t.length;i++){var o=t[i];if(!e.is.emptyString(o))for(var a=0;a<r.length;a++){var s=r[a],u=s._private.classes[o];s._private.classes[o]=!0,u||n.push(s)}}return n.length>0&&new e.Collection(this._private.cy,n).updateStyle().trigger("class"),r},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes[e]?!0:!1},toggleClass:function(t,r){for(var n=t.split(/\s+/),i=this,o=[],a=0,s=i.length;s>a;a++)for(var u=i[a],l=0;l<n.length;l++){var c=n[l];if(!e.is.emptyString(c)){var f=u._private.classes[c],p=r||void 0===r&&!f;p?(u._private.classes[c]=!0,f||o.push(u)):(u._private.classes[c]=!1,f&&o.push(u))}}return o.length>0&&new e.Collection(this._private.cy,o).updateStyle().trigger("class"),i},removeClass:function(t){t=t.split(/\s+/);for(var r=this,n=[],i=0;i<r.length;i++)for(var o=r[i],a=0;a<t.length;a++){var s=t[a];if(s&&""!==s){var u=o._private.classes[s];o._private.classes[s]=void 0,u&&n.push(o)}}return n.length>0&&new e.Collection(r._private.cy,n).updateStyle(),r.trigger("class"),r},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}})}(cytoscape),function(e){"use strict";e.fn.eles({allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}}),e.elesfn.allAreNeighbours=e.elesfn.allAreNeighbors}(cytoscape),function(e){"use strict";e.fn.eles({parent:function(t){for(var r=[],n=this._private.cy,i=0;i<this.length;i++){var o=this[i],a=n.getElementById(o._private.data.parent);a.size()>0&&r.push(a)}return new e.Collection(n,r,{unique:!0}).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var o=n[i];r.push(o)}n=n.parent()}return new e.Collection(this.cy(),r,{unique:!0}).filter(t)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];r=r.concat(i._private.children)}return new e.Collection(this.cy(),r,{unique:!0}).filter(t)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(t){function r(e){for(var t=0;t<e.length;t++){var i=e[t];n.push(i),i.children().nonempty()&&r(i.children())}}var n=[];return r(this.children()),new e.Collection(this.cy(),n,{unique:!0}).filter(t)}}),e.elesfn.ancestors=e.elesfn.parents}(cytoscape),function(e){"use strict";var t=1,r=0;e.fn.eles({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:e.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:e.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:e.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:e.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0},position:e.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()}}),silentPosition:e.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()}}),positions:function(t,r){if(e.is.plainObject(t))this.position(t);else if(e.is.fn(t)){for(var n=t,i=0;i<this.length;i++){var o=this[i],t=n.apply(o,[i,o]);if(t&&!o.locked()){var a=o._private.position;a.x=t.x,a.y=t.y}}var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;r?u.trigger("position"):u.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},updateCompoundBounds:function(){function t(e){var t=e.children(),r=e._private.style,i="include"===r["compound-sizing-wrt-labels"].value,o=t.boundingBox({includeLabels:i,includeEdges:!0}),a={top:r["padding-top"].pxValue,bottom:r["padding-bottom"].pxValue,left:r["padding-left"].pxValue,right:r["padding-right"].pxValue},s=e._private.position,u=!1;"auto"===r.width.value&&(e._private.autoWidth=o.w+a.left+a.right,s.x=(o.x1+o.x2-a.left+a.right)/2,u=!0),"auto"===r.height.value&&(e._private.autoHeight=o.h+a.top+a.bottom,s.y=(o.y1+o.y2-a.top+a.bottom)/2,u=!0),u&&n.push(e)}var r=this.cy();if(!r.styleEnabled()||!r.hasCompoundNodes())return r.collection();for(var n=[],i=this.parent();i.nonempty();){for(var o=0;o<i.length;o++){var a=i[o];t(a)}i=i.parent()}return new e.Collection(r,n)},renderedPosition:function(t,r){var n=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),s=e.is.plainObject(t)?t:void 0,u=void 0!==s||void 0!==r&&e.is.string(t);if(n&&n.isNode()){if(!u){var l=n._private.position;return s={x:l.x*o+a.x,y:l.y*o+a.y},void 0===t?s:s[t]}for(var c=0;c<this.length;c++){var n=this[c];void 0!==r?n._private.position[t]=(r-a[t])/o:void 0!==s&&(n._private.position={x:(s.x-a.x)/o,y:(s.y-a.y)/o})}this.rtrigger("position")}else if(!u)return void 0;return this},relativePosition:function(t,r){var n=this[0],i=this.cy(),o=e.is.plainObject(t)?t:void 0,a=void 0!==o||void 0!==r&&e.is.string(t),s=i.hasCompoundNodes();if(n&&n.isNode()){if(!a){var u=n._private.position,l=s?n.parent():null,c=l&&l.length>0,f=c;c&&(l=l[0]);var p=f?l._private.position:{x:0,y:0};return o={x:u.x-p.x,y:u.y-p.y},void 0===t?o:o[t]}for(var h=0;h<this.length;h++){var n=this[h],l=s?n.parent():null,c=l&&l.length>0,f=c;c&&(l=l[0]);var p=f?l._private.position:{x:0,y:0};void 0!==r?n._private.position[t]=r+p[t]:void 0!==o&&(n._private.position={x:o.x+p.x,y:o.y+p.y})}this.rtrigger("position")}else if(!a)return void 0;return this},width:function(){var e=this[0],t=e._private.cy,r=t._private.styleEnabled;if(e){if(r){var n=e._private.style.width;return"auto"===n.strValue?e._private.autoWidth:n.pxValue}return 1}},outerWidth:function(){var e=this[0],n=e._private.cy,i=n._private.styleEnabled;if(e){if(i){var o=e._private.style,a="auto"===o.width.strValue?e._private.autoWidth:o.width.pxValue,s=o["border-width"]?o["border-width"].pxValue*t+r:0;return a+s}return 1}},renderedWidth:function(){var e=this[0];if(e){var t=e.width();return t*this.cy().zoom()}},renderedOuterWidth:function(){var e=this[0];if(e){var t=e.outerWidth();return t*this.cy().zoom()}},height:function(){var e=this[0],t=e._private.cy,r=t._private.styleEnabled;if(e&&"nodes"===e._private.group){if(r){var n=e._private.style.height;return"auto"===n.strValue?e._private.autoHeight:n.pxValue}return 1}},outerHeight:function(){var e=this[0],n=e._private.cy,i=n._private.styleEnabled;if(e&&"nodes"===e._private.group){if(!i)return 1;var o=e._private.style,a="auto"===o.height.strValue?e._private.autoHeight:o.height.pxValue,s=o["border-width"]?o["border-width"].pxValue*t+r:0;return a+s}},renderedHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.height();return t*this.cy().zoom()}},renderedOuterHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.outerHeight();return t*this.cy().zoom()}},renderedBoundingBox:function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),o=t.x1*n+i.x,a=t.x2*n+i.x,s=t.y1*n+i.y,u=t.y2*n+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}},boundingBox:function(e){var t=this,r=t._private.cy,n=r._private,i=n.styleEnabled;e=e||{};var o=void 0===e.includeNodes?!0:e.includeNodes,a=void 0===e.includeEdges?!0:e.includeEdges,s=void 0===e.includeLabels?!0:e.includeLabels;i&&n.renderer.recalculateRenderedStyle(this);for(var u=1/0,l=-(1/0),c=1/0,f=-(1/0),p=0;p<t.length;p++){var h,d,g,m,v,y,x=t[p],w=x._private,b=w.style,E=i?w.style.display.value:"element",_="nodes"===w.group,N=!1;if("none"!==E){if(_&&o){N=!0;var S=w.position;v=S.x,y=S.y;var T=x.outerWidth(),C=T/2,M=x.outerHeight(),A=M/2;h=v-C,d=v+C,g=y-A,m=y+A,u=u>h?h:u,l=d>l?d:l,c=c>g?g:c,f=m>f?m:f}else if(x.isEdge()&&a){N=!0;var O=w.source,k=O._private,P=k.position,D=w.target,z=D._private,B=z.position,q=w.rstyle||{};if(h=P.x,d=B.x,g=P.y,m=B.y,h>d){var I=h;h=d,d=I}if(g>m){var I=g;g=m,m=I}if(u=u>h?h:u,l=d>l?d:l,c=c>g?g:c,f=m>f?m:f,i)for(var L=q.bezierPts||[],T=b.width.pxValue,R=T/2,j=0;j<L.length;j++){var F=L[j];h=F.x-R,d=F.x+R,g=F.y-R,m=F.y+R,u=u>h?h:u,l=d>l?d:l,c=c>g?g:c,f=m>f?m:f}if(i&&"haystack"===b["curve-style"].strValue){var U=w.rscratch.haystackPts;if(h=U[0],g=U[1],d=U[2],m=U[3],h>d){var I=h;h=d,d=I}if(g>m){var I=g;g=m,m=I}u=u>h?h:u,l=d>l?d:l,c=c>g?g:c,f=m>f?m:f}}if(i){var b=x._private.style,q=x._private.rstyle,$=b.content.strValue,V=b["font-size"],H=b["text-halign"],X=b["text-valign"],W=q.labelWidth,Y=q.labelHeight,G=q.labelX,Z=q.labelY;if(N&&s&&$&&V&&null!=Y&&null!=W&&null!=G&&null!=Z&&H&&X){var K,J,Q,ee,te=Y,re=W;if(x.isEdge())K=G-re/2,J=G+re/2,Q=Z-te/2,ee=Z+te/2;else{switch(H.value){case"left":K=G-re,J=G;break;case"center":K=G-re/2,J=G+re/2;break;case"right":K=G,J=G+re}switch(X.value){case"top":Q=Z-te,ee=Z;break;case"center":Q=Z-te/2,ee=Z+te/2;break;case"bottom":Q=Z,ee=Z+te}}u=u>K?K:u,l=J>l?J:l,c=c>Q?Q:c,f=ee>f?ee:f}}}}return{x1:u,x2:l,y1:c,y2:f,w:l-u,h:f-c}}});var n=e.elesfn;n.attr=n.data,n.removeAttr=n.removeData,n.modelPosition=n.point=n.position,n.modelPositions=n.points=n.positions,n.renderedPoint=n.renderedPosition,n.relativePoint=n.relativePosition,n.boundingbox=n.boundingBox,n.renderedBoundingbox=n.renderedBoundingBox}(cytoscape),function(e){"use strict";function t(e){return function(t){var r=this;if(void 0===t&&(t=!0),0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];(t||!s.isLoop())&&(n+=e(i,s))}return n}}}function r(e,t){return function(r){for(var n,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[e](r);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}e.fn.eles({degree:t(function(e,t){return t.source().same(t.target())?2:1}),indegree:t(function(e,t){return t.target().same(e)?1:0}),outdegree:t(function(e,t){return t.source().same(e)?1:0})}),e.fn.eles({minDegree:r("degree",function(e,t){return t>e}),maxDegree:r("degree",function(e,t){return e>t;

}),minIndegree:r("indegree",function(e,t){return t>e}),maxIndegree:r("indegree",function(e,t){return e>t}),minOutdegree:r("outdegree",function(e,t){return t>e}),maxOutdegree:r("outdegree",function(e,t){return e>t})}),e.fn.eles({totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}})}(cytoscape),function(e){"use strict";e.fn.eles({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger(),rtrigger:function(e,t){return 0!==this.length?(this.cy().notify({type:e,collection:this}),this.trigger(e,t),this):void 0}}),e.define.eventAliasesOn(e.elesfn)}(cytoscape),function(e){"use strict";e.fn.eles({nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(t){var r=this._private.cy;if(e.is.fn(t)){for(var n=[],i=0;i<this.length;i++){var o=this[i];t.apply(o,[i,o])&&n.push(o)}return new e.Collection(r,n)}return e.is.string(t)||e.is.elementOrCollection(t)?new e.Selector(t).filter(this):void 0===t?this:new e.Collection(r)},not:function(t){var r=this._private.cy;if(t){e.is.string(t)&&(t=this.filter(t));for(var n=[],i=0;i<this.length;i++){var o=this[i],a=t._private.ids[o.id()];a||n.push(o)}return new e.Collection(r,n)}return this},absoluteComplement:function(){var e=this._private.cy;return e.elements().not(this)},intersect:function(t){var r=this._private.cy;if(e.is.string(t)){var n=t;return this.filter(n)}for(var i=[],o=this,a=t,s=this.length<t.length,u=s?a._private.ids:o._private.ids,l=s?o:a,c=0;c<l.length;c++){var f=l[c]._private.data.id,p=u[f];p&&i.push(p)}return new e.Collection(r,i)},xor:function(t){var r=this._private.cy;e.is.string(t)&&(t=r.$(t));var n=[],i=this,o=t,a=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id,a=t._private.ids[o];a||n.push(i)}};return a(i,o),a(o,i),new e.Collection(r,n)},diff:function(t){var r=this._private.cy;e.is.string(t)&&(t=r.$(t));var n=[],i=[],o=[],a=this,s=t,u=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,s=t._private.ids[a];s?o.push(i):r.push(i)}};return u(a,s,n),u(s,a,i),{left:new e.Collection(r,n,{unique:!0}),right:new e.Collection(r,i,{unique:!0}),both:new e.Collection(r,o,{unique:!0})}},add:function(t){var r=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=r.elements(n)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var o=0;o<t.length;o++){var a=!this._private.ids[t[o].id()];a&&i.push(t[o])}return new e.Collection(r,i)},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(e.is.string(t)){var i=t;t=n.elements(i)}for(var o=0;o<t.length;o++){var a=t[o],s=a.id(),u=!r.ids[s];if(u){var l=this.length++;this[l]=a,r.ids[s]=a,r.indexes[s]=l}}return this},unmergeOne:function(e){e=e[0];var t=this._private,r=e.id(),n=t.indexes[r];if(null==n)return this;this[n]=void 0,t.ids[r]=void 0,t.indexes[r]=void 0;var i=n===this.length-1;if(this.length>1&&!i){var o=this.length-1,a=this[o];this[o]=void 0,this[n]=a,t.indexes[a.id()]=n}return this.length--,this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=r.elements(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var o=n[i],a=t?e.apply(t,[o,i,n]):e(o,i,n);r.push(a)}return r},stdFilter:function(t,r){for(var n=[],i=this,o=this._private.cy,a=0;a<i.length;a++){var s=i[a],u=r?t.apply(r,[s,a,i]):t(s,a,i);u&&n.push(s)}return new e.Collection(o,n)},max:function(e,t){for(var r,n=-(1/0),i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s>n&&(n=s,r=a)}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);n>s&&(n=s,r=a)}return{value:n,ele:r}}});var t=e.elesfn;t.u=t["|"]=t["+"]=t.union=t.or=t.add,t["\\"]=t["!"]=t["-"]=t.difference=t.relativeComplement=t.not,t.n=t["&"]=t["."]=t.and=t.intersection=t.intersect,t["^"]=t["(+)"]=t["(-)"]=t.symmetricDifference=t.symdiff=t.xor,t.fnFilter=t.filterFn=t.stdFilter,t.complement=t.abscomp=t.absoluteComplement}(cytoscape),function(e){"use strict";e.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}})}(cytoscape),function(e){"use strict";e.fn.eles({each:function(t){if(e.is.fn(t))for(var r=0;r<this.length;r++){var n=this[r],i=t.apply(n,[r,n]);if(i===!1)break}return this},forEach:function(t,r){if(e.is.fn(t))for(var n=0;n<this.length;n++){var i=this[n],o=r?t.apply(r,[i,n,this]):t(i,n,this);if(o===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(t,r){var n=[],i=this.length;null==r&&(r=i),null==t&&(t=0),0>t&&(t=i+t),0>r&&(r=i+r);for(var o=t;o>=0&&r>o&&i>o;o++)n.push(this[o]);return new e.Collection(this.cy(),n)},size:function(){return this.length},eq:function(t){return this[t]||new e.Collection(this.cy())},first:function(){return this[0]||new e.Collection(this.cy())},last:function(){return this[this.length-1]||new e.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!e.is.fn(t))return this;var r=this.cy(),n=this.toArray().sort(t);return new e.Collection(r,n)},sortByZIndex:function(){return this.sort(e.Collection.zIndexSort)},zDepth:function(){var e=this[0];if(!e)return void 0;var t=e._private,r=t.group;if("nodes"===r){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Number.MAX_VALUE}var i=t.source,o=t.target,a=i.zDepth(),s=o.zDepth();return Math.max(a,s,0)}}),e.Collection.zIndexSort=function(e,t){var r=e.cy(),n=e._private,i=t._private,o=n.style["z-index"].value-i.style["z-index"].value,a=0,s=0,u=r.hasCompoundNodes(),l="nodes"===n.group,c="edges"===n.group,f="nodes"===i.group,p="edges"===i.group;u&&(a=e.zDepth(),s=t.zDepth());var h=a-s,d=0===h;return d?l&&p?1:c&&f?-1:0===o?n.index-i.index:o:h}}(cytoscape),function(e){"use strict";e.fn.eles({layoutPositions:function(t,r,n){var i=this.nodes(),o=this.cy();if(t.trigger({type:"layoutstart",layout:t}),r.animate){for(var a=0;a<i.length;a++){var s=i[a],u=a===i.length-1,l=n.call(s,a,s),c=s.position();e.is.number(c.x)&&e.is.number(c.y)||s.silentPosition({x:0,y:0}),s.animate({position:l},{duration:r.animationDuration,step:u?function(){r.fit&&o.fit(r.padding)}:void 0,complete:u?function(){null!=r.zoom&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),r.fit&&o.fit(r.padding),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t})}:void 0})}t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t})}else i.positions(n),r.fit&&o.fit(r.padding),null!=r.zoom&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.layout(e.util.extend({},t,{eles:this})),this},makeLayout:function(t){var r=this.cy();return r.makeLayout(e.util.extend({},t,{eles:this}))}}),e.elesfn.createLayout=e.elesfn.makeLayout}(cytoscape),function(e){"use strict";e.fn.eles({updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){for(var r=t._private.batchStyleEles,n=0;n<this.length;n++){var i=this[n];r.ids[i._private.id]||r.push(i)}return this}var o=t.style();e=e||void 0===e?!0:!1,o.apply(this);var a=this.updateCompoundBounds(),s=a.length>0?this.add(a):this;return e?s.rtrigger("style"):s.trigger("style"),this},updateMappers:function(e){var t=this._private.cy,r=t.style();if(e=e||void 0===e?!0:!1,!t.styleEnabled())return this;r.updateMappers(this);var n=this.updateCompoundBounds(),i=n.length>0?this.add(n):this;return e?i.rtrigger("style"):i.trigger("style"),this},renderedCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r){var n=r.cy().style().getRenderedStyle(r);return void 0===e?n:n[e]}},css:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(e.is.plainObject(t)){var a=t;o.applyBypass(this,a,i);var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;u.rtrigger("style")}else if(e.is.string(t)){if(void 0===r){var l=this[0];return l?l._private.style[t].strValue:void 0}o.applyBypass(this,t,r,i);var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;u.rtrigger("style")}else if(void 0===t){var l=this[0];return l?o.getRawStyle(l):void 0}return this},removeCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var o=0;o<i.length;o++){var a=i[o];n.removeAllBypasses(a,r)}else{e=e.split(/\s+/);for(var o=0;o<i.length;o++){var a=i[o];n.removeBypasses(a,e,r)}}var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;return u.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],r=e.hasCompoundNodes();if(t){var n=t._private.style;if("visible"!==n.visibility.value||"element"!==n.display.value)return!1;if("nodes"===t._private.group){if(!r)return!0;var i=t._private.data.parent?t.parents():null;if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a._private.style,u=s.visibility.value,l=s.display.value;if("visible"!==u||"element"!==l)return!1}return!0}var c=t._private.source,f=t._private.target;return c.visible()&&f.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=n.style.opacity.value;if(!t)return i;var o=n.data.parent?r.parents():null;if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s._private.style.opacity.value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();return t?r?0===t.effectiveOpacity():0===t._private.style.opacity.value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var r="auto"===t._private.style.width.value,n="auto"===t._private.style.height.value;return t.isParent()&&r&&n}},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return t._private.backgrounding?!0:!1}}),e.elesfn.bypass=e.elesfn.style=e.elesfn.css,e.elesfn.renderedStyle=e.elesfn.renderedCss,e.elesfn.removeBypass=e.elesfn.removeStyle=e.elesfn.removeCss}(cytoscape),function(e){"use strict";function t(t){return function(){var r=arguments,n=[];if(2===r.length){var i=r[0],o=r[1];this.bind(t.event,i,o)}else if(1===r.length){var o=r[0];this.bind(t.event,o)}else if(0===r.length){for(var a=0;a<this.length;a++){var s=this[a],u=!t.ableField||s._private[t.ableField],l=s._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(s);if(void 0!==c&&(u=c,!c))return this}u&&(s._private[t.field]=t.value,l&&n.push(s))}var f=e.Collection(this.cy(),n);f.updateStyle(),f.trigger(t.event)}return this}}function r(r){e.elesfn[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(void 0!==t)return t}return e._private[r.field]}},e.elesfn[r.on]=t({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),e.elesfn[r.off]=t({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}r({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),r({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),r({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),r({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),e.elesfn.deselect=e.elesfn.unselect,e.elesfn.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0},r({field:"active",on:"activate",off:"unactivate"}),e.elesfn.inactive=function(){var e=this[0];return e?!e._private.active:void 0}}(cytoscape),function(e){"use strict";function t(t){return function(r){for(var n=[],i=this._private.cy,o=0;o<this.length;o++){var a=this[o],s=a._private[t.attr];s&&n.push(s)}return new e.Collection(i,n,{unique:!0}).filter(r)}}function r(t){return function(r){var n=[],i=this._private.cy,o=t||{};e.is.string(r)&&(r=i.$(r));for(var a=r.connectedEdges(),s=this._private.ids,u=0;u<a.length;u++){var l,c=a[u],f=c._private.data;if(o.thisIs){var p=f[o.thisIs];l=s[p]}else l=s[f.source]||s[f.target];l&&n.push(c)}return new e.Collection(i,n,{unique:!0})}}function n(t){var r={codirected:!1};return t=e.util.extend({},r,t),function(r){for(var n=this._private.cy,i=[],o=this.edges(),a=t,s=0;s<o.length;s++)for(var u=o[s],l=u.source()[0],c=l.id(),f=u.target()[0],p=f.id(),h=l._private.edges,d=0;d<h.length;d++){var g=h[d],m=g._private.data,v=m.target,y=m.source,x=v===p&&y===c,w=c===v&&p===y;(a.codirected&&x||!a.codirected&&(x||w))&&i.push(g)}return new e.Collection(n,i,{unique:!0}).filter(r)}}e.fn.eles({roots:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var o=r[i];if(o.isNode()){var a=o.connectedEdges(function(){return this.data("target")===o.id()&&this.data("source")!==o.id()}).length>0;a||n.push(o)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},leaves:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var o=r[i];if(o.isNode()){var a=o.connectedEdges(function(){return this.data("source")===o.id()&&this.data("target")!==o.id()}).length>0;a||n.push(o)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},outgoers:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var o=r[i],a=o.id();if(o.isNode())for(var s=o._private.edges,u=0;u<s.length;u++){var l=s[u],c=l._private.data.source,f=l._private.data.target;c===a&&f!==a&&(n.push(l),n.push(l.target()[0]))}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},successors:function(t){for(var r=this,n=[],i={};;){var o=r.outgoers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var u=o[s],l=u.id();i[l]||(i[l]=!0,n.push(u),a=!0)}if(!a)break;r=o}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},incomers:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var o=r[i],a=o.id();if(o.isNode())for(var s=o._private.edges,u=0;u<s.length;u++){var l=s[u],c=l._private.data.source,f=l._private.data.target;f===a&&c!==a&&(n.push(l),n.push(l.source()[0]))}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},predecessors:function(t){for(var r=this,n=[],i={};;){var o=r.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var u=o[s],l=u.id();i[l]||(i[l]=!0,n.push(u),a=!0)}if(!a)break;r=o}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)}}),e.fn.eles({neighborhood:function(t){for(var r=[],n=this._private.cy,i=this.nodes(),o=0;o<i.length;o++)for(var a=i[o],s=a.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.connectedNodes().not(a);c.length>0&&r.push(c[0]),r.push(l[0])}return new e.Collection(n,r,{unique:!0}).filter(t)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),e.elesfn.neighbourhood=e.elesfn.neighborhood,e.elesfn.closedNeighbourhood=e.elesfn.closedNeighborhood,e.elesfn.openNeighbourhood=e.elesfn.openNeighborhood,e.fn.eles({source:function(e){var t,r=this[0];return r&&(t=r._private.source),t&&e?t.filter(e):t},target:function(e){var t,r=this[0];return r&&(t=r._private.target),t&&e?t.filter(e):t},sources:t({attr:"source"}),targets:t({attr:"target"})}),e.fn.eles({edgesWith:r(),edgesTo:r({thisIs:"source"})}),e.fn.eles({connectedEdges:function(t){for(var r=[],n=this._private.cy,i=this,o=0;o<i.length;o++){var a=i[o];if(a.isNode())for(var s=a._private.edges,u=0;u<s.length;u++){var l=s[u];r.push(l)}}return new e.Collection(n,r,{unique:!0}).filter(t)},connectedNodes:function(t){for(var r=[],n=this._private.cy,i=this,o=0;o<i.length;o++){var a=i[o];a.isEdge()&&(r.push(a.source()[0]),r.push(a.target()[0]))}return new e.Collection(n,r,{unique:!0}).filter(t)},parallelEdges:n(),codirectedEdges:n({codirected:!0})})}(cytoscape),function(e){"use strict";e.fn.eles({fit:function(){},center:function(){}})}(cytoscape),function(e){"use strict";e.Minheap=function(t,r,n){return new e.Heap(t,r,e.Heap.minHeapComparator,n)},e.Maxheap=function(t,r,n){return new e.Heap(t,r,e.Heap.maxHeapComparator,n)},e.Heap=function(t,r,n,i){if("undefined"!=typeof n&&"undefined"!=typeof r){"undefined"==typeof i&&(i=e.Heap.idFn);var o,a,s,u=[],l={},c=[],f=0;for(r=this.getArgumentAsCollection(r,t),s=r.length,f=0;s>f;f+=1){if(u.push(i.call(t,r[f],f,r)),o=r[f].id(),l.hasOwnProperty(o))throw"ERROR: Multiple items with the same id found: "+o;l[o]=f,c.push(o)}for(this._private={cy:t,heap:u,pointers:l,elements:c,comparator:n,extractor:i,length:s},f=Math.floor(s/2);f>=0;f-=1)a=this.heapify(f);return a}},e.Heap.idFn=function(e){return e.id()},e.Heap.minHeapComparator=function(e,t){return e>=t},e.Heap.maxHeapComparator=function(e,t){return t>=e},e.fn.heap=function(t,r){for(var n in t){var i=t[n];e.Heap.prototype[n]=i}},e.heapfn=e.Heap.prototype,e.heapfn.size=function(){return this._private.length},e.heapfn.getArgumentAsCollection=function(t,r){var n;if("undefined"==typeof r&&(r=this._private.cy),e.is.elementOrCollection(t))n=t;else{for(var i=[],o=[].concat.apply([],[t]),a=0;a<o.length;a++){var s=o[a],u=r.getElementById(s);u.length>0&&i.push(u)}n=new e.Collection(r,i)}return n},e.heapfn.isHeap=function(){var e,t,r,n,i,o=this._private.heap,a=o.length,s=this._private.comparator;for(e=0;a>e;e+=1)if(t=2*e+1,r=t+1,n=a>t?s(o[t],o[e]):!0,i=a>r?s(o[r],o[e]):!0,!n||!i)return!1;return!0},e.heapfn.heapSwap=function(e,t){var r=this._private.heap,n=this._private.pointers,i=this._private.elements,o=r[e],a=i[e],s=i[e],u=i[t];r[e]=r[t],i[e]=i[t],n[s]=t,n[u]=e,r[t]=o,i[t]=a},e.heapfn.heapify=function(e,t){var r,n,i,o,a,s,u,l=0,c=!1;for("undefined"==typeof t&&(t=!0),r=this._private.heap,l=r.length,s=this._private.comparator,n=e;!c;)t?(i=2*n+1,o=i+1,a=n,l>i&&!s(r[i],r[a])&&(a=i),l>o&&!s(r[o],r[a])&&(a=o),c=a===n,c||(this.heapSwap(a,n),n=a)):(u=Math.floor((n-1)/2),a=n,c=0>u||s(r[a],r[u]),c||(this.heapSwap(a,u),n=u))},e.heapfn.insert=function(e){var t,r,n,i,o,a=this.getArgumentAsCollection(e),s=a.length;for(o=0;s>o;o+=1){if(t=a[o],r=this._private.heap.length,n=this._private.extractor(t),i=t.id(),this._private.pointers.hasOwnProperty(i))throw"ERROR: Multiple items with the same id found: "+i;this._private.heap.push(n),this._private.elements.push(i),this._private.pointers[i]=r,this.heapify(r,!1)}this._private.length=this._private.heap.length},e.heapfn.getValueById=function(e){if(this._private.pointers.hasOwnProperty(e)){var t=this._private.pointers[e];return this._private.heap[t]}},e.heapfn.contains=function(e){for(var t=this.getArgumentAsCollection(e),r=0;r<t.length;r+=1){var n=t[r].id();if(!this._private.pointers.hasOwnProperty(n))return!1}return!0},e.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},e.heapfn.pop=function(){if(this._private.length>0){var e,t,r,n=this.top(),i=this._private.length-1;return this.heapSwap(0,i),e=this._private.elements[i],t=this._private.heap[i],r=e,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[r]=void 0,this.heapify(0),n}},e.heapfn.findDirectionHeapify=function(e){var t=Math.floor((e-1)/2),r=this._private.heap,n=0>t||this._private.comparator(r[e],r[t]);this.heapify(e,n)},e.heapfn.edit=function(t,r){for(var n=this.getArgumentAsCollection(t),i=0;i<n.length;i+=1){var o=n[i].id(),a=this._private.pointers[o],s=this._private.heap[a];e.is.number(r)?this._private.heap[a]=r:e.is.fn(r)&&(this._private.heap[a]=r.call(this._private.cy,s,a)),this.findDirectionHeapify(a)}},e.heapfn.remove=function(e){for(var t=this.getArgumentAsCollection(e),r=0;r<t.length;r+=1){var n,i,o,a=t[r].id(),s=this._private.pointers[a],u=this._private.length-1;s!==u&&this.heapSwap(s,u),n=this._private.elements[u],i=this._private.heap[u],o=n,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[o]=void 0,this.findDirectionHeapify(s)}return i}}(cytoscape),function(e){"use strict";function t(e){this.options=e,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:e.cy,container:e.cy.container(),canvases:new Array(t.CANVAS_LAYERS),contexts:new Array(t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(t.CANVAS_LAYERS),bufferCanvases:new Array(t.BUFFER_COUNT),bufferContexts:new Array(t.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=e.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var r=this.data.canvasContainer.style;r.position="absolute",r.zIndex="0",r.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var n=0;n<t.CANVAS_LAYERS;n++)this.data.canvases[n]=document.createElement("canvas"),this.data.contexts[n]=this.data.canvases[n].getContext("2d"),this.data.canvases[n].style.position="absolute",this.data.canvases[n].setAttribute("data-id","layer"+n),this.data.canvases[n].style.zIndex=String(t.CANVAS_LAYERS-n),this.data.canvasContainer.appendChild(this.data.canvases[n]),this.data.canvasNeedsRedraw[n]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[t.NODE].setAttribute("data-id","layer"+t.NODE+"-node"),this.data.canvases[t.SELECT_BOX].setAttribute("data-id","layer"+t.SELECT_BOX+"-selectbox"),this.data.canvases[t.DRAG].setAttribute("data-id","layer"+t.DRAG+"-drag");for(var n=0;n<t.BUFFER_COUNT;n++)this.data.bufferCanvases[n]=document.createElement("canvas"),this.data.bufferContexts[n]=this.data.bufferCanvases[n].getContext("2d"),this.data.bufferCanvases[n].style.position="absolute",this.data.bufferCanvases[n].setAttribute("data-id","buffer"+n),this.data.bufferCanvases[n].style.zIndex=String(-n-1),this.data.bufferCanvases[n].style.visibility="hidden";this.hideEdgesOnViewport=e.hideEdgesOnViewport,this.hideLabelsOnViewport=e.hideLabelsOnViewport,this.textureOnViewport=e.textureOnViewport,this.wheelSensitivity=e.wheelSensitivity,this.motionBlurEnabled=e.motionBlur,this.forcedPixelRatio=e.pixelRatio,this.motionBlur=!0,this.motionBlurOpacity=e.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.tapThreshold=e.tapThreshold,this.tapThreshold2=e.tapThreshold*e.tapThreshold,this.tapholdDuration=500,this.load()}t.CANVAS_LAYERS=3,t.SELECT_BOX=0,t.DRAG=1,t.NODE=2,t.BUFFER_COUNT=3,t.TEXTURE_BUFFER=0,t.MOTIONBLUR_BUFFER_NODE=1,t.MOTIONBLUR_BUFFER_DRAG=2,t.panOrBoxSelectDelay=400,t.isTouch=e.is.touch();var r="undefined"!=typeof Path2D;t.usePaths=function(){return r},t.prototype.notify=function(r){var n;n=e.is.array(r.type)?r.type:[r.type];for(var i=0;i<n.length;i++){var o=n[i];switch(o){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}("load"===o||"resize"===o)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[t.NODE]=!0,this.data.canvasNeedsRedraw[t.DRAG]=!0,this.redraw()},t.prototype.destroy=function(){this.destroyed=!0;for(var e=0;e<this.bindings.length;e++){var t=this.bindings[e],r=t;r.target.removeEventListener(r.event,r.handler,r.useCapture)}this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv&&document.body.removeChild(this.labelCalcDiv)};for(var n in e.math)t.prototype[n]=e.math[n];e("renderer","canvas",t)}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype,n=t.arrowShapes={};t.arrowShapeHeight=.3;var i=function(e,t,r,n,i,o,a,s){var u=r-i/2,l=r+i/2,c=n-o/2,f=n+o/2;return e>=u&&l>=e&&t>=c&&f>=t},o=function(e,t,r,n,i){n=-n;var o=e*Math.cos(n)-t*Math.sin(n),a=e*Math.sin(n)+t*Math.cos(n),s=o*r,u=a*r,l=s+i.x,c=u+i.y;return{x:l,y:c}};n.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(t,r,i,o,a,s,u,l){var c=n.arrow._points;return e.math.pointInsidePolygon(t,r,c,i,o,a,s,u,l)},roughCollide:i,draw:function(e,t,r,i){for(var a=n.arrow._points,s=0;s<a.length/2;s++){var u=o(a[2*s],a[2*s+1],t,r,i);e.lineTo(u.x,u.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.triangle=n.arrow,n["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(t,r,i,o,a,s,u,l){var c=n.triangle._points;return e.math.pointInsidePolygon(t,r,c,i,o,a,s,u,l)},roughCollide:i,draw:function(e,t,r,i){for(var a,s=n.triangle._points,u=0;u<s.length/2;u++){var l=o(s[2*u],s[2*u+1],t,r,i);0===u&&(a=l),e.lineTo(l.x,l.y)}var c=this._ctrlPt,f=o(c[0],c[1],t,r,i);e.quadraticCurveTo(f.x,f.y,a.x,a.y)},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,r,i,o,a,s,u,l){var c=n["triangle-tee"]._points,f=n["triangle-tee"]._pointsTee,p=e.math.pointInsidePolygon(t,r,f,i,o,a,s,u,l)||e.math.pointInsidePolygon(t,r,c,i,o,a,s,u,l);return p},roughCollide:i,draw:function(e,t,r,i){for(var a=n["triangle-tee"]._points,s=0;s<a.length/2;s++){var u=o(a[2*s],a[2*s+1],t,r,i);e.lineTo(u.x,u.y)}var l=n["triangle-tee"]._pointsTee,c=o(l[0],l[1],t,r,i);e.moveTo(c.x,c.y);for(var s=0;s<l.length/2;s++){var u=o(l[2*s],l[2*s+1],t,r,i);e.lineTo(u.x,u.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(t,r,n,i,o,a,s,u){var l=this._points;return e.math.pointInsidePolygon(t,r,l,n,i,o,a,s,u)},roughCollide:i,draw:function(e,t,r,n){for(var i=this._points,a=0;a<i.length/2;a++){var s=o(i[2*a],i[2*a+1],t,r,n);e.lineTo(s.x,s.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.none={collide:function(e,t,r,n,i,o,a,s){return!1},roughCollide:function(e,t,r,n,i,o,a,s){return!1},draw:function(e){},spacing:function(e){return 0},gap:function(e){return 0}},n.circle={_baseRadius:.15,collide:function(e,t,r,i,o,a,s,u){if(o!=a){var l=(a+u)/(o+u);return t/=l,i/=l,Math.pow(r-e,2)+Math.pow(i-t,2)<=Math.pow((o+u)*n.circle._baseRadius,2)}return Math.pow(r-e,2)+Math.pow(i-t,2)<=Math.pow((o+u)*n.circle._baseRadius,2)},roughCollide:i,draw:function(e,t,r,i){e.arc(i.x,i.y,n.circle._baseRadius*t,0,2*Math.PI,!1)},spacing:function(e){return r.getArrowWidth(e._private.style.width.pxValue)*n.circle._baseRadius},gap:function(e){return 2*e._private.style.width.pxValue}},n.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(t,r,i,o,a,s,u,l){var c=n.inhibitor._points;return e.math.pointInsidePolygon(t,r,c,i,o,a,s,u,l)},roughCollide:i,draw:function(e,t,r,i){for(var a=n.inhibitor._points,s=0;s<a.length/2;s++){var u=o(a[2*s],a[2*s+1],t,r,i);e.lineTo(u.x,u.y)}},spacing:function(e){return 1},gap:function(e){return 1}},n.tee=n.inhibitor,n.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(t,r,i,o,a,s,u,l){var c=n.square._points;return e.math.pointInsidePolygon(t,r,c,i,o,a,s,u,l)},roughCollide:i,draw:function(e,t,r,i){for(var a=n.square._points,s=0;s<a.length/2;s++){var u=o(a[2*s],a[2*s+1],t,r,i);e.lineTo(u.x,u.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(t,r,i,o,a,s,u,l){var c=n.diamond._points;return e.math.pointInsidePolygon(t,r,c,i,o,a,s,u,l)},roughCollide:i,draw:function(e,t,r,i){for(var a=n.diamond._points,s=0;s<a.length/2;s++){var u=o(a[2*s],a[2*s+1],t,r,i);e.lineTo(u.x,u.y)}},spacing:function(e){return 0},gap:function(e){return e._private.style.width.pxValue}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.getCachedNodes=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedNodes&&(e.cache.cachedNodes=t.nodes()),e.cache.cachedNodes},r.updateNodesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedNodes=t.nodes()},r.getCachedEdges=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedEdges&&(e.cache.cachedEdges=t.edges()),e.cache.cachedEdges},r.updateEdgesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedEdges=t.edges()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.projectIntoViewport=function(e,t){var r=this.findContainerClientCoords(),n=r[0],i=r[1],o=e-n,a=t-i;return o-=this.data.cy.pan().x,a-=this.data.cy.pan().y,o/=this.data.cy.zoom(),a/=this.data.cy.zoom(),[o,a]},r.findContainerClientCoords=function(){var e=this.data.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]},r.invalidateContainerClientCoordsCache=function(){this.containerBB=null},r.findNearestElement=function(r,n,i){function o(e){var o=e.outerWidth(),a=e.outerHeight(),u=o/2,c=a/2,f=e._private.position;if(f.x-u<=r&&r<=f.x+u&&f.y-c<=n&&n<=f.y+c){var p=!i||e.visible()&&!e.transparent();if(i&&!p)return;var h=t.nodeShapes[s.getNodeShape(e)],g=e._private.style["border-width"].pxValue/2;h.checkPoint(r,n,g,o+d,a+d,f.x,f.y)&&l.push(e)}}function a(a){var u,c=a._private.rscratch,f=a._private.style,d=f.width.pxValue,g=d*d,m=2*d,v=a._private.source,y=a._private.target,x=!1,w=function(){if(void 0!==u)return u;if(!i)return u=!0,!0;var e=a.visible()&&!a.transparent();return e?(u=!0,!0):(u=!1,!1)};if("self"===c.edgeType||"compound"===c.edgeType)((x=e.math.inBezierVicinity(r,n,c.startX,c.startY,c.cp2ax,c.cp2ay,c.selfEdgeMidX,c.selfEdgeMidY,g))&&w()&&g+h>e.math.sqDistanceToQuadraticBezier(r,n,c.startX,c.startY,c.cp2ax,c.cp2ay,c.selfEdgeMidX,c.selfEdgeMidY)||(x=e.math.inBezierVicinity(r,n,c.selfEdgeMidX,c.selfEdgeMidY,c.cp2cx,c.cp2cy,c.endX,c.endY,g))&&w()&&g+h>e.math.sqDistanceToQuadraticBezier(r,n,c.selfEdgeMidX,c.selfEdgeMidY,c.cp2cx,c.cp2cy,c.endX,c.endY))&&l.push(a);else if("haystack"===c.edgeType){var b=f["haystack-radius"].value,E=b/2,_=y._private.position,N=y.width(),S=y.height(),T=v._private.position,C=v.width(),M=v.height(),A=T.x+c.source.x*C*E,O=T.y+c.source.y*M*E,k=_.x+c.target.x*N*E,P=_.y+c.target.y*S*E;(x=e.math.inLineVicinity(r,n,A,O,k,P,m))&&w()&&g+h>e.math.sqDistanceToFiniteLine(r,n,A,O,k,P)&&l.push(a)}else"straight"===c.edgeType?(x=e.math.inLineVicinity(r,n,c.startX,c.startY,c.endX,c.endY,m))&&w()&&g+h>e.math.sqDistanceToFiniteLine(r,n,c.startX,c.startY,c.endX,c.endY)&&l.push(a):"bezier"===c.edgeType&&(x=e.math.inBezierVicinity(r,n,c.startX,c.startY,c.cp2x,c.cp2y,c.endX,c.endY,g))&&w()&&g+h>e.math.sqDistanceToQuadraticBezier(r,n,c.startX,c.startY,c.cp2x,c.cp2y,c.endX,c.endY)&&l.push(a);if(x&&w()&&0===l.length||l[l.length-1]!==a){var D=t.arrowShapes[f["source-arrow-shape"].value],z=t.arrowShapes[f["target-arrow-shape"].value],v=v||a._private.source,y=y||a._private.target,_=y._private.position,T=v._private.position,B=s.getArrowWidth(f.width.pxValue),q=s.getArrowHeight(f.width.pxValue),I=B,L=q;

(D.roughCollide(r,n,c.arrowStartX,c.arrowStartY,B,q,[c.arrowStartX-T.x,c.arrowStartY-T.y],0)&&D.collide(r,n,c.arrowStartX,c.arrowStartY,B,q,[c.arrowStartX-T.x,c.arrowStartY-T.y],0)||z.roughCollide(r,n,c.arrowEndX,c.arrowEndY,I,L,[c.arrowEndX-_.x,c.arrowEndY-_.y],0)&&z.collide(r,n,c.arrowEndX,c.arrowEndY,I,L,[c.arrowEndX-_.x,c.arrowEndY-_.y],0))&&l.push(a)}p&&l.length>0&&l[l.length-1]===a&&(o(v),o(y))}for(var s=this,u=this.getCachedZSortedEles(),l=[],c=t.isTouch,f=this.data.cy.zoom(),p=this.data.cy.hasCompoundNodes(),h=(c?256:32)/f,d=(c?16:0)/f,g=u.length-1;g>=0;g--){var m=u[g];if(l.length>0)break;"nodes"===m._private.group?o(u[g]):a(u[g])}return l.length>0?l[l.length-1]:null},r.getAllInBox=function(r,n,i,o){var a=this.getCachedNodes(),s=this.getCachedEdges(),u=[],l=Math.min(r,i),c=Math.max(r,i),f=Math.min(n,o),p=Math.max(n,o);r=l,i=c,n=f,o=p;for(var h,d=0;d<a.length;d++){var g=a[d]._private.position,m=this.getNodeShape(a[d]),v=this.getNodeWidth(a[d]),y=this.getNodeHeight(a[d]),x=a[d]._private.style["border-width"].pxValue/2,w=t.nodeShapes[m];w.intersectBox(r,n,i,o,v,y,g.x,g.y,x)&&u.push(a[d])}for(var d=0;d<s.length;d++){var b=s[d]._private.rscratch;if("self"==s[d]._private.rscratch.edgeType&&((h=e.math.boxInBezierVicinity(r,n,i,o,b.startX,b.startY,b.cp2ax,b.cp2ay,b.endX,b.endY,s[d]._private.style.width.pxValue))&&(2==h||1==h&&e.math.checkBezierInBox(r,n,i,o,b.startX,b.startY,b.cp2ax,b.cp2ay,b.endX,b.endY,s[d]._private.style.width.pxValue))||(h=e.math.boxInBezierVicinity(r,n,i,o,b.startX,b.startY,b.cp2cx,b.cp2cy,b.endX,b.endY,s[d]._private.style.width.pxValue))&&(2==h||1==h&&e.math.checkBezierInBox(r,n,i,o,b.startX,b.startY,b.cp2cx,b.cp2cy,b.endX,b.endY,s[d]._private.style.width.pxValue)))&&u.push(s[d]),"bezier"==b.edgeType&&(h=e.math.boxInBezierVicinity(r,n,i,o,b.startX,b.startY,b.cp2x,b.cp2y,b.endX,b.endY,s[d]._private.style.width.pxValue))&&(2==h||1==h&&e.math.checkBezierInBox(r,n,i,o,b.startX,b.startY,b.cp2x,b.cp2y,b.endX,b.endY,s[d]._private.style.width.pxValue))&&u.push(s[d]),"straight"==b.edgeType&&(h=e.math.boxInBezierVicinity(r,n,i,o,b.startX,b.startY,.5*b.startX+.5*b.endX,.5*b.startY+.5*b.endY,b.endX,b.endY,s[d]._private.style.width.pxValue))&&(2==h||1==h&&e.math.checkStraightEdgeInBox(r,n,i,o,b.startX,b.startY,b.endX,b.endY,s[d]._private.style.width.pxValue))&&u.push(s[d]),"haystack"==b.edgeType){var E=s[d].target()[0],_=E.position(),N=s[d].source()[0],S=N.position(),T=S.x+b.source.x,C=S.y+b.source.y,M=_.x+b.target.x,A=_.y+b.target.y,O=T>=r&&i>=T&&C>=n&&o>=C,k=M>=r&&i>=M&&A>=n&&o>=A;O&&k&&u.push(s[d])}}return u},r.getNodeWidth=function(e){return e.width()},r.getNodeHeight=function(e){return e.height()},r.getNodeShape=function(e){var t=e._private.style.shape.value;return e.isParent()?"rectangle"===t||"roundrectangle"===t?t:"rectangle":t},r.getNodePadding=function(e){var t=e._private.style["padding-left"].pxValue,r=e._private.style["padding-right"].pxValue,n=e._private.style["padding-top"].pxValue,i=e._private.style["padding-bottom"].pxValue;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(i)&&(i=0),{left:t,right:r,top:n,bottom:i}},r.zOrderSort=e.Collection.zIndexSort,r.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},r.getCachedZSortedEles=function(e){var t=this.lastZOrderCachedNodes,r=this.lastZOrderCachedEdges,n=this.getCachedNodes(),i=this.getCachedEdges(),o=[];if(!e&&t&&r&&t===n&&r===i)o=this.cachedZSortedEles;else{for(var a=0;a<n.length;a++)n[a].visible()&&!n[a].transparent()&&o.push(n[a]);for(var a=0;a<i.length;a++)i[a].visible()&&!i[a].transparent()&&o.push(i[a]);o.sort(this.zOrderSort),this.cachedZSortedEles=o}return this.lastZOrderCachedNodes=n,this.lastZOrderCachedEdges=i,o},r.projectBezier=function(t){function r(e){o.push({x:n(e[0],e[2],e[4],.05),y:n(e[1],e[3],e[5],.05)}),o.push({x:n(e[0],e[2],e[4],.25),y:n(e[1],e[3],e[5],.25)}),o.push({x:n(e[0],e[2],e[4],.4),y:n(e[1],e[3],e[5],.4)});var t={x:n(e[0],e[2],e[4],.5),y:n(e[1],e[3],e[5],.5)};o.push(t),"self"===i.edgeType||"compound"===i.edgeType?(i.midX=i.selfEdgeMidX,i.midY=i.selfEdgeMidY):(i.midX=t.x,i.midY=t.y),o.push({x:n(e[0],e[2],e[4],.6),y:n(e[1],e[3],e[5],.6)}),o.push({x:n(e[0],e[2],e[4],.75),y:n(e[1],e[3],e[5],.75)}),o.push({x:n(e[0],e[2],e[4],.95),y:n(e[1],e[3],e[5],.95)})}var n=e.math.qbezierAt,i=t._private.rscratch,o=t._private.rstyle.bezierPts=[];"self"===i.edgeType?(r([i.startX,i.startY,i.cp2ax,i.cp2ay,i.selfEdgeMidX,i.selfEdgeMidY]),r([i.selfEdgeMidX,i.selfEdgeMidY,i.cp2cx,i.cp2cy,i.endX,i.endY])):"bezier"===i.edgeType&&r([i.startX,i.startY,i.cp2x,i.cp2y,i.endX,i.endY])},r.recalculateNodeLabelProjection=function(e){var t=e._private.style.content.strValue;if(t&&!t.match(/^\s+$/)){var r,n,i=e.outerWidth(),o=e.outerHeight(),a=e._private.position,s=e._private.style["text-halign"].strValue,u=e._private.style["text-valign"].strValue,l=e._private.rscratch,c=e._private.rstyle;switch(s){case"left":r=a.x-i/2;break;case"right":r=a.x+i/2;break;default:r=a.x}switch(u){case"top":n=a.y-o/2;break;case"bottom":n=a.y+o/2;break;default:n=a.y}l.labelX=r,l.labelY=n,c.labelX=r,c.labelY=n,this.applyLabelDimensions(e)}},r.recalculateEdgeLabelProjection=function(t){var r=t._private.style.content.strValue;if(r&&!r.match(/^\s+$/)){var n,i,o,a,s=t._private,u=s.rscratch,l=s.rstyle;if("self"==u.edgeType)o=u.selfEdgeMidX,a=u.selfEdgeMidY;else if("straight"==u.edgeType)o=(u.startX+u.endX)/2,a=(u.startY+u.endY)/2;else if("bezier"==u.edgeType)o=e.math.qbezierAt(u.startX,u.cp2x,u.endX,.5),a=e.math.qbezierAt(u.startY,u.cp2y,u.endY,.5);else if("haystack"==u.edgeType){var c=u.haystackPts;o=(c[0]+c[2])/2,a=(c[1]+c[3])/2}n=o,i=a,u.labelX=n,u.labelY=i,l.labelX=n,l.labelY=i,this.applyLabelDimensions(t)}},r.applyLabelDimensions=function(e){var t=e._private.rscratch,r=e._private.rstyle,n=this.getLabelText(e),i=this.calculateLabelDimensions(e,n);r.labelWidth=i.width,t.labelWidth=i.width,r.labelHeight=i.height,t.labelHeight=i.height},r.getLabelText=function(e){var t=e._private.style,r=e._private.style.content.strValue,n=t["text-transform"].value,i=e._private.rscratch;if("none"==n||("uppercase"==n?r=r.toUpperCase():"lowercase"==n&&(r=r.toLowerCase())),"wrap"===t["text-wrap"].value){if(i.labelWrapKey===i.labelKey)return i.labelWrapCachedText;for(var o=r.split("\n"),a=t["text-max-width"].pxValue,s=[],u=0;u<o.length;u++){var l=o[u],c=this.calculateLabelDimensions(e,l,"line="+l),f=c.width;if(f>a){for(var p=l.split(/\s+/),h="",d=0;d<p.length;d++){var g=p[d],m=0===h.length?g:h+" "+g,v=this.calculateLabelDimensions(e,m,"testLine="+m),y=v.width;a>=y?h+=g+" ":(s.push(h),h=g+" ")}h.match(/^\s+$/)||s.push(h)}else s.push(l)}i.labelWrapCachedLines=s,i.labelWrapCachedText=r=s.join("\n"),i.labelWrapKey=i.labelKey}return r},r.calculateLabelDimensions=function(e,t,r){var n=this,i=e._private.style,o=i["font-style"].strValue,a=i["font-size"].pxValue+"px",s=i["font-family"].strValue,u=i["font-weight"].strValue,l=e._private.labelKey;r&&(l+="$@$"+r);var c=n.labelDimCache||(n.labelDimCache={});if(c[l])return c[l];var f=this.labelCalcDiv;f||(f=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(f));var p=f.style;return p.fontFamily=s,p.fontStyle=o,p.fontSize=a,p.fontWeight=u,p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none",p.padding="0",p.lineHeight="1",p.whiteSpace="wrap"===i["text-wrap"].value?"pre":"normal",f.textContent=t,c[l]={width:f.clientWidth,height:f.clientHeight},c[l]},r.recalculateRenderedStyle=function(e){for(var t=[],r=[],n={},i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.style,u=a.rscratch,l=a.rstyle,c=a.data.id,f=null!=u.boundingBoxKey&&a.boundingBoxKey===u.boundingBoxKey,p=null!=u.labelKey&&a.labelKey===u.labelKey,h=f&&p;if("nodes"===o._private.group){var d=a.position,g=null!=l.nodeX&&null!=l.nodeY&&d.x===l.nodeX&&d.y===l.nodeY,m=null!=l.nodeW&&l.nodeW===s.width.pxValue,v=null!=l.nodeH&&l.nodeH===s.height.pxValue;g&&h&&m&&v||r.push(o),l.nodeX=d.x,l.nodeY=d.y,l.nodeW=s.width.pxValue,l.nodeH=s.height.pxValue}else{var y=o._private.source._private.position,x=o._private.target._private.position,w=null!=l.srcX&&null!=l.srcY&&y.x===l.srcX&&y.y===l.srcY,b=null!=l.tgtX&&null!=l.tgtY&&x.x===l.tgtX&&x.y===l.tgtY,E=w&&b;if(!E||!h){var _=a.style["curve-style"].value;if("bezier"===_){if(!n[c]){t.push(o),n[c]=!0;for(var N=o.parallelEdges(),i=0;i<N.length;i++){var S=N[i],T=S._private.data.id;n[T]||(t.push(S),n[T]=!0)}}}else t.push(o)}l.srcX=y.x,l.srcY=y.y,l.tgtX=x.x,l.tgtY=x.y}u.boundingBoxKey=a.boundingBoxKey,u.labelKey=a.labelKey}this.recalculateEdgeProjections(t),this.recalculateLabelProjections(r,t)},r.recalculateLabelProjections=function(e,t){for(var r=0;r<e.length;r++)this.recalculateNodeLabelProjection(e[r]);for(var r=0;r<t.length;r++)this.recalculateEdgeLabelProjection(t[r])},r.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},r.findEdgeControlPoints=function(r){if(r&&0!==r.length){for(var n,i=this.data.cy,o=i.hasCompoundNodes(),a={},s=[],u=[],l=0;l<r.length;l++){var c=r[l],f=c._private.style,p="unbundled-bezier"===f["curve-style"].value;if("none"!==f.display.value)if("haystack"!==f["curve-style"].value){var h=c._private.data.source,d=c._private.data.target;n=h>d?d+"-"+h:h+"-"+d,p&&(n="unbundled"+c._private.data.id),null==a[n]&&(a[n]=[],s.push(n)),a[n].push(c),p&&(a[n].hasUnbundled=!0)}else u.push(c)}for(var g,m,v,y,x,w,b,E,_,N,S,T,C,M,A=0;A<s.length;A++){n=s[A];var O=a[n];if(O.sort(function(e,t){return e._private.index-t._private.index}),g=O[0]._private.source,m=O[0]._private.target,g._private.data.id>m._private.data.id){var k=g;g=m,m=k}if(v=g._private.position,y=m._private.position,x=this.getNodeWidth(g),w=this.getNodeHeight(g),b=this.getNodeWidth(m),E=this.getNodeHeight(m),_=t.nodeShapes[this.getNodeShape(g)],N=t.nodeShapes[this.getNodeShape(m)],S=g._private.style["border-width"].pxValue,T=m._private.style["border-width"].pxValue,M=!1,O.length>1&&g!==m||O.hasUnbundled){var P=_.intersectLine(v.x,v.y,x,w,y.x,y.y,S/2),D=N.intersectLine(y.x,y.y,b,E,v.x,v.y,T/2),z={x1:P[0],x2:D[0],y1:P[1],y2:D[1]},B=D[1]-P[1],q=D[0]-P[0],I=Math.sqrt(q*q+B*B),L={x:q,y:B},R={x:L.x/I,y:L.y/I};C={x:-R.y,y:R.x},(N.checkPoint(P[0],P[1],T/2,b,E,y.x,y.y)||_.checkPoint(D[0],D[1],S/2,x,w,v.x,v.y))&&(C={},M=!0)}for(var c,j,l=0;l<O.length;l++){c=O[l],j=c._private.rscratch;var F=j.lastEdgeIndex,U=l,$=j.lastNumEdges,V=O.length,H=c._private.style,X=H["control-point-step-size"].pxValue,W=void 0!==H["control-point-distance"]?H["control-point-distance"].pxValue:void 0,Y=H["control-point-weight"].value,p="unbundled-bezier"===H["curve-style"].value,G=j.lastSrcCtlPtX,Z=v.x,K=j.lastSrcCtlPtY,J=v.y,Q=j.lastSrcCtlPtW,ee=g.outerWidth(),te=j.lastSrcCtlPtH,re=g.outerHeight(),ne=j.lastTgtCtlPtX,ie=y.x,oe=j.lastTgtCtlPtY,ae=y.y,se=j.lastTgtCtlPtW,ue=m.outerWidth(),le=j.lastTgtCtlPtH,ce=m.outerHeight(),fe=j.lastW,pe=H["control-point-step-size"].pxValue;if(j.badBezier=M?!0:!1,G!==Z||K!==J||Q!==ee||te!==re||ne!==ie||oe!==ae||se!==ue||le!==ce||fe!==pe||!(F===U&&$===V||p)){if(j.lastSrcCtlPtX=Z,j.lastSrcCtlPtY=J,j.lastSrcCtlPtW=ee,j.lastSrcCtlPtH=re,j.lastTgtCtlPtX=ie,j.lastTgtCtlPtY=ae,j.lastTgtCtlPtW=ue,j.lastTgtCtlPtH=ce,j.lastEdgeIndex=U,j.lastNumEdges=V,j.lastWidth=pe,g===m){j.edgeType="self";var he=l,de=X;p&&(he=0,de=W),j.cp2ax=v.x,j.cp2ay=v.y-(1+Math.pow(w,1.12)/100)*de*(he/3+1),j.cp2cx=v.x-(1+Math.pow(x,1.12)/100)*de*(he/3+1),j.cp2cy=v.y,j.selfEdgeMidX=(j.cp2ax+j.cp2cx)/2,j.selfEdgeMidY=(j.cp2ay+j.cp2cy)/2}else if(o&&(g.isParent()||g.isChild()||m.isParent()||m.isChild())&&(g.parents().anySame(m)||m.parents().anySame(g))){j.edgeType="compound",j.badBezier=!1;var he=l,de=X;p&&(he=0,de=W);var ge=50,me={x:v.x-x/2,y:v.y-w/2},ve={x:y.x-b/2,y:y.y-E/2},ye=1;j.cp2ax=me.x,j.compoundStretchA=Math.max(ye,Math.log(.01*x)),j.cp2ay=me.y-(1+Math.pow(ge,1.12)/100)*de*(he/3+1)*j.compoundStretchA,j.compoundStretchB=Math.max(ye,Math.log(.01*b)),j.cp2cx=ve.x-(1+Math.pow(ge,1.12)/100)*de*(he/3+1)*j.compoundStretchB,j.cp2cy=ve.y,j.selfEdgeMidX=(j.cp2ax+j.cp2cx)/2,j.selfEdgeMidY=(j.cp2ay+j.cp2cy)/2}else if(O.length%2!==1||l!==Math.floor(O.length/2)||p){var xe,we=(.5-O.length/2+l)*X,be=e.math.signum(we);xe=p?W:void 0!==W?be*W:void 0;var Ee=void 0!==xe?xe:we,_e=1-Y,Ne=Y,Se=c._private.source!==g;Se&&(_e=Y,Ne=1-Y);var Te={x:z.x1*_e+z.x2*Ne,y:z.y1*_e+z.y2*Ne};j.edgeType="bezier",j.cp2x=Te.x+C.x*Ee,j.cp2y=Te.y+C.y*Ee}else j.edgeType="straight";this.findEndpoints(c);var Ce=!e.is.number(j.startX)||!e.is.number(j.startY),Me=!e.is.number(j.arrowStartX)||!e.is.number(j.arrowStartY),Ae=!e.is.number(j.endX)||!e.is.number(j.endY),Oe=!e.is.number(j.arrowEndX)||!e.is.number(j.arrowEndY),ke=3,Pe=this.getArrowWidth(c._private.style.width.pxValue)*t.arrowShapeHeight,De=ke*Pe,ze=e.math.distance({x:j.cp2x,y:j.cp2y},{x:j.startX,y:j.startY}),Be=De>ze,qe=e.math.distance({x:j.cp2x,y:j.cp2y},{x:j.endX,y:j.endY}),Ie=De>qe;if("bezier"===j.edgeType){var Le=!1;if(Ce||Me||Be){Le=!0;var Re={x:j.cp2x-v.x,y:j.cp2y-v.y},je=Math.sqrt(Re.x*Re.x+Re.y*Re.y),Fe={x:Re.x/je,y:Re.y/je},Ue=Math.max(x,w),$e={x:j.cp2x+2*Fe.x*Ue,y:j.cp2y+2*Fe.y*Ue},Ve=_.intersectLine(v.x,v.y,x,w,$e.x,$e.y,S/2);Be?(j.cp2x=j.cp2x+Fe.x*(De-ze),j.cp2y=j.cp2y+Fe.y*(De-ze)):(j.cp2x=Ve[0]+Fe.x*De,j.cp2y=Ve[1]+Fe.y*De)}if(Ae||Oe||Ie){Le=!0;var Re={x:j.cp2x-y.x,y:j.cp2y-y.y},je=Math.sqrt(Re.x*Re.x+Re.y*Re.y),Fe={x:Re.x/je,y:Re.y/je},Ue=Math.max(x,w),$e={x:j.cp2x+2*Fe.x*Ue,y:j.cp2y+2*Fe.y*Ue},He=N.intersectLine(y.x,y.y,b,E,$e.x,$e.y,T/2);Ie?(j.cp2x=j.cp2x+Fe.x*(De-qe),j.cp2y=j.cp2y+Fe.y*(De-qe)):(j.cp2x=He[0]+Fe.x*De,j.cp2y=He[1]+Fe.y*De)}Le&&this.findEndpoints(c)}else"straight"===j.edgeType&&(j.midX=(Z+ie)/2,j.midY=(J+ae)/2);this.projectBezier(c),this.recalculateEdgeLabelProjection(c)}}}for(var l=0;l<u.length;l++){var c=u[l],Xe=c._private,We=Xe.rscratch,j=We;if(!We.haystack){var Ye=2*Math.random()*Math.PI;We.source={x:Math.cos(Ye),y:Math.sin(Ye)};var Ye=2*Math.random()*Math.PI;We.target={x:Math.cos(Ye),y:Math.sin(Ye)}}var g=Xe.source,m=Xe.target,v=g._private.position,y=m._private.position,x=g.width(),b=m.width(),w=g.height(),E=m.height(),Ue=f["haystack-radius"].value,Ge=Ue/2;j.haystackPts=[j.source.x*x*Ge+v.x,j.source.y*w*Ge+v.y,j.target.x*b*Ge+y.x,j.target.y*E*Ge+y.y],We.edgeType="haystack",We.haystack=!0,this.recalculateEdgeLabelProjection(c)}return a}},r.findEndpoints=function(r){var n,i=r.source()[0],o=r.target()[0],a=r._private.style["target-arrow-shape"].value,s=r._private.style["source-arrow-shape"].value,u=o._private.style["border-width"].pxValue,l=i._private.style["border-width"].pxValue,c=r._private.rscratch;if("self"==c.edgeType||"compound"==c.edgeType){var f=[c.cp2cx,c.cp2cy];n=t.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),f[0],f[1],u/2);var p=e.math.shortenIntersection(n,f,t.arrowShapes[a].spacing(r)),h=e.math.shortenIntersection(n,f,t.arrowShapes[a].gap(r));c.endX=h[0],c.endY=h[1],c.arrowEndX=p[0],c.arrowEndY=p[1];var f=[c.cp2ax,c.cp2ay];n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),f[0],f[1],l/2);var d=e.math.shortenIntersection(n,f,t.arrowShapes[s].spacing(r)),g=e.math.shortenIntersection(n,f,t.arrowShapes[s].gap(r));c.startX=g[0],c.startY=g[1],c.arrowStartX=d[0],c.arrowStartY=d[1]}else if("straight"==c.edgeType){n=t.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),i.position().x,i.position().y,u/2),c.noArrowPlacement=0===n.length?!0:!1;var p=e.math.shortenIntersection(n,[i.position().x,i.position().y],t.arrowShapes[a].spacing(r)),h=e.math.shortenIntersection(n,[i.position().x,i.position().y],t.arrowShapes[a].gap(r));c.endX=h[0],c.endY=h[1],c.arrowEndX=p[0],c.arrowEndY=p[1],n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),o.position().x,o.position().y,l/2),c.noArrowPlacement=0===n.length?!0:!1;var d=e.math.shortenIntersection(n,[o.position().x,o.position().y],t.arrowShapes[s].spacing(r)),g=e.math.shortenIntersection(n,[o.position().x,o.position().y],t.arrowShapes[s].gap(r));c.startX=g[0],c.startY=g[1],c.arrowStartX=d[0],c.arrowStartY=d[1]}else if("bezier"==c.edgeType){var f=[c.cp2x,c.cp2y];n=t.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),f[0],f[1],u/2);var p=e.math.shortenIntersection(n,f,t.arrowShapes[a].spacing(r)),h=e.math.shortenIntersection(n,f,t.arrowShapes[a].gap(r));c.endX=h[0],c.endY=h[1],c.arrowEndX=p[0],c.arrowEndY=p[1],n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),f[0],f[1],l/2);var d=e.math.shortenIntersection(n,f,t.arrowShapes[s].spacing(r)),g=e.math.shortenIntersection(n,f,t.arrowShapes[s].gap(r));c.startX=g[0],c.startY=g[1],c.arrowStartX=d[0],c.arrowStartY=d[1]}else if(c.isArcEdge)return},r.findEdges=function(e){for(var t=this.getCachedEdges(),r={},n=[],i=0;i<e.length;i++)r[e[i]._private.data.id]=e[i];for(var i=0;i<t.length;i++)(r[t[i]._private.data.source]||r[t[i]._private.data.target])&&n.push(t[i]);return n},r.getArrowWidth=r.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[e];return r?r:(r=Math.max(Math.pow(13.37*e,.9),29),t[e]=r,r)}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawEdge=function(e,r,n){var i=r._private.rscratch,o=t.usePaths();if(!i.badBezier&&("bezier"!==i.edgeType&&"straight"!==i.edgeType||!isNaN(i.startX))){var a=r._private.style;if(!(a.width.pxValue<=0)){var s=a["overlay-padding"].pxValue,u=a["overlay-opacity"].value,l=a["overlay-color"].value;if(n){if(0===u)return;this.strokeStyle(e,l[0],l[1],l[2],u),e.lineCap="round","self"!=r._private.rscratch.edgeType||o||(e.lineCap="butt")}else{var c=a["line-color"].value;this.strokeStyle(e,c[0],c[1],c[2],a.opacity.value),e.lineCap="butt"}var f,p,h,d;h=f=r._private.source,d=p=r._private.target;var g=a.width.pxValue+(n?2*s:0),m=n?"solid":a["line-style"].value;e.lineWidth=g;var v=a["shadow-blur"].pxValue,y=a["shadow-opacity"].value,x=a["shadow-color"].value,w=a["shadow-offset-x"].pxValue,b=a["shadow-offset-y"].pxValue;if(this.shadowStyle(e,x,n?0:y,v,w,b),"haystack"===i.edgeType)this.drawStyledEdge(r,e,i.haystackPts,m,g);else if("self"===i.edgeType||"compound"===i.edgeType){var E=r._private.rscratch,_=[E.startX,E.startY,E.cp2ax,E.cp2ay,E.selfEdgeMidX,E.selfEdgeMidY,E.selfEdgeMidX,E.selfEdgeMidY,E.cp2cx,E.cp2cy,E.endX,E.endY];this.drawStyledEdge(r,e,_,m,g)}else if("straight"===i.edgeType){var N=p._private.position.x-f._private.position.x,S=p._private.position.y-f._private.position.y,T=i.endX-i.startX,C=i.endY-i.startY;if(0>N*T+S*C)i.straightEdgeTooShort=!0;else{var E=i;this.drawStyledEdge(r,e,[E.startX,E.startY,E.endX,E.endY],m,g),i.straightEdgeTooShort=!1}}else{var E=i;this.drawStyledEdge(r,e,[E.startX,E.startY,E.cp2x,E.cp2y,E.endX,E.endY],m,g)}"haystack"===i.edgeType?this.drawArrowheads(e,r,n):i.noArrowPlacement!==!0&&void 0!==i.startX&&this.drawArrowheads(e,r,n),this.shadowStyle(e,"transparent",0)}}},r.drawStyledEdge=function(e,r,n,i,o){var a,s=e._private.rscratch,u=r,l=!1,c=t.usePaths();if(c){for(var f=n,p=s.pathCacheKey&&f.length===s.pathCacheKey.length,h=p,d=0;h&&d<f.length;d++)s.pathCacheKey[d]!==f[d]&&(h=!1);h?(a=r=s.pathCache,l=!0):(a=r=new Path2D,s.pathCacheKey=f,s.pathCache=a)}if(u.setLineDash)switch(i){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([6,3]);break;case"solid":u.setLineDash([])}l||(r.beginPath&&r.beginPath(),r.moveTo(n[0],n[1]),6===n.length?r.quadraticCurveTo(n[2],n[3],n[4],n[5]):12===n.length?(r.quadraticCurveTo(n[2],n[3],n[4],n[5]),r.quadraticCurveTo(n[8],n[9],n[10],n[11])):r.lineTo(n[2],n[3])),r=u,c?r.stroke(a):r.stroke(),r.setLineDash&&r.setLineDash([])},r.drawArrowheads=function(e,t,r){function n(r,n,i,o,a){var s=g[r+"-arrow-shape"].value;if("none"!==s){var u=e.globalCompositeOperation,l="hollow"===g[r+"-arrow-fill"].value?"both":"filled",c=g[r+"-arrow-fill"].value;"half-triangle-overshot"===s&&(c="hollow",l="hollow"),1!==g.opacity.value&&(e.globalCompositeOperation="destination-out",f.fillStyle(e,255,255,255,1),f.drawArrowShape(t,r,e,l,g.width.pxValue,g[r+"-arrow-shape"].value,n,i,o,a),e.globalCompositeOperation=u);var p=g[r+"-arrow-color"].value;f.fillStyle(e,p[0],p[1],p[2],g.opacity.value),f.drawArrowShape(t,r,e,c,g.width.pxValue,g[r+"-arrow-shape"].value,n,i,o,a)}}if(!r){var i,o,a,s,u,l,c=t._private.rscratch,f=this,p="haystack"===c.edgeType,h=t.source().position(),d=t.target().position();p?(a=c.haystackPts[0],s=c.haystackPts[1],u=c.haystackPts[2],l=c.haystackPts[3]):(a=c.arrowStartX,s=c.arrowStartY,u=c.arrowEndX,l=c.arrowEndY);var g=t._private.style;i=a-h.x,o=s-h.y,p||isNaN(a)||isNaN(s)||isNaN(i)||isNaN(o)||n("source",a,s,i,o);var m=c.midX,v=c.midY;p&&(m=(a+u)/2,v=(s+l)/2),i=a-u,o=s-l,"self"===c.edgeType&&(i=1,o=-1),isNaN(m)||isNaN(v)||n("mid-target",m,v,i,o),i*=-1,o*=-1,isNaN(m)||isNaN(v)||n("mid-source",m,v,i,o),i=u-d.x,o=l-d.y,p||isNaN(u)||isNaN(l)||isNaN(i)||isNaN(o)||n("target",u,l,i,o)}},r.drawArrowShape=function(e,r,n,i,o,a,s,u,l,c){var f,p=t.usePaths(),h=e._private.rscratch,d=!1,g=n,m={x:s,y:u},v=Math.asin(c/Math.sqrt(l*l+c*c));0>l?v+=Math.PI/2:v=-(Math.PI/2+v);var y=this.getArrowWidth(o),x=t.arrowShapes[a];if(p){var w=y+"$"+a+"$"+v+"$"+s+"$"+u;h.arrowPathCacheKey=h.arrowPathCacheKey||{},h.arrowPathCache=h.arrowPathCache||{};var b=h.arrowPathCacheKey[r]===w;b?(f=n=h.arrowPathCache[r],d=!0):(f=n=new Path2D,h.arrowPathCacheKey[r]=w,h.arrowPathCache[r]=f)}n.beginPath&&n.beginPath(),d||x.draw(n,y,v,m),!x.leavePathOpen&&n.closePath&&n.closePath(),n=g,("filled"===i||"both"===i)&&(p?n.fill(f):n.fill()),("hollow"===i||"both"===i)&&(n.lineWidth=x.matchEdgeWidth?o:1,n.lineJoin="miter",p?n.stroke(f):n.stroke())}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.getCachedImage=function(e,t){var r=this,n=r.imageCache=r.imageCache||{};if(n[e]&&n[e].image)return n[e].image;var i=n[e]=n[e]||{},o=i.image=new Image;return o.addEventListener("load",t),o.src=e,o},r.drawInscribedImage=function(e,r,n){var i=this,o=n._private.position.x,a=n._private.position.y,s=n._private.style,u=s["background-fit"].value,l=s["background-position-x"],c=s["background-position-y"],f=s["background-repeat"].value,p=n.width(),h=n.height(),d=n._private.rscratch,g=s["background-clip"].value,m="node"===g,v=s["background-image-opacity"].value,y=r.width,x=r.height;if(0!==y&&0!==x){var w=s["background-width"];"auto"!==w.value&&(y="%"===w.units?w.value/100*p:w.pxValue);var b=s["background-height"];if("auto"!==b.value&&(x="%"===b.units?b.value/100*h:b.pxValue),0!==y&&0!==x){if("contain"===u){var E=Math.min(p/y,h/x);y*=E,x*=E}else if("cover"===u){var E=Math.max(p/y,h/x);y*=E,x*=E}var _=o-p/2;_+="%"===l.units?(p-y)*l.value/100:l.pxValue;var N=a-h/2;N+="%"===c.units?(h-x)*c.value/100:c.pxValue,d.pathCache&&(_-=o,N-=a,o=0,a=0);var S=e.globalAlpha;if(e.globalAlpha=v,"no-repeat"===f)m&&(e.save(),d.pathCache?e.clip(d.pathCache):(t.nodeShapes[i.getNodeShape(n)].drawPath(e,o,a,p,h),e.clip())),e.drawImage(r,0,0,r.width,r.height,_,N,y,x),m&&e.restore();else{var T=e.createPattern(r,f);e.fillStyle=T,t.nodeShapes[i.getNodeShape(n)].drawPath(e,o,a,p,h),e.translate(_,N),e.fill(),e.translate(-_,-N)}e.globalAlpha=S}}}}(cytoscape),function(e){"use strict";function t(e,t,r,n,i,o){var o=o||5;e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),e.fill()}var r=e("renderer","canvas"),n=r.prototype;n.drawEdgeText=function(t,r){var n=r._private.style.content.strValue;if(!(!n||n.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var i=r._private.style["font-size"].pxValue*r.cy().zoom(),o=r._private.style["min-zoomed-font-size"].pxValue;if(!(o>i)){t.textAlign="center",t.textBaseline="middle";var a=r._private.rscratch;if(e.is.number(a.labelX)&&e.is.number(a.labelY)){var s,u,l,c=r._private.style,f="autorotate"===c["edge-text-rotation"].strValue;if(f){switch(a.edgeType){case"haystack":u=a.haystackPts[2]-a.haystackPts[0],l=a.haystackPts[3]-a.haystackPts[1];break;default:u=a.endX-a.startX,l=a.endY-a.startY}s=Math.atan(l/u),t.translate(a.labelX,a.labelY),t.rotate(s),this.drawText(t,r,0,0),t.rotate(-s),t.translate(-a.labelX,-a.labelY)}else this.drawText(t,r,a.labelX,a.labelY)}}}},n.drawNodeText=function(t,r){var n=r._private.style.content.strValue;if(n&&!n.match(/^\s+$/)){var i=r._private.style["font-size"].pxValue*r.cy().zoom(),o=r._private.style["min-zoomed-font-size"].pxValue;if(!(o>i)){var a=r._private.style["text-halign"].strValue,s=r._private.style["text-valign"].strValue,u=r._private.rscratch;if(e.is.number(u.labelX)&&e.is.number(u.labelY)){switch(a){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}switch(s){case"top":t.textBaseline="bottom";break;case"bottom":t.textBaseline="top";break;default:t.textBaseline="middle"}this.drawText(t,r,u.labelX,u.labelY)}}}},n.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},n.setupTextStyle=function(e,t){var r=t.effectiveOpacity(),n=t._private.style,i=n["font-style"].strValue,o=n["font-size"].pxValue+"px",a=n["font-family"].strValue,s=n["font-weight"].strValue,u=n["text-opacity"].value*n.opacity.value*r,l=n["text-outline-opacity"].value*u,c=n.color.value,f=n["text-outline-color"].value,p=n["text-shadow-blur"].pxValue,h=n["text-shadow-opacity"].value,d=n["text-shadow-color"].value,g=n["text-shadow-offset-x"].pxValue,m=n["text-shadow-offset-y"].pxValue,v=t._private.fontKey,y=this.getFontCache(e);y.key!==v&&(e.font=i+" "+s+" "+o+" "+a,y.key=v);var x=this.getLabelText(t);return e.lineJoin="round",this.fillStyle(e,c[0],c[1],c[2],u),this.strokeStyle(e,f[0],f[1],f[2],l),this.shadowStyle(e,d,h,p,g,m),x},n.drawText=function(e,r,n,i){var o=r._private,a=o.style,s=o.rstyle,u=o.rscratch,l=r.effectiveOpacity();if(0!==l&&0!==a["text-opacity"].value){var c=this.setupTextStyle(e,r),f=a["text-halign"].value,p=a["text-valign"].value;if(r.isEdge()&&(f="center",p="center"),null!=c&&!isNaN(n)&&!isNaN(i)){var h=a["text-background-opacity"].value;if((a["text-background-color"]&&"none"!=a["text-background-color"].value||a["text-border-width"].pxValue>0)&&h>0){var d=a["text-border-width"].pxValue,g=4+d/2;r.isNode()&&("top"==p?i-=g:"bottom"==p&&(i+=g),"left"==f?n-=g:"right"==f&&(n+=g));var m=s.labelWidth,v=s.labelHeight,y=n;f&&("center"==f?y-=m/2:"left"==f&&(y-=m));var x=i;if(r.isNode()?"top"==p?x-=v:"center"==p&&(x-=v/2):x-=v/2,"autorotate"===a["edge-text-rotation"].strValue?(i=0,m+=4,y=n-m/2,x=i-v/2):(y-=g,x-=g,v+=2*g,m+=2*g),a["text-background-color"]){var w=e.fillStyle,b=a["text-background-color"].value;e.fillStyle="rgba("+b[0]+","+b[1]+","+b[2]+","+h*l+")";var E=a["text-background-shape"].strValue;"roundrectangle"==E?t(e,y,x,m,v,2):e.fillRect(y,x,m,v),e.fillStyle=w}if(d>0){var _=e.strokeStyle,N=e.lineWidth,S=a["text-border-color"].value,T=a["text-border-style"].value;if(e.strokeStyle="rgba("+S[0]+","+S[1]+","+S[2]+","+h*l+")",e.lineWidth=d,e.setLineDash)switch(T){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=d/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(y,x,m,v),"double"===T){var C=d/2;e.strokeRect(y+C,x+C,m-2*C,v-2*C)}e.setLineDash&&e.setLineDash([]),e.lineWidth=N,e.strokeStyle=_}}var M=2*a["text-outline-width"].pxValue;if(M>0&&(e.lineWidth=M),"wrap"===a["text-wrap"].value){var A=u.labelWrapCachedLines,O=s.labelHeight/A.length;switch(p){case"top":i-=(A.length-1)*O;break;case"bottom":break;default:case"center":i-=(A.length-1)*O/2}for(var k=0;k<A.length;k++)M>0&&e.strokeText(A[k],n,i),e.fillText(A[k],n,i),i+=O}else M>0&&e.strokeText(c,n,i),e.fillText(c,n,i);this.shadowStyle(e,"transparent",0)}}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawNode=function(e,r,n){var i,o,a,s=this,u=r._private.style,l=r._private.rscratch,c=r._private,f=t.usePaths(),p=e,h=!1,d=u["overlay-padding"].pxValue,g=u["overlay-opacity"].value,m=u["overlay-color"].value;if(!n||0!==g){var v=r.effectiveOpacity();if(0!==v)if(i=this.getNodeWidth(r),o=this.getNodeHeight(r),e.lineWidth=u["border-width"].pxValue,void 0!==n&&n)g>0&&(this.fillStyle(e,m[0],m[1],m[2],g),t.nodeShapes.roundrectangle.drawPath(e,r._private.position.x,r._private.position.y,i+2*d,o+2*d),e.fill());else{var y,x=u["background-image"].value[2]||u["background-image"].value[1];if(void 0!==x){y=this.getCachedImage(x,function(){s.data.canvasNeedsRedraw[t.NODE]=!0,s.data.canvasNeedsRedraw[t.DRAG]=!0,s.drawingImage=!0,s.redraw()});var w=c.backgrounding;c.backgrounding=!y.complete,w!==c.backgrounding&&r.updateStyle(!1)}var b=u["background-color"].value,E=u["border-color"].value,_=u["border-style"].value;this.fillStyle(e,b[0],b[1],b[2],u["background-opacity"].value*u.opacity.value*v),this.strokeStyle(e,E[0],E[1],E[2],u["border-opacity"].value*u.opacity.value*v);var N=u["shadow-blur"].pxValue,S=u["shadow-opacity"].value,T=u["shadow-color"].value,C=u["shadow-offset-x"].pxValue,M=u["shadow-offset-y"].pxValue;if(this.shadowStyle(e,T,S,N,C,M),e.lineJoin="miter",e.setLineDash)switch(_){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var A=u.shape.strValue,O=r._private.position;if(f){var k=A+"$"+i+"$"+o;e.translate(O.x,O.y),l.pathCacheKey===k?(a=e=l.pathCache,h=!0):(a=e=new Path2D,l.pathCacheKey=k,l.pathCache=a)}if(!h){var P=O;f&&(P={x:0,y:0}),t.nodeShapes[this.getNodeShape(r)].drawPath(e,P.x,P.y,i,o)}e=p,f?e.fill(a):e.fill(),this.shadowStyle(e,"transparent",0),void 0!==x&&y.complete&&this.drawInscribedImage(e,y,r);var D=u["background-blacken"].value,z=u["border-width"].pxValue;if(this.hasPie(r)&&(this.drawPie(e,r),(0!==D||0!==z)&&(f||t.nodeShapes[this.getNodeShape(r)].drawPath(e,O.x,O.y,i,o))),D>0?(this.fillStyle(e,0,0,0,D),f?e.fill(a):e.fill()):0>D&&(this.fillStyle(e,255,255,255,-D),f?e.fill(a):e.fill()),z>0&&(f?e.stroke(a):e.stroke(),"double"===_)){e.lineWidth=u["border-width"].pxValue/3;var B=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(a):e.stroke(),e.globalCompositeOperation=B}f&&e.translate(-O.x,-O.y),e.setLineDash&&e.setLineDash([])}}},r.hasPie=function(e){return e=e[0],e._private.hasPie},r.drawPie=function(r,n){n=n[0];var i=n._private.style["pie-size"],o=this.getNodeWidth(n),a=this.getNodeHeight(n),s=n._private.position.x,u=n._private.position.y,l=Math.min(o,a)/2,c=0,f=t.usePaths();f&&(s=0,u=0),"%"===i.units?l=l*i.value/100:void 0!==i.pxValue&&(l=i.pxValue/2);for(var p=1;p<=e.style.pieBackgroundN;p++){var h=n._private.style["pie-"+p+"-background-size"].value,d=n._private.style["pie-"+p+"-background-color"].value,g=n._private.style["pie-"+p+"-background-opacity"].value,m=h/100,v=1.5*Math.PI+2*Math.PI*c,y=2*Math.PI*m,x=v+y;0===h||c>=1||c+m>1||(r.beginPath(),r.moveTo(s,u),r.arc(s,u,l,v,x),r.closePath(),this.fillStyle(r,d[0],d[1],d[2],g),r.fill(),c+=m)}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t,n=t.prototype;n.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},n.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if(t=r[i],t.context===e){n=!1;break}return n&&(t={
context:e},r.push(t)),t},n.fillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},n.strokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},n.shadowStyle=function(e,t,r,n,i,o){var a=this.data.cy.zoom();r>0?(e.shadowBlur=n*a,e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+r+")",e.shadowOffsetX=i*a,e.shadowOffsetY=o*a):(e.shadowBlur=0,e.shadowColor="transparent")},n.matchCanvasSize=function(e){var n=this.data,i=e.clientWidth,o=e.clientHeight,a=this.getPixelRatio(),s=this.motionBlurPxRatio;(e===this.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||e===this.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG])&&(a=s);var u,l=i*a,c=o*a;if(l!==this.canvasWidth||c!==this.canvasHeight){this.fontCaches=null;var f=n.canvasContainer;f.style.width=i+"px",f.style.height=o+"px";for(var p=0;p<t.CANVAS_LAYERS;p++)u=n.canvases[p],(u.width!==l||u.height!==c)&&(u.width=l,u.height=c,u.style.width=i+"px",u.style.height=o+"px");for(var p=0;p<t.BUFFER_COUNT;p++)u=n.bufferCanvases[p],(u.width!==l||u.height!==c)&&(u.width=l,u.height=c,u.style.width=i+"px",u.style.height=o+"px");this.textureMult=1,1>=a&&(u=n.bufferCanvases[t.TEXTURE_BUFFER],this.textureMult=2,u.width=l*this.textureMult,u.height=c*this.textureMult),this.canvasWidth=l,this.canvasHeight=c}},n.renderTo=function(e,t,r,n){this.redraw({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},n.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},t.minRedrawLimit=1e3/60,t.maxRedrawLimit=1e3,t.motionBlurDelay=100,n.redraw=function(n){function i(){function n(e,t,r,n,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,c.motionBlurTransparency),e.fillRect(t,r,n,i),e.globalCompositeOperation=o}function i(e,t){var i,s,f,p;c.clearingMotionBlur||e!==h.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]&&e!==h.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]?(i=C,s=S,f=c.canvasWidth,p=c.canvasHeight):(i={x:T.x*v,y:T.y*v},s=N*v,f=c.canvasWidth*v,p=c.canvasHeight*v),e.setTransform(1,0,0,1,0,0),"motionBlur"===t?n(e,0,0,f,p):o||void 0!==t&&!t||e.clearRect(0,0,f,p),a||(e.translate(i.x,i.y),e.scale(s,s)),l&&e.translate(l.x,l.y),u&&e.scale(u,u)}function w(e,t){for(var r=e.eles,n=0;n<r.length;n++){var i=r[n];i.isNode()?(c.drawNode(t,i),F||c.drawNodeText(t,i),c.drawNode(t,i,!0)):j||(c.drawEdge(t,i),F||c.drawEdgeText(t,i),c.drawEdge(t,i,!0))}}c.textureDrawLastFrame&&!g&&(d[r.NODE]=!0,d[r.SELECT_BOX]=!0);var E=c.getCachedEdges(),_=p.style()._private.coreStyle,N=p.zoom(),S=void 0!==u?u:N,T=p.pan(),C={x:T.x,y:T.y},A={zoom:N,pan:{x:T.x,y:T.y}},O=c.prevViewport,k=void 0===O||A.zoom!==O.zoom||A.pan.x!==O.pan.x||A.pan.y!==O.pan.y;k||x&&!y||(c.motionBlurPxRatio=1),l&&(C=l),S*=f,C.x*=f,C.y*=f;var P={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if(g||(c.textureDrawLastFrame=!1),g){c.textureDrawLastFrame=!0;var D;if(!c.textureCache){c.textureCache={},D=c.textureCache.bb=p.elements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[t.TEXTURE_BUFFER];var z=c.data.bufferContexts[t.TEXTURE_BUFFER];z.setTransform(1,0,0,1,0,0),z.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.redraw({forcedContext:z,drawOnlyNodeLayer:!0,forcedPxRatio:f*c.textureMult});var A=c.textureCache.viewport={zoom:p.zoom(),pan:p.pan(),width:c.canvasWidth,height:c.canvasHeight};A.mpan={x:(0-A.pan.x)/A.zoom,y:(0-A.pan.y)/A.zoom}}d[r.DRAG]=!1,d[r.NODE]=!1;var B=h.contexts[r.NODE],q=c.textureCache.texture,A=c.textureCache.viewport;D=c.textureCache.bb,B.setTransform(1,0,0,1,0,0),m?n(B,0,0,A.width,A.height):B.clearRect(0,0,A.width,A.height);var I=_["outside-texture-bg-color"].value,L=_["outside-texture-bg-opacity"].value;c.fillStyle(B,I[0],I[1],I[2],L),B.fillRect(0,0,A.width,A.height);var N=p.zoom();i(B,!1),B.clearRect(A.mpan.x,A.mpan.y,A.width/A.zoom/f,A.height/A.zoom/f),B.drawImage(q,A.mpan.x,A.mpan.y,A.width/A.zoom/f,A.height/A.zoom/f)}else c.textureOnViewport&&!o&&(c.textureCache=null);var R=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,j=c.hideEdgesOnViewport&&R,F=c.hideLabelsOnViewport&&R;if(d[r.DRAG]||d[r.NODE]||a||s){j||c.findEdgeControlPoints(E);for(var U=c.getCachedZSortedEles(),$=p.extent(),V=0;V<U.length;V++){var H,X=U[V],D=o?null:X.boundingBox(),W=o?!0:e.math.boundingBoxesIntersect($,D);W&&(H=X._private.rscratch.inDragLayer?P.drag:P.nondrag,H.eles.push(X))}}var Y=[];if(Y[r.NODE]=!d[r.NODE]&&m&&!c.clearedForMotionBlur[r.NODE]||c.clearingMotionBlur,Y[r.NODE]&&(c.clearedForMotionBlur[r.NODE]=!0),Y[r.DRAG]=!d[r.DRAG]&&m&&!c.clearedForMotionBlur[r.DRAG]||c.clearingMotionBlur,Y[r.DRAG]&&(c.clearedForMotionBlur[r.DRAG]=!0),d[r.NODE]||a||s||Y[r.NODE]){var G=m&&!Y[r.NODE]&&1!==v,B=o||(G?c.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]:h.contexts[r.NODE]),Z=m&&!G?"motionBlur":void 0;d[r.DRAG]&&d[r.NODE]&&(Z=!0),i(B,Z),w(P.nondrag,B),a||m||(d[r.NODE]=!1)}if(!s&&(d[r.DRAG]||a||Y[r.DRAG])){var G=m&&!Y[r.DRAG]&&1!==v,B=o||(G?c.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]:h.contexts[r.DRAG]);i(B,m&&!G?"motionBlur":void 0),w(P.drag,B),a||m||(d[r.DRAG]=!1)}if(c.showFps||!s&&d[r.SELECT_BOX]&&!a){var B=o||h.contexts[r.SELECT_BOX];if(i(B),1==h.select[4]&&(c.hoverData.selecting||c.touchData.selecting)){var N=h.cy.zoom(),K=_["selection-box-border-width"].value/N;B.lineWidth=K,B.fillStyle="rgba("+_["selection-box-color"].value[0]+","+_["selection-box-color"].value[1]+","+_["selection-box-color"].value[2]+","+_["selection-box-opacity"].value+")",B.fillRect(h.select[0],h.select[1],h.select[2]-h.select[0],h.select[3]-h.select[1]),K>0&&(B.strokeStyle="rgba("+_["selection-box-border-color"].value[0]+","+_["selection-box-border-color"].value[1]+","+_["selection-box-border-color"].value[2]+","+_["selection-box-opacity"].value+")",B.strokeRect(h.select[0],h.select[1],h.select[2]-h.select[0],h.select[3]-h.select[1]))}if(h.bgActivePosistion&&!c.hoverData.selecting){var N=h.cy.zoom(),J=h.bgActivePosistion;B.fillStyle="rgba("+_["active-bg-color"].value[0]+","+_["active-bg-color"].value[1]+","+_["active-bg-color"].value[2]+","+_["active-bg-opacity"].value+")",B.beginPath(),B.arc(J.x,J.y,_["active-bg-size"].pxValue/N,0,2*Math.PI),B.fill()}var Q=c.averageRedrawTime;if(c.showFps&&Q){Q=Math.round(Q);var ee=Math.round(1e3/Q);B.setTransform(1,0,0,1,0,0),B.fillStyle="rgba(255, 0, 0, 0.75)",B.strokeStyle="rgba(255, 0, 0, 0.75)",B.lineWidth=1,B.fillText("1 frame = "+Q+" ms = "+ee+" fps",0,20);var te=60;B.strokeRect(0,30,250,20),B.fillRect(0,30,250*Math.min(ee/te,1),20)}a||(d[r.SELECT_BOX]=!1)}if(m&&1!==v){var re=h.contexts[r.NODE],ne=c.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE],ie=h.contexts[r.DRAG],oe=c.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG],ae=function(e,t,r){e.setTransform(1,0,0,1,0,0),r||!b?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):n(e,0,0,c.canvasWidth,c.canvasHeight);var i=v;e.drawImage(t,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};(d[r.NODE]||Y[r.NODE])&&(ae(re,ne,Y[r.NODE]),d[r.NODE]=!1),(d[r.DRAG]||Y[r.DRAG])&&(ae(ie,oe,Y[r.DRAG]),d[r.DRAG]=!1)}var se=Date.now();void 0===c.averageRedrawTime&&(c.averageRedrawTime=se-M),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0),c.redrawTotalTime+=se-M,c.lastRedrawTime=se-M,c.averageRedrawTime=c.averageRedrawTime/2+(se-M)/2,c.currentlyDrawing=!1,c.prevViewport=A,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),m&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[r.NODE]=!1,c.clearedForMotionBlur[r.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!g,c.mbFrames=0,d[r.NODE]=!0,d[r.DRAG]=!0,c.redraw()},t.motionBlurDelay)),c.drawingImage=!1}n=n||{};var o=n.forcedContext,a=n.drawAllLayers,s=n.drawOnlyNodeLayer,u=n.forcedZoom,l=n.forcedPan,c=this,f=void 0===n.forcedPxRatio?this.getPixelRatio():n.forcedPxRatio,p=c.data.cy,h=c.data,d=h.canvasNeedsRedraw,g=c.textureOnViewport&&!o&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),m=void 0!==n.motionBlur?n.motionBlur:c.motionBlur,v=c.motionBlurPxRatio,y=p.hasCompoundNodes(),x=c.hoverData.draggingEles,w=c.hoverData.selecting||c.touchData.selecting?!0:!1;m=m&&!o&&c.motionBlurEnabled&&!w;var b=m;!o&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),!o&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var E=t.minRedrawLimit,_=t.maxRedrawLimit,N=this.averageRedrawTime;N=E>N?E:N,N=_>N?N:_,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var S=Date.now(),T=S-this.lastDrawTime,C=T>=N;if(!o&&!c.clearingMotionBlur){if(!C||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout(function(){c.redraw()},N));this.lastDrawTime=S,this.currentlyDrawing=!0}m&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(b=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1);var M=Date.now();o?i():e.util.requestAnimationFrame(i),o||c.initrender||(c.initrender=!0,p.trigger("initrender")),o||p.triggerOnRender()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawPolygonPath=function(e,t,r,n,i,o){var a=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],r+s*o[1]);for(var u=1;u<o.length/2;u++)e.lineTo(t+a*o[2*u],r+s*o[2*u+1]);e.closePath()},r.drawPolygon=function(e,t,r,n,i,o){this.drawPolygonPath(e,t,r,n,i,o),e.fill()},r.drawRoundRectanglePath=function(t,r,n,i,o,a){var s=i/2,u=o/2,l=e.math.getRoundRectangleRadius(i,o);t.beginPath&&t.beginPath(),t.moveTo(r,n-u),t.arcTo(r+s,n-u,r+s,n,l),t.arcTo(r+s,n+u,r,n+u,l),t.arcTo(r-s,n+u,r-s,n,l),t.arcTo(r-s,n-u,r,n-u,l),t.lineTo(r,n-u),t.closePath()},r.drawRoundRectangle=function(e,t,r,n,i,o){this.drawRoundRectanglePath(e,t,r,n,i,o),e.fill()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},r.bufferCanvasImage=function(t){var r=this.data,n=r.cy,i=n.elements().boundingBox(),o=t.full?Math.ceil(i.w):this.data.container.clientWidth,a=t.full?Math.ceil(i.h):this.data.container.clientHeight,s=1;if(void 0!==t.scale)o*=t.scale,a*=t.scale,s=t.scale;else if(e.is.number(t.maxWidth)||e.is.number(t.maxHeight)){var u=1/0,l=1/0;e.is.number(t.maxWidth)&&(u=s*t.maxWidth/o),e.is.number(t.maxHeight)&&(l=s*t.maxHeight/a),s=Math.min(u,l),o*=s,a*=s}var c=document.createElement("canvas");c.width=o,c.height=a,c.style.width=o+"px",c.style.height=a+"px";var f=c.getContext("2d");if(o>0&&a>0)if(f.clearRect(0,0,o,a),t.bg&&(f.fillStyle=t.bg,f.rect(0,0,o,a),f.fill()),f.globalCompositeOperation="source-over",t.full)this.redraw({forcedContext:f,drawAllLayers:!0,forcedZoom:s,forcedPan:{x:-i.x1*s,y:-i.y1*s},forcedPxRatio:1});else{var p=n.pan(),h={x:p.x*s,y:p.y*s},d=n.zoom()*s;this.redraw({forcedContext:f,drawAllLayers:!0,forcedZoom:d,forcedPan:h,forcedPxRatio:1})}return c},r.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")},r.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),r=t,n=r.prototype;n.registerBinding=function(e,t,r,n){this.bindings.push({target:e,event:t,handler:r,useCapture:n}),e.addEventListener(t,r,n)},n.nodeIsDraggable=function(e){return 0!==e._private.style.opacity.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&!e.locked()&&e.grabbable()?!0:!1},n.load=function(){var t=this,n=function(e){var r;if(e.addToList&&t.data.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var n=0;n<e.addToList.length;n++){var i=e.addToList[n];e.addToList.hasId[i.id()]=!0}}r=e.addToList.hasId}return r||{}},i=function(e,t){if(e._private.cy.hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList))for(var r=n(t),i=e.descendants(),o=0;o<i.size();o++){var a=i[o],s=a._private;t.inDragLayer&&(s.rscratch.inDragLayer=!0),t.addToList&&!r[a.id()]&&(t.addToList.push(a),r[a.id()]=!0,s.grabbed=!0);for(var u=s.edges,l=0;t.inDragLayer&&l<u.length;l++)u[l]._private.rscratch.inDragLayer=!0}},o=function(e,t){var r=e._private,o=n(t);t.inDragLayer&&(r.rscratch.inDragLayer=!0),t.addToList&&!o[e.id()]&&(t.addToList.push(e),o[e.id()]=!0,r.grabbed=!0);for(var a=r.edges,u=0;t.inDragLayer&&u<a.length;u++)a[u]._private.rscratch.inDragLayer=!0;i(e,t),s(e,{inDragLayer:t.inDragLayer})},a=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t]._private;if("nodes"===r.group){r.rscratch.inDragLayer=!1,r.grabbed=!1;for(var n=r.edges,i=0;i<n.length;i++)n[i]._private.rscratch.inDragLayer=!1;s(e[t],{inDragLayer:!1})}else"edges"===r.group&&(r.rscratch.inDragLayer=!1)}},s=function(e,t){if(null!=t.inDragLayer||null!=t.addToList){var r=e;if(e._private.cy.hasCompoundNodes()){for(;r.parent().nonempty();)r=r.parent()[0];if(r!=e){for(var i=r.descendants().merge(r).unmerge(e).unmerge(e.descendants()),o=i.connectedEdges(),a=n(t),s=0;s<i.size();s++)void 0!==t.inDragLayer&&(i[s]._private.rscratch.inDragLayer=t.inDragLayer),t.addToList&&!a[i[s].id()]&&(t.addToList.push(i[s]),a[i[s].id()]=!0,i[s]._private.grabbed=!0);for(var u=0;void 0!==t.inDragLayer&&u<o.length;u++)o[u]._private.rscratch.inDragLayer=t.inDragLayer}}}};"undefined"!=typeof MutationObserver?(t.removeObserver=new MutationObserver(function(e){for(var r=0;r<e.length;r++){var n=e[r],i=n.removedNodes;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a===t.data.container){t.destroy();break}}}}),t.removeObserver.observe(t.data.container.parentNode,{childList:!0})):t.registerBinding(t.data.container,"DOMNodeRemoved",function(e){t.destroy()}),t.registerBinding(window,"resize",e.util.debounce(function(e){t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.data.container),t.data.canvasNeedsRedraw[r.NODE]=!0,t.redraw()},100));for(var u=function(e){t.registerBinding(e,"scroll",function(e){t.invalidateContainerClientCoordsCache()})},l=t.data.cy.container();u(l),l.parentNode;)l=l.parentNode;t.registerBinding(t.data.container,"contextmenu",function(e){e.preventDefault()});var c=function(){return 0!==t.data.select[4]};t.registerBinding(t.data.container,"mousedown",function(n){n.preventDefault(),t.hoverData.capture=!0,t.hoverData.which=n.which;var i=t.data.cy,a=t.projectIntoViewport(n.clientX,n.clientY),s=t.data.select,u=t.findNearestElement(a[0],a[1],!0),l=t.dragData.possibleDragElements;t.hoverData.mdownPos=a;var c=t.data.canvasNeedsRedraw,f=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var r=t.hoverData.down;r?r.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:a[0],y:a[1]}})):i.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:a[0],y:a[1]}}))}},t.tapholdDuration)};if(3==n.which){t.hoverData.cxtStarted=!0;var p=new e.Event(n,{type:"cxttapstart",cyPosition:{x:a[0],y:a[1]}});u?(u.activate(),u.trigger(p),t.hoverData.down=u):i.trigger(p),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==n.which){if(u&&u.activate(),null!=u){if(t.nodeIsDraggable(u)){var h=new e.Event(n,{type:"grab",cyPosition:{x:a[0],y:a[1]}});if(u.isNode()&&!u.selected())l=t.dragData.possibleDragElements=[],o(u,{addToList:l}),u.trigger(h);else if(u.isNode()&&u.selected()){l=t.dragData.possibleDragElements=[];for(var d=i.$(function(){return this.isNode()&&this.selected()}),g=0;g<d.length;g++)t.nodeIsDraggable(d[g])&&o(d[g],{addToList:l});u.trigger(h)}c[r.NODE]=!0,c[r.DRAG]=!0}u.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:a[0],y:a[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:a[0],y:a[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:a[0],y:a[1]}}))}else null==u&&i.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:a[0],y:a[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:a[0],y:a[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:a[0],y:a[1]}}));if(t.hoverData.down=u,t.hoverData.downTime=(new Date).getTime(),null==u||u.isEdge()){s[4]=1;var m=Math.max(0,r.panOrBoxSelectDelay-(+new Date-t.hoverData.downTime));clearTimeout(t.bgActiveTimeout),i.boxSelectionEnabled()||u&&u.isEdge()?t.bgActiveTimeout=setTimeout(function(){u&&u.unactivate(),t.data.bgActivePosistion={x:a[0],y:a[1]},t.hoverData.dragging=!0,c[r.SELECT_BOX]=!0,t.redraw()},m):(t.data.bgActivePosistion={x:a[0],y:a[1]},c[r.SELECT_BOX]=!0,t.redraw())}f()}s[0]=s[2]=a[0],s[1]=s[3]=a[1]},!1),t.registerBinding(window,"mousemove",e.util.throttle(function(n){var i=!1,a=t.hoverData.capture;if(!a){var s=t.findContainerClientCoords();if(!(n.clientX>s[0]&&n.clientX<s[0]+t.canvasWidth&&n.clientY>s[1]&&n.clientY<s[1]+t.canvasHeight))return;for(var u=t.data.container,l=n.target,c=l.parentNode,f=!1;c;){if(c===u){f=!0;break}c=c.parentNode}if(!f)return}var p=t.data.cy,h=p.zoom(),d=t.projectIntoViewport(n.clientX,n.clientY),g=t.data.select,m=t.data.canvasNeedsRedraw,v=null;t.hoverData.draggingEles||(v=t.findNearestElement(d[0],d[1],!0));var y=t.hoverData.last,x=t.hoverData.down,w=[d[0]-g[2],d[1]-g[3]],b=t.dragData.possibleDragElements,E=g[2]-g[0],_=E*E,N=g[3]-g[1],S=N*N,T=_+S,C=T*h*h;t.hoverData.tapholdCancelled=!0;var M=function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(w[0]),e.push(w[1])):(e[0]+=w[0],e[1]+=w[1])};if(i=!0,null!=v?v.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:d[0],y:d[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:d[0],y:d[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:d[0],y:d[1]}})):null==v&&p.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:d[0],y:d[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:d[0],y:d[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:d[0],y:d[1]}})),3===t.hoverData.which){var A=new e.Event(n,{type:"cxtdrag",cyPosition:{x:d[0],y:d[1]}});x?x.trigger(A):p.trigger(A),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&v===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:d[0],y:d[1]}})),t.hoverData.cxtOver=v,v&&v.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:d[0],y:d[1]}})))}else if(t.hoverData.dragging){if(i=!0,p.panningEnabled()&&p.userPanningEnabled()){var O;if(t.hoverData.justStartedPan){var k=t.hoverData.mdownPos;O={x:(d[0]-k[0])*h,y:(d[1]-k[1])*h},t.hoverData.justStartedPan=!1}else O={x:w[0]*h,y:w[1]*h};p.panBy(O),t.hoverData.dragged=!0}d=t.projectIntoViewport(n.clientX,n.clientY)}else if(1==g[4]&&(null==x||x.isEdge())&&(!p.boxSelectionEnabled()||+new Date-t.hoverData.downTime>=r.panOrBoxSelectDelay)&&!t.hoverData.selecting&&C>=t.tapThreshold2&&p.panningEnabled()&&p.userPanningEnabled())t.hoverData.dragging=!0,t.hoverData.selecting=!1,t.hoverData.justStartedPan=!0,g[4]=0;else{if(p.boxSelectionEnabled()&&!t.hoverData.dragging&&Math.pow(g[2]-g[0],2)+Math.pow(g[3]-g[1],2)>7&&g[4]&&(clearTimeout(t.bgActiveTimeout),t.data.bgActivePosistion=void 0,t.hoverData.selecting=!0,m[r.SELECT_BOX]=!0,t.redraw()),x&&x.isEdge()&&x.active()&&x.unactivate(),v!=y&&(y&&(y.trigger(new e.Event(n,{type:"mouseout",cyPosition:{x:d[0],y:d[1]}})),y.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:d[0],y:d[1]}}))),v&&(v.trigger(new e.Event(n,{type:"mouseover",cyPosition:{x:d[0],y:d[1]}})),v.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:d[0],y:d[1]}}))),t.hoverData.last=v),x&&x.isNode()&&t.nodeIsDraggable(x))if(C>=t.tapThreshold2){var P=!t.dragData.didDrag;P&&(m[r.NODE]=!0),t.dragData.didDrag=!0;for(var D=[],z=0;z<b.length;z++){var B=b[z];if(t.hoverData.draggingEles||o(B,{inDragLayer:!0}),B.isNode()&&t.nodeIsDraggable(B)&&B.grabbed()){var q=B._private.position;if(D.push(B),e.is.number(w[0])&&e.is.number(w[1])&&(q.x+=w[0],q.y+=w[1],P)){var I=t.hoverData.dragDelta;e.is.number(I[0])&&e.is.number(I[1])&&(q.x+=I[0],q.y+=I[1])}}}t.hoverData.draggingEles=!0;var L=new e.Collection(p,D);L.updateCompoundBounds(),L.trigger("position drag"),m[r.DRAG]=!0,t.redraw()}else M();i=!0}return g[2]=d[0],g[3]=d[1],i?(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1):void 0},1e3/30,{trailing:!0}),!1),t.registerBinding(window,"mouseup",function(n){var i=t.hoverData.capture;if(i){t.hoverData.capture=!1;var o=t.data.cy,s=t.projectIntoViewport(n.clientX,n.clientY),u=t.data.select,l=t.findNearestElement(s[0],s[1],!0),c=t.dragData.possibleDragElements,f=t.hoverData.down,p=n.shiftKey,h=t.data.canvasNeedsRedraw;if(t.data.bgActivePosistion&&(h[r.SELECT_BOX]=!0,t.redraw()),t.data.bgActivePosistion=void 0,clearTimeout(t.bgActiveTimeout),f&&f.unactivate(),3===t.hoverData.which){var d=new e.Event(n,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(f?f.trigger(d):o.trigger(d),!t.hoverData.cxtDragged){var g=new e.Event(n,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});f?f.trigger(g):o.trigger(g)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else{if(null!=f||t.dragData.didDrag||Math.pow(u[2]-u[0],2)+Math.pow(u[3]-u[1],2)>7&&u[4]||t.hoverData.dragged||(o.$(function(){return this.selected()}).unselect(),c.length>0&&(h[r.NODE]=!0),t.dragData.possibleDragElements=c=[]),null!=l?l.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==l&&o.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})),Math.pow(u[2]-u[0],2)+Math.pow(u[3]-u[1],2)!==0||t.dragData.didDrag||t.hoverData.dragged||(null!=l?l.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==l&&o.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}}))),l!=f||t.dragData.didDrag||null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===o.selectionType()||p?l.selected()?l.unselect():l.select():p||(o.$(":selected").unmerge(l).unselect(),l.select())),h[r.NODE]=!0),t.hoverData.selecting&&o.boxSelectionEnabled()&&Math.pow(u[2]-u[0],2)+Math.pow(u[3]-u[1],2)>7&&u[4]){var m=[],v=t.getAllInBox(u[0],u[1],u[2],u[3]);h[r.SELECT_BOX]=!0,v.length>0&&(h[r.NODE]=!0);for(var y=0;y<v.length;y++)v[y]._private.selectable&&m.push(v[y]);var x=new e.Collection(o,m);"additive"===o.selectionType()?x.select():(p||o.$(":selected").unmerge(x).unselect(),x.select()),t.redraw()}t.hoverData.dragging&&(t.hoverData.dragging=!1,h[r.SELECT_BOX]=!0,h[r.NODE]=!0,t.redraw()),u[4]||(h[r.DRAG]=!0,h[r.NODE]=!0,a(c),f&&f.trigger("free"))}u[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[]}},!1);var f=function(e){if(!t.scrollingPage){var n=t.data.cy,i=t.projectIntoViewport(e.clientX,e.clientY),o=[i[0]*n.zoom()+n.pan().x,i[1]*n.zoom()+n.pan().y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||c())return void e.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.data.canvasNeedsRedraw[r.NODE]=!0,t.redraw()},150);var a=e.deltaY/-250||e.wheelDeltaY/1e3||e.wheelDelta/1e3;a*=t.wheelSensitivity;var s=1===e.deltaMode;s&&(a*=33),n.zoom({level:n.zoom()*Math.pow(10,a),renderedPosition:{x:o[0],y:o[1]}})}}};t.registerBinding(t.data.container,"wheel",f,!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.data.container,"mouseout",function(r){var n=t.projectIntoViewport(r.clientX,r.clientY);t.data.cy.trigger(new e.Event(r,{type:"mouseout",cyPosition:{x:n[0],y:n[1]}}))},!1),t.registerBinding(t.data.container,"mouseover",function(r){var n=t.projectIntoViewport(r.clientX,r.clientY);t.data.cy.trigger(new e.Event(r,{type:"mouseover",cyPosition:{x:n[0],y:n[1]}}))},!1);var p,h,d,g,m,v,y,x,w,b,E,_,N,S=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},T=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};t.registerBinding(t.data.container,"touchstart",function(n){clearTimeout(this.threeFingerSelectTimeout),n.target!==t.data.link&&n.preventDefault(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var i=t.data.cy,a=t.getCachedNodes(),s=t.getCachedEdges(),u=t.touchData.now,l=t.touchData.earlier,c=t.data.canvasNeedsRedraw;if(n.touches[0]){var f=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=f[0],u[1]=f[1]}if(n.touches[1]){var f=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=f[0],u[3]=f[1]}if(n.touches[2]){var f=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=f[0],u[5]=f[1]}if(n.touches[1]){var C=function(e){for(var t=0;t<e.length;t++)e[t]._private.grabbed=!1,e[t]._private.rscratch.inDragLayer=!1,e[t].active()&&e[t].unactivate()};C(a),C(s);var M=t.findContainerClientCoords();w=M[0],b=M[1],E=M[2],_=M[3],p=n.touches[0].clientX-w,h=n.touches[0].clientY-b,d=n.touches[1].clientX-w,g=n.touches[1].clientY-b,N=p>=0&&E>=p&&d>=0&&E>=d&&h>=0&&_>=h&&g>=0&&_>=g;var A=i.pan(),O=i.zoom();m=S(p,h,d,g),v=T(p,h,d,g),y=[(p+d)/2,(h+g)/2],x=[(y[0]-A.x)/O,(y[1]-A.y)/O];var k=200,P=k*k;if(P>v&&!n.touches[2]){var D=t.findNearestElement(u[0],u[1],!0),z=t.findNearestElement(u[2],u[3],!0);return D&&D.isNode()?(D.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:u[0],y:u[1]}})),t.touchData.start=D):z&&z.isNode()?(z.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:u[0],y:u[1]}})),t.touchData.start=z):(i.trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:u[0],y:u[1]}})),t.touchData.start=null),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var B=t.findNearestElement(u[0],u[1],!0);if(null!=B){if(B.activate(),t.touchData.start=B,B.isNode()&&t.nodeIsDraggable(B)){var q=t.dragData.touchDragEles=[];if(c[r.NODE]=!0,c[r.DRAG]=!0,B.selected())for(var I=i.$(function(){return this.isNode()&&this.selected()}),L=0;L<I.length;L++){var R=I[L];t.nodeIsDraggable(R)&&o(R,{addToList:q})}else o(B,{addToList:q});B.trigger(new e.Event(n,{type:"grab",cyPosition:{x:u[0],y:u[1]}}))}B.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:u[0],y:u[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:u[0],y:u[1]}})).trigger(new e.Event(n,{type:"vmousdown",cyPosition:{x:u[0],y:u[1]}}))}null==B&&(i.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:u[0],y:u[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:u[0],y:u[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:u[0],y:u[1]}})),t.data.bgActivePosistion={x:f[0],y:f[1]},c[r.SELECT_BOX]=!0,t.redraw());for(var j=0;j<u.length;j++)l[j]=u[j],t.touchData.startPosition[j]=u[j];t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved!==!1||t.pinching||(t.touchData.start?t.touchData.start.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:u[0],y:u[1]}})):(t.data.cy.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:u[0],y:u[1]}})),i.$(":selected").unselect()))},t.tapholdDuration)}},!1),t.registerBinding(window,"touchmove",e.util.throttle(function(n){var i=t.data.select,a=t.touchData.capture;a&&n.preventDefault();var s=t.data.cy,u=t.touchData.now,l=t.touchData.earlier,c=s.zoom(),f=t.data.canvasNeedsRedraw;if(n.touches[0]){var y=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=y[0],u[1]=y[1]}if(n.touches[1]){var y=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=y[0],u[3]=y[1]}if(n.touches[2]){var y=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=y[0],u[5]=y[1]}for(var E=[],_=0;_<u.length;_++)E[_]=u[_]-l[_];var C=t.touchData.startPosition,M=u[0]-C[0],A=M*M,O=u[1]-C[1],k=O*O,P=A+k,D=P*c*c;if(a&&t.touchData.cxt){var z=n.touches[0].clientX-w,B=n.touches[0].clientY-b,q=n.touches[1].clientX-w,I=n.touches[1].clientY-b,L=T(z,B,q,I),R=L/v,j=150,F=j*j,U=1.5,$=U*U;if(R>=$||L>=F){t.touchData.cxt=!1,t.touchData.start&&(t.touchData.start.unactivate(),t.touchData.start=null),t.data.bgActivePosistion=void 0,f[r.SELECT_BOX]=!0;var V=new e.Event(n,{type:"cxttapend",cyPosition:{x:u[0],y:u[1]}});t.touchData.start?t.touchData.start.trigger(V):s.trigger(V)}}if(a&&t.touchData.cxt){var V=new e.Event(n,{type:"cxtdrag",cyPosition:{x:u[0],y:u[1]}});t.data.bgActivePosistion=void 0,f[r.SELECT_BOX]=!0,t.touchData.start?t.touchData.start.trigger(V):s.trigger(V),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var H=t.findNearestElement(u[0],u[1],!0);t.touchData.cxtOver&&H===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:u[0],y:u[1]}})),t.touchData.cxtOver=H,H&&H.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:u[0],y:u[1]}})))}else if(a&&n.touches[2]&&s.boxSelectionEnabled())t.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,t.touchData.selecting=!0,f[r.SELECT_BOX]=!0,i&&0!==i.length&&void 0!==i[0]?(i[2]=(u[0]+u[2]+u[4])/3,i[3]=(u[1]+u[3]+u[5])/3):(i[0]=(u[0]+u[2]+u[4])/3,i[1]=(u[1]+u[3]+u[5])/3,i[2]=(u[0]+u[2]+u[4])/3+1,i[3]=(u[1]+u[3]+u[5])/3+1),i[4]=1,t.touchData.selecting=!0,t.redraw();else if(a&&n.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){t.data.bgActivePosistion=void 0,f[r.SELECT_BOX]=!0;var X=t.dragData.touchDragEles;if(X){f[r.DRAG]=!0;for(var W=0;W<X.length;W++)X[W]._private.grabbed=!1,X[W]._private.rscratch.inDragLayer=!1}var z=n.touches[0].clientX-w,B=n.touches[0].clientY-b,q=n.touches[1].clientX-w,I=n.touches[1].clientY-b,Y=S(z,B,q,I),G=Y/m;if(1!=G&&N){var Z=z-p,K=B-h,J=q-d,Q=I-g,ee=(Z+J)/2,te=(K+Q)/2,re=s.zoom(),ne=re*G,ie=s.pan(),oe=x[0]*re+ie.x,ae=x[1]*re+ie.y,se={x:-ne/re*(oe-ie.x-ee)+oe,y:-ne/re*(ae-ie.y-te)+ae};if(t.touchData.start){var X=t.dragData.touchDragEles;if(X)for(var W=0;W<X.length;W++){var ue=X[W]._private;ue.grabbed=!1,ue.rscratch.inDragLayer=!1}var le=t.touchData.start._private;le.active=!1,le.grabbed=!1,le.rscratch.inDragLayer=!1,f[r.DRAG]=!0,t.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:ne,pan:se,cancelOnFailedZoom:!0}),m=Y,p=z,h=B,d=q,g=I,t.pinching=!0}if(n.touches[0]){var y=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=y[0],u[1]=y[1]}if(n.touches[1]){var y=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=y[0],u[3]=y[1]}if(n.touches[2]){var y=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=y[0],u[5]=y[1]}}else if(n.touches[0]){var ce=t.touchData.start,fe=t.touchData.last,H=H||t.findNearestElement(u[0],u[1],!0);if(null!=ce&&"nodes"==ce._private.group&&t.nodeIsDraggable(ce))if(D>=t.tapThreshold2){for(var X=t.dragData.touchDragEles,pe=0;pe<X.length;pe++){var he=X[pe];if(t.nodeIsDraggable(he)&&he.isNode()&&he.grabbed()){t.dragData.didDrag=!0;var de=he._private.position,ge=!t.hoverData.draggingEles;if(e.is.number(E[0])&&e.is.number(E[1])&&(de.x+=E[0],de.y+=E[1]),ge){o(he,{inDragLayer:!0}),f[r.NODE]=!0;var me=t.touchData.dragDelta;e.is.number(me[0])&&e.is.number(me[1])&&(de.x+=me[0],de.y+=me[1])}}}var ve=new e.Collection(s,he);ve.updateCompoundBounds(),ve.trigger("position drag"),
t.hoverData.draggingEles=!0,f[r.DRAG]=!0,t.touchData.startPosition[0]==l[0]&&t.touchData.startPosition[1]==l[1]&&(f[r.NODE]=!0),t.redraw()}else{var me=t.touchData.dragDelta=t.touchData.dragDelta||[];0===me.length?(me.push(E[0]),me.push(E[1])):(me[0]+=E[0],me[1]+=E[1])}null!=ce&&(ce.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:u[0],y:u[1]}})),ce.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:u[0],y:u[1]}})),ce.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:u[0],y:u[1]}}))),null==ce&&(null!=H&&(H.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:u[0],y:u[1]}})),H.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:u[0],y:u[1]}})),H.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:u[0],y:u[1]}}))),null==H&&(s.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:u[0],y:u[1]}})),s.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:u[0],y:u[1]}})),s.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:u[0],y:u[1]}})))),H!=fe&&(fe&&fe.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:u[0],y:u[1]}})),H&&H.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:u[0],y:u[1]}}))),t.touchData.last=H;for(var W=0;W<u.length;W++)u[W]&&t.touchData.startPosition[W]&&Math.abs(u[W]-t.touchData.startPosition[W])>4&&(t.touchData.singleTouchMoved=!0);if(a&&(null==ce||ce.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){t.swipePanning?s.panBy({x:E[0]*c,y:E[1]*c}):D>=t.tapThreshold2&&(t.swipePanning=!0,s.panBy({x:M*c,y:O*c})),ce&&(ce.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion={x:u[0],y:u[1]}),f[r.SELECT_BOX]=!0,t.touchData.start=null);var y=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=y[0],u[1]=y[1]}}for(var _=0;_<u.length;_++)l[_]=u[_]},1e3/30,{trailing:!0}),!1),t.registerBinding(window,"touchcancel",function(e){var r=t.touchData.start;t.touchData.capture=!1,r&&r.unactivate()}),t.registerBinding(window,"touchend",function(n){var i=t.touchData.start,o=t.touchData.capture;if(o){t.touchData.capture=!1,n.preventDefault();var s=t.data.select;t.swipePanning=!1,t.hoverData.draggingEles=!1;var u=t.data.cy,l=u.zoom(),c=t.touchData.now,f=t.touchData.earlier,p=t.data.canvasNeedsRedraw;if(n.touches[0]){var h=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=h[0],c[1]=h[1]}if(n.touches[1]){var h=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=h[0],c[3]=h[1]}if(n.touches[2]){var h=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=h[0],c[5]=h[1]}i&&i.unactivate();var d;if(t.touchData.cxt){if(d=new e.Event(n,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}}),i?i.trigger(d):u.trigger(d),!t.touchData.cxtDragged){var g=new e.Event(n,{type:"cxttap",cyPosition:{x:c[0],y:c[1]}});i?i.trigger(g):u.trigger(g)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&u.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1,clearTimeout(this.threeFingerSelectTimeout);var m=[],v=t.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,p[r.SELECT_BOX]=!0;for(var y=0;y<v.length;y++)v[y]._private.selectable&&m.push(v[y]);var x=new e.Collection(u,m);"single"===u.selectionType()&&u.$(":selected").unmerge(x).unselect(),x.select(),x.length>0?p[r.NODE]=!0:t.redraw()}var w=!1;if(null!=i&&(i._private.active=!1,w=!0,i.unactivate()),n.touches[2])t.data.bgActivePosistion=void 0,p[r.SELECT_BOX]=!0;else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,p[r.SELECT_BOX]=!0;var b=t.dragData.touchDragEles;if(null!=i){var E=i._private.grabbed;a(b),p[r.DRAG]=!0,p[r.NODE]=!0,E&&i.trigger("free"),i.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),i.unactivate(),t.touchData.start=null}else{var _=t.findNearestElement(c[0],c[1],!0);null!=_&&_.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),null==_&&u.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}))}var N=t.touchData.startPosition[0]-c[0],S=N*N,T=t.touchData.startPosition[1]-c[1],C=T*T,M=S+C,A=M*l*l;null!=i&&!t.dragData.didDrag&&i._private.selectable&&A<t.tapThreshold2&&!t.pinching&&("single"===u.selectionType()?(u.$(":selected").unmerge(i).unselect(),i.select()):i.selected()?i.unselect():i.select(),w=!0,p[r.NODE]=!0),t.touchData.singleTouchMoved===!1&&(i?i.trigger(new e.Event(n,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})):u.trigger(new e.Event(n,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:c[0],y:c[1]}}))),t.touchData.singleTouchMoved=!0}for(var O=0;O<c.length;O++)f[O]=c[O];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[]),w&&i&&i.updateStyle(!1),n.touches.length<2&&(t.pinching=!1,p[r.NODE]=!0,t.redraw())}},!1)}}(cytoscape),function(e){"use strict";function t(t,r){o[t]={points:r,draw:function(e,r,i,a,s){n.drawPolygon(e,r,i,a,s,o[t].points)},drawPath:function(e,r,i,a,s){n.drawPolygonPath(e,r,i,a,s,o[t].points)},intersectLine:function(r,n,i,a,s,u,l){return e.math.polygonIntersectLine(s,u,o[t].points,r,n,i/2,a/2,l)},intersectBox:function(r,n,i,a,s,u,l,c,f){var p=o[t].points;return e.math.boxIntersectPolygon(r,n,i,a,p,s,u,l,c,[0,-1],f)},checkPoint:function(r,n,i,a,s,u,l){return e.math.pointInsidePolygon(r,n,o[t].points,u,l,a,s,[0,-1],i)}}}for(var r=e("renderer","canvas"),n=r.prototype,i=r.usePaths(),o=r.nodeShapes={},a=Math.sin(0),s=Math.cos(0),u={},l={},c=.1,f=0*Math.PI;f<2*Math.PI;f+=c)u[f]=Math.sin(f),l[f]=Math.cos(f);o.ellipse={draw:function(e,t,r,n,i){o.ellipse.drawPath(e,t,r,n,i),e.fill()},drawPath:function(e,t,r,n,o){if(i){e.beginPath&&e.beginPath();for(var f,p,h=n/2,d=o/2,g=0*Math.PI;g<2*Math.PI;g+=c)f=t-h*u[g]*a+h*l[g]*s,p=r+d*l[g]*a+d*u[g]*s,0===g?e.moveTo(f,p):e.lineTo(f,p);e.closePath()}else e.beginPath&&e.beginPath(),e.translate(t,r),e.scale(n/2,o/2),e.arc(0,0,1,0,2*Math.PI*.999,!1),e.closePath(),e.scale(2/n,2/o),e.translate(-t,-r)},intersectLine:function(t,r,n,i,o,a,s){var u=e.math.intersectLineEllipse(o,a,t,r,n/2+s,i/2+s);return u},intersectBox:function(t,r,n,i,o,a,s,u,l){return e.math.boxIntersectEllipse(t,r,n,i,l,o,a,s,u)},checkPoint:function(e,t,r,n,i,o,a){return e-=o,t-=a,e/=n/2+r,t/=i/2+r,Math.pow(e,2)+Math.pow(t,2)<=1}},t("triangle",e.math.generateUnitNgonPointsFitToSquare(3,0)),t("square",e.math.generateUnitNgonPointsFitToSquare(4,0)),o.rectangle=o.square,o.roundrectangle={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,i,o){n.drawRoundRectangle(e,t,r,i,o,10)},drawPath:function(e,t,r,i,o){n.drawRoundRectanglePath(e,t,r,i,o,10)},intersectLine:function(t,r,n,i,o,a,s){return e.math.roundRectangleIntersectLine(o,a,t,r,n,i,s)},intersectBox:function(t,r,n,i,o,a,s,u,l){return e.math.roundRectangleIntersectBox(t,r,n,i,o,a,s,u,l)},checkPoint:function(t,r,n,i,a,s,u){var l=e.math.getRoundRectangleRadius(i,a);if(e.math.pointInsidePolygon(t,r,o.roundrectangle.points,s,u,i,a-2*l,[0,-1],n))return!0;if(e.math.pointInsidePolygon(t,r,o.roundrectangle.points,s,u,i-2*l,a,[0,-1],n))return!0;var c=function(e,t,r,n,i,o,a){return e-=r,t-=n,e/=i/2+a,t/=o/2+a,Math.pow(e,2)+Math.pow(t,2)<=1};return c(t,r,s-i/2+l,u-a/2+l,2*l,2*l,n)?!0:c(t,r,s+i/2-l,u-a/2+l,2*l,2*l,n)?!0:c(t,r,s+i/2-l,u+a/2-l,2*l,2*l,n)?!0:c(t,r,s-i/2+l,u+a/2-l,2*l,2*l,n)?!0:!1}},t("diamond",[0,1,1,0,0,-1,-1,0]),t("pentagon",e.math.generateUnitNgonPointsFitToSquare(5,0)),t("hexagon",e.math.generateUnitNgonPointsFitToSquare(6,0)),t("heptagon",e.math.generateUnitNgonPointsFitToSquare(7,0)),t("octagon",e.math.generateUnitNgonPointsFitToSquare(8,0));var p=new Array(20),h=e.math.generateUnitNgonPoints(5,0),d=e.math.generateUnitNgonPoints(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var f=0;f<d.length/2;f++)d[2*f]*=g,d[2*f+1]*=g;for(var f=0;5>f;f++)p[4*f]=h[2*f],p[4*f+1]=h[2*f+1],p[4*f+2]=d[2*f],p[4*f+3]=d[2*f+1];p=e.math.fitPolygonToSquare(p),t("star",p),t("vee",[-1,-1,0,-.333,1,-1,0,1]),t("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])}(cytoscape),function(e){"use strict";function t(t){this._private={},this._private.options=e.util.extend({},r,t)}var r={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var t=e;return t.max<=.5||t.mean<=.3},infinite:!1};t.prototype.run=function(){var t=this,r=this._private.options;return e.util.require("arbor",function(n){function i(e,t){return null==t?void 0:"function"==typeof t?t.apply(e,[e._private.data,{nodes:l.length,edges:c.length,element:e}]):t}function o(e){if(!e.isFullAutoParent()){var t=e._private.data.id,n=i(e,r.nodeMass),o=e._private.locked,a=e.position(),s=h.fromScreen({x:a.x,y:a.y});e.scratch().arbor=h.addNode(t,{element:e,mass:n,fixed:o,x:o?s.x:void 0,y:o?s.y:void 0})}}function a(e){var t=e.source().id(),n=e.target().id(),o=i(e,r.edgeLength);e.scratch().arbor=h.addEdge(t,n,{length:o})}var s=r.cy,u=r.eles,l=u.nodes().not(":parent"),c=u.edges(),f=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),p=!1;if(t.trigger({type:"layoutstart",layout:t}),void 0!==r.liveUpdate&&(r.animate=r.liveUpdate),s.nodes().size()<=1)return r.fit&&s.reset(),s.nodes().position({x:Math.round((f.x1+f.x2)/2),y:Math.round((f.y1+f.y2)/2)}),t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),void t.trigger({type:"layoutstop",layout:t});var h=t._private.system=n.ParticleSystem();h.parameters({repulsion:r.repulsion,stiffness:r.stiffness,friction:r.friction,gravity:r.gravity,fps:r.fps,dt:r.dt,precision:r.precision}),r.animate&&r.fit&&s.fit(f,r.padding);var d,g=250,m=!1,v=+new Date,y={init:function(e){},redraw:function(){var e=h.energy();if(!r.infinite&&null!=r.stableEnergy&&null!=e&&e.n>0&&r.stableEnergy(e))return void t.stop();r.infinite||g==1/0||(clearTimeout(d),d=setTimeout(S,g));var n=s.collection();h.eachNode(function(e,t){var r=e.data,i=r.element;null!=i&&(i.locked()||i.grabbed()||(i.silentPosition({x:f.x1+t.x,y:f.y1+t.y}),n.merge(i)))}),r.animate&&n.length>0&&(p=!0,n.rtrigger("position"),r.fit&&s.fit(r.padding),v=+new Date,p=!1),m||(m=!0,t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t}))}};h.renderer=y,h.screenSize(f.w,f.h),h.screenPadding(r.padding,r.padding,r.padding,r.padding),h.screenStep(r.stepSize);var x;l.on("grab free position",x=function(e){if(!p){var t=this.position(),i=h.fromScreen(t);if(i){var o=n.Point(i.x,i.y),a=r.padding;switch(f.x1+a<=t.x&&t.x<=f.x2-a&&f.y1+a<=t.y&&t.y<=f.y2-a&&(this.scratch().arbor.p=o),e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var w;l.on("lock unlock",w=function(e){node.scratch().arbor.fixed=node.locked()});var b;u.on("remove",b=function(e){});var E;s.on("add","*",E=function(){});var _;s.on("resize",_=function(){if(null==r.boundingBox&&null!=t._private.system){var e=s.width(),n=s.height();h.screenSize(e,n)}}),l.each(function(e,t){o(t)}),c.each(function(e,t){a(t)});var N=l.filter(":grabbable");r.ungrabifyWhileSimulating&&N.ungrabify();var S=t._private.doneHandler=function(){t._private.doneHandler=null,r.animate||(r.fit&&s.reset(),l.rtrigger("position")),l.off("grab free position",x),l.off("lock unlock",w),u.off("remove",b),s.off("add","*",E),s.off("resize",_),r.ungrabifyWhileSimulating&&N.grabify(),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t})};h.start(),!r.infinite&&null!=r.maxSimulationTime&&r.maxSimulationTime>0&&r.maxSimulationTime!==1/0&&setTimeout(function(){t.stop()},r.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},e("layout","arbor",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t,r=this.options,n=r,i=r.cy,o=n.eles,a=o.nodes().not(":parent"),s=o,u=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(e.is.elementOrCollection(n.roots))t=n.roots;else if(e.is.array(n.roots)){for(var l=[],c=0;c<n.roots.length;c++){var f=n.roots[c],p=i.getElementById(f);l.push(p)}t=new e.Collection(i,l)}else if(e.is.string(n.roots))t=i.$(n.roots);else if(n.directed)t=a.roots();else{for(var h=[],d=a;d.length>0;){var g=i.collection();o.bfs({roots:d[0],visit:function(e,t,r,n,i){g=g.add(r)},directed:!1}),d=d.not(g),h.push(g)}t=i.collection();for(var c=0;c<h.length;c++){var m=h[c],v=m.maxDegree(!1),y=m.filter(function(){return this.degree(!1)===v});t=t.add(y)}}var x=[],w={},b={},E={},_={},N={};s.bfs({roots:t,directed:n.directed,visit:function(e,t,r,n,i){var o=this[0],a=o.id();if(x[t]||(x[t]=[]),x[t].push(o),w[a]=!0,b[a]=t,E[a]=i,_[a]=n,i){var s=i.id(),u=N[s]=N[s]||[];u.push(r)}}});for(var S=[],c=0;c<a.length;c++){var p=a[c];w[p.id()]||S.push(p)}for(var T=3*S.length,C=0;0!==S.length&&T>C;){for(var M=S.shift(),A=M.neighborhood().nodes(),O=!1,c=0;c<A.length;c++){var k=b[A[c].id()];if(void 0!==k){x[k].push(M),O=!0;break}}O||S.push(M),C++}for(;0!==S.length;){var M=S.shift(),O=!1;O||(0===x.length&&x.push([]),x[0].push(M))}var P=function(){for(var e=0;e<x.length;e++)for(var t=x[e],r=0;r<t.length;r++){var n=t[r];n._private.scratch.breadthfirst={depth:e,index:r}}};P();for(var D=function(e){for(var t,r=e.connectedEdges(function(){return this.data("target")===e.id()}),n=e._private.scratch.breadthfirst,i=0,o=0;o<r.length;o++){var a=r[o],s=a.source()[0],u=s._private.scratch.breadthfirst;n.depth<=u.depth&&i<u.depth&&(i=u.depth,t=s)}return t},z=0;z<n.maximalAdjustments;z++){for(var B=x.length,q=[],c=0;B>c;c++)for(var k=x[c],I=k.length,L=0;I>L;L++){var p=k[L],R=p._private.scratch.breadthfirst,j=D(p);j&&(R.intEle=j,q.push(p))}for(var c=0;c<q.length;c++){var p=q[c],R=p._private.scratch.breadthfirst,j=R.intEle,F=j._private.scratch.breadthfirst;x[R.depth].splice(R.index,1);for(var U=F.depth+1;U>x.length-1;)x.push([]);x[U].push(p),R.depth=U,R.index=x[U].length-1}P()}var $=0;if(n.avoidOverlap){for(var c=0;c<a.length;c++){var V=a[c].outerWidth(),H=a[c].outerHeight();$=Math.max($,V,H)}$*=n.spacingFactor}for(var X={},W=function(e){if(X[e.id()])return X[e.id()];for(var t=e._private.scratch.breadthfirst.depth,r=e.neighborhood().nodes().not(":parent"),n=0,i=0,o=0;o<r.length;o++){var a=r[o],s=a._private.scratch.breadthfirst,u=s.index,l=s.depth,c=x[l].length;(t>l||0===t)&&(n+=u/c,i++)}return i=Math.max(1,i),n/=i,0===i&&(n=void 0),X[e.id()]=n,n},Y=function(e,t){var r=W(e),n=W(t);return r-n},G=0;3>G;G++){for(var c=0;c<x.length;c++)x[c]=x[c].sort(Y);P()}for(var Z=0,c=0;c<x.length;c++)Z=Math.max(x[c].length,Z);for(var K={x:u.x1+u.w/2,y:u.x1+u.h/2},J=function(e,t){var r=e._private.scratch.breadthfirst,i=r.depth,o=r.index,a=x[i].length,s=Math.max(u.w/(a+1),$),l=Math.max(u.h/(x.length+1),$),c=Math.min(u.w/2/x.length,u.h/2/x.length);if(c=Math.max(c,$),n.circle){if(n.circle){var f=c*i+c-(x.length>0&&x[0].length<=3?c/2:0),p=2*Math.PI/x[i].length*o;return 0===i&&1===x[0].length&&(f=1),{x:K.x+f*Math.cos(p),y:K.y+f*Math.sin(p)}}return{x:K.x+(o+1-(a+1)/2)*s,y:(i+1)*l}}var h={x:K.x+(o+1-(a+1)/2)*s,y:(i+1)*l};return t?h:h},Q={},c=x.length-1;c>=0;c--)for(var k=x[c],L=0;L<k.length;L++){var M=k[L];Q[M.id()]=J(M,c===x.length-1)}return a.layoutPositions(this,n,function(){return Q[this.id()]}),this},e("layout","breadthfirst",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t,n=t.cy,i=r.eles,o=i.nodes().not(":parent");r.sort&&(o=o.sort(r.sort));for(var a,s=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},l=r.startAngle,c=2*Math.PI/o.length,f=0,p=0;p<o.length;p++){var h=o[p].outerWidth(),d=o[p].outerHeight();f=Math.max(f,h,d)}if(a=e.is.number(r.radius)?r.radius:o.length<=1?0:Math.min(s.h,s.w)/2-f,o.length>1&&r.avoidOverlap){f*=1.75;var c=2*Math.PI/o.length,g=Math.cos(c)-Math.cos(0),m=Math.sin(c)-Math.sin(0),v=Math.sqrt(f*f/(g*g+m*m));a=Math.max(v,a)}var y=function(e,t){var n=a*Math.cos(l),i=a*Math.sin(l),o={x:u.x+n,y:u.y+i};return l=r.counterclockwise?l-c:l+c,o};return o.layoutPositions(this,r,y),this},e("layout","circle",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.prototype.run=function(){var t=this,r=this.options;return t.manuallyStopped=!1,e.util.require("cola",function(n){var i=r.cy,o=r.eles,a=o.nodes(),s=o.edges(),u=!1,l=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),c=function(t,r){if(e.is.fn(t)){var n=t;return n.apply(r,[r])}return t},f=function(){for(var t={min:1/0,max:-(1/0)},n={min:1/0,max:-(1/0)},o=0;o<a.length;o++){var s=a[o],c=s._private.scratch.cola;t.min=Math.min(t.min,c.x||0),t.max=Math.max(t.max,c.x||0),n.min=Math.min(n.min,c.y||0),n.max=Math.max(n.max,c.y||0)}a.positions(function(r,i){var o,a=i._private.scratch.cola;return i.grabbed()||i.isParent()||(o={x:l.x1+a.x-t.min,y:l.y1+a.y-n.min},e.is.number(o.x)&&e.is.number(o.y)||(o=void 0)),o}),a.updateCompoundBounds(),u||(h(),u=!0),r.fit&&i.fit(r.padding)},p=function(){r.ungrabifyWhileSimulating&&v.grabify(),a.off("grab free position",y),a.off("lock unlock",x),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t})},h=function(){t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t})},d=r.refresh,g=1;r.refresh<0?(g=Math.abs(r.refresh),d=1):d=Math.max(1,d);var m=t.adaptor=n.adaptor({trigger:function(e){switch(e.type){case"tick":r.animate&&f();break;case"end":f(),r.infinite||p()}},kick:function(n){var i=function(){if(t.manuallyStopped)return p(),!0;var e=n();return e&&r.infinite&&m.resume(),e},o=function(){for(var e,t=0;d>t&&!e;t++)e=e||i();return e};if(r.animate){var a=function(){o()||e.util.requestAnimationFrame(a)};e.util.requestAnimationFrame(a)}else for(;!i(););},on:function(e,t){},drag:function(){}});t.adaptor=m;var v=a.filter(":grabbable");r.ungrabifyWhileSimulating&&v.ungrabify();var y;a.on("grab free position",y=function(t){var r=this,n=r._private.scratch.cola,i=r._private.position;switch(r.grabbed()?(n.x=i.x-l.x1,n.y=i.y-l.y1,m.dragstart(n)):e.is.number(n.x)&&e.is.number(n.y)&&(i.x=n.x+l.x1,i.y=n.y+l.y1),t.type){case"grab":m.dragstart(n),m.resume();break;case"free":m.dragend(n)}});var x;a.on("lock unlock",x=function(e){var t=this,r=t._private.scratch.cola;t.locked()?m.dragstart(r):m.dragend(r)});var w=a.stdFilter(function(e){return!e.isParent()});if(m.nodes(w.map(function(e,t){var n=c(r.nodeSpacing,e),i=e.position(),o=e._private.scratch.cola={x:r.randomize?Math.round(Math.random()*l.w):i.x,y:r.randomize?Math.round(Math.random()*l.h):i.y,width:e.outerWidth()+2*n,height:e.outerHeight()+2*n,index:t};return o})),r.alignment){var b=[],E=[];w.forEach(function(e){var t=c(r.alignment,e),n=e._private.scratch.cola,i=n.index;t&&(null!=t.x&&b.push({node:i,offset:t.x}),null!=t.y&&E.push({node:i,offset:t.y}))});var _=[];b.length>0&&_.push({type:"alignment",axis:"x",offsets:b}),E.length>0&&_.push({type:"alignment",axis:"y",offsets:E}),m.constraints(_)}m.groups(a.stdFilter(function(e){return e.isParent()}).map(function(e,t){return e._private.scratch.cola={index:t,leaves:e.descendants().stdFilter(function(e){return!e.isParent()}).map(function(e){return e[0]._private.scratch.cola.index})},e}).map(function(e){return e._private.scratch.cola.groups=e.descendants().stdFilter(function(e){return e.isParent()}).map(function(e){return e._private.scratch.cola.index}),e._private.scratch.cola}));var N,S;null!=r.edgeLength?(N=r.edgeLength,S="linkDistance"):null!=r.edgeSymDiffLength?(N=r.edgeSymDiffLength,S="symmetricDiffLinkLengths"):null!=r.edgeJaccardLength?(N=r.edgeJaccardLength,S="jaccardLinkLengths"):(N=100,S="linkDistance");var T=function(e){return e.calcLength};if(m.links(s.stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}).map(function(e,t){var r=e._private.scratch.cola={source:e.source()[0]._private.scratch.cola.index,target:e.target()[0]._private.scratch.cola.index};return null!=N&&(r.calcLength=c(N,e)),r})),m.size([l.w,l.h]),null!=N&&m[S](T),r.flow){var C,M="y",A=50;e.is.string(r.flow)?C={axis:r.flow,minSeparation:A}:e.is.number(r.flow)?C={axis:M,minSeparation:r.flow}:e.is.plainObject(r.flow)?(C=r.flow,C.axis=C.axis||M,C.minSeparation=null!=C.minSeparation?C.minSeparation:A):C={axis:M,minSeparation:A},m.flowLayout(C.axis,C.minSeparation)}t.trigger({type:"layoutstart",layout:t}),m.avoidOverlaps(r.avoidOverlap).handleDisconnected(r.handleDisconnected).start(r.unconstrIter,r.userConstIter,r.allConstIter),r.infinite||setTimeout(function(){t.manuallyStopped||m.stop()},r.maxSimulationTime)}),this},t.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e("layout","cola",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var t=this.options,r=t,n=t.cy,i=r.eles,o=i.nodes().not(":parent"),a=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=[],l=r.startAngle,c=0,f=0;f<o.length;f++){var p,h=o[f];p=r.concentric.apply(h,[h]),u.push({value:p,node:h}),h._private.scratch.concentric=p}o.updateStyle();for(var f=0;f<o.length;f++){var h=o[f];c=Math.max(c,h.outerWidth(),h.outerHeight())}u.sort(function(e,t){return t.value-e.value});for(var d=r.levelWidth(o),g=[[]],m=g[0],f=0;f<u.length;f++){var v=u[f];if(m.length>0){var y=Math.abs(m[0].value-v.value);y>=d&&(m=[],g.push(m))}m.push(v)}var x={},w=0,b=c+r.minNodeSpacing;if(!r.avoidOverlap){var E=g.length>0&&g[0].length>1,_=Math.min(a.w,a.h)/2-b,N=_/(g.length+E?1:0);b=Math.min(b,N)}for(var f=0;f<g.length;f++){var S=g[f],T=2*Math.PI/S.length;if(S.length>1&&r.avoidOverlap){var C=Math.cos(T)-Math.cos(0),M=Math.sin(T)-Math.sin(0),A=Math.sqrt(b*b/(C*C+M*M));w=Math.max(A,w)}for(var O=0;O<S.length;O++){var v=S[O],l=r.startAngle+(r.counterclockwise?-1:1)*T*O,k={x:s.x+w*Math.cos(l),y:s.y+w*Math.sin(l)};x[v.node.id()]=k}w+=b}return o.layoutPositions(this,r,function(){var e=this.id();return x[e]}),this},e("layout","concentric",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var r,n={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};t.prototype.run=function(){var t=this.options,n=t.cy,o=this;o.stopped=!1,o.trigger({type:"layoutstart",layout:o}),r=!0===t.debug?!0:!1;var a=new Date,f=i(n,o,t);r&&s(f),!0===t.randomize&&u(f,n),y(f,n,t);var p=function(e){return o.stopped?!1:(c(f,n,t,e),f.temperature=f.temperature*t.coolingFactor,f.temperature<t.minTemp?!1:!0)},h=function(){l(f,n,t),!0===t.fit&&n.fit(t.padding);var e=new Date;console.info("Layout took "+(e-a)+" ms"),o.one("layoutstop",t.stop),o.trigger({type:"layoutstop",layout:o})};if(t.animate){var d=0,g=function(){for(var r,i=0;i<t.refresh&&d<t.numIter;){var r=p(d);if(r===!1)break;i++,d++}l(f,n,t),t.fit&&n.fit(t.padding),r!==!1&&d+1<t.numIter?e.util.requestAnimationFrame(g):h()};e.util.requestAnimationFrame(g)}else{for(var d=0;d<t.numIter&&p(d)!==!1;d++);h()}return this},t.prototype.stop=function(){return this.stopped=!0,this};var i=function(t,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s={layout:r,layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},u=0;u<s.nodeSize;u++){var l={};l.id=a[u].data("id"),l.parentId=a[u].data("parent"),l.children=[],l.positionX=a[u].position("x"),l.positionY=a[u].position("y"),l.offsetX=0,l.offsetY=0,l.height=a[u].height(),l.width=a[u].width(),l.maxX=l.positionX+l.width/2,l.minX=l.positionX-l.width/2,l.maxY=l.positionY+l.height/2,l.minY=l.positionY-l.height/2,l.padLeft=a[u]._private.style["padding-left"].pxValue,l.padRight=a[u]._private.style["padding-right"].pxValue,l.padTop=a[u]._private.style["padding-top"].pxValue,l.padBottom=a[u]._private.style["padding-bottom"].pxValue,s.layoutNodes.push(l),s.idToIndex[l.id]=u}for(var c=[],f=0,p=-1,h=[],u=0;u<s.nodeSize;u++){var d=s.layoutNodes[u],g=d.parentId;null!=g?s.layoutNodes[s.idToIndex[g]].children.push(d.id):(c[++p]=d.id,h.push(d.id))}for(s.graphSet.push(h);p>=f;){var m=c[f++],v=s.idToIndex[m],y=s.layoutNodes[v],x=y.children;if(x.length>0){s.graphSet.push(x);for(var u=0;u<x.length;u++)c[++p]=x[u]}}for(var u=0;u<s.graphSet.length;u++)for(var w=s.graphSet[u],b=0;b<w.length;b++){var E=s.idToIndex[w[b]];s.indexToGraph[E]=u}for(var u=0;u<s.edgeSize;u++){var _=i[u],N={};N.id=_.data("id"),N.sourceId=_.data("source"),N.targetId=_.data("target");var S=n.idealEdgeLength,T=s.idToIndex[N.sourceId],C=s.idToIndex[N.targetId],M=s.indexToGraph[T],A=s.indexToGraph[C];if(M!=A){for(var O=o(N.sourceId,N.targetId,s),k=s.graphSet[O],P=0,l=s.layoutNodes[T];-1===$.inArray(l.id,k);)l=s.layoutNodes[s.idToIndex[l.parentId]],P++;for(l=s.layoutNodes[C];-1===$.inArray(l.id,k);)l=s.layoutNodes[s.idToIndex[l.parentId]],P++;S*=P*n.nestingFactor}N.idealLength=S,s.layoutEdges.push(N)}return s},o=function(e,t,r){var n=a(e,t,0,r);return 2>n.count?0:n.graph},a=function(e,t,r,n){var i=n.graphSet[r];if(-1<$.inArray(e,i)&&-1<$.inArray(t,i))return{count:2,graph:r};for(var o=0,s=0;s<i.length;s++){var u=i[s],l=n.idToIndex[u],c=n.layoutNodes[l].children;if(0!==c.length){var f=n.indexToGraph[n.idToIndex[c[0]]],p=a(e,t,f,n);if(0!==p.count){if(1!==p.count)return p;if(o++,2===o)break}}}return{count:o,graph:r}},s=function(e){if(r){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],i="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(i)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var o=e.graphSet,t=0;t<o.length;t++)console.debug("Set : "+t+": "+o[t].toString());for(var i="IndexToGraph",t=0;t<e.indexToGraph.length;t++)i+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(i),i="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var a=e.layoutEdges[t];i+="\nEdge Index: "+t+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(i),i="nodeSize: "+e.nodeSize,i+="\nedgeSize: "+e.edgeSize,i+="\ntemperature: "+e.temperature,console.debug(i)}},u=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.positionX=Math.random()*r,o.positionY=Math.random()*n}},l=function(e,t,r){var n=e.layout,i=r.eles.nodes(),o=e.boundingBox,a={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};r.boundingBox&&(i.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,r.positionX),a.x2=Math.max(a.x2,r.positionX),a.y1=Math.min(a.y1,r.positionY),a.y2=Math.max(a.y2,r.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions(function(t,n){var i=e.layoutNodes[e.idToIndex[n.data("id")]];if(r.boundingBox){var s=(i.positionX-a.x1)/a.w,u=(i.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+u*o.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,n.one("layoutready",r.ready),n.trigger({type:"layoutready",layout:this}))},c=function(e,t,r,n){f(e,t,r),g(e,t,r),m(e,t,r),v(e,t,r),y(e,t,r)},f=function(e,t,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,a=0;o>a;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],u=a+1;o>u;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];p(s,l,e,t,r)}},p=function(e,t,r,n,i){var o=t.positionX-e.positionX,a=t.positionY-e.positionY;if(0!==o||0!==a){var s=d(e,t,o,a);if(s>0)var u=i.nodeOverlap*s,l=Math.sqrt(o*o+a*a),c=u*o/l,f=u*a/l;else var p=h(e,o,a),g=h(t,-1*o,-1*a),m=g.x-p.x,v=g.y-p.y,y=m*m+v*v,l=Math.sqrt(y),u=i.nodeRepulsion/y,c=u*m/l,f=u*v/l;e.offsetX-=c,e.offsetY-=f,t.offsetX+=c,t.offsetY+=f}},h=function(e,t,r){var n=e.positionX,i=e.positionY,o=e.height,a=e.width,s=r/t,u=o/a,l={};do{if(0===t&&r>0){l.x=n,l.y=i+o/2;break}if(0===t&&0>r){l.x=n,l.y=i+o/2;break}if(t>0&&s>=-1*u&&u>=s){l.x=n+a/2,l.y=i+a*r/2/t;break}if(0>t&&s>=-1*u&&u>=s){l.x=n-a/2,l.y=i-a*r/2/t;break}if(r>0&&(-1*u>=s||s>=u)){l.x=n+o*t/2/r,l.y=i+o/2;break}if(0>r&&(-1*u>=s||s>=u)){l.x=n-o*t/2/r,l.y=i-o/2;break}}while(!1);return l},d=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},g=function(e,t,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],o=e.idToIndex[i.sourceId],a=e.layoutNodes[o],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-a.positionX,c=u.positionY-a.positionY;if(0===l&&0===c)return;var f=h(a,l,c),p=h(u,-1*l,-1*c),d=p.x-f.x,g=p.y-f.y,m=Math.sqrt(d*d+g*g),v=Math.pow(i.idealLength-m,2)/r.edgeElasticity;if(0!==m)var y=v*d/m,x=v*g/m;else var y=0,x=0;a.offsetX+=y,a.offsetY+=x,u.offsetX-=y,u.offsetY-=x}},m=function(e,t,r){for(var n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],o=i.length;if(0===n)var a=e.clientHeight/2,s=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],l=e.layoutNodes[e.idToIndex[u.parentId]],a=l.positionX,s=l.positionY;for(var c=0;o>c;c++){var f=e.layoutNodes[e.idToIndex[i[c]]],p=a-f.positionX,h=s-f.positionY,d=Math.sqrt(p*p+h*h);if(d>1){var g=r.gravity*p/d,m=r.gravity*h/d;f.offsetX+=g,f.offsetY+=m}}}},v=function(e,t,r){var n=[],i=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;o>=i;){var a=n[i++],s=e.idToIndex[a],u=e.layoutNodes[s],l=u.children;if(0<l.length){for(var c=u.offsetX,f=u.offsetY,p=0;p<l.length;p++){var h=e.layoutNodes[e.idToIndex[l[p]]];h.offsetX+=c,h.offsetY+=f,n[++o]=l[p]}u.offsetX=0,u.offsetY=0}}},y=function(e,t,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length)){var o=x(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,
i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,w(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},x=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},w=function(e,t){var r=e.parentId;if(null!=r){var n=t.layoutNodes[t.idToIndex[r]],i=!1;return(null==n.maxX||e.maxX+n.padRight>n.maxX)&&(n.maxX=e.maxX+n.padRight,i=!0),(null==n.minX||e.minX-n.padLeft<n.minX)&&(n.minX=e.minX-n.padLeft,i=!0),(null==n.maxY||e.maxY+n.padBottom>n.maxY)&&(n.maxY=e.maxY+n.padBottom,i=!0),(null==n.minY||e.minY-n.padTop<n.minY)&&(n.minY=e.minY-n.padTop,i=!0),i?w(n,t):void 0}};e("layout","cose",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var t=this.options,r=this;return e.util.require("dagre",function(n){var i=t.cy,o=t.eles,a=function(t,r){return e.is.fn(r)?r.apply(t,[t]):r},s=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),u=new n.graphlib.Graph({multigraph:!0,compound:!0}),l={},c=function(e,t){null!=t&&(l[e]=t)};c("nodesep",t.nodeSep),c("edgesep",t.edgeSep),c("ranksep",t.rankSep),c("rankdir",t.rankDir),u.setGraph(l),u.setDefaultEdgeLabel(function(){return{}}),u.setDefaultNodeLabel(function(){return{}});for(var f=o.nodes(),p=0;p<f.length;p++){var h=f[p];u.setNode(h.id(),{width:h.width(),height:h.height(),name:h.id()})}for(var p=0;p<f.length;p++){var h=f[p];h.isChild()&&u.setParent(h.id(),h.parent().id())}for(var d=o.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),p=0;p<d.length;p++){var g=d[p];u.setEdge(g.source().id(),g.target().id(),{minlen:a(g,t.minLen),weight:a(g,t.edgeWeight),name:g.id()},g.id())}n.layout(u);for(var m=u.nodes(),p=0;p<m.length;p++){var v=m[p],y=u.node(v);i.getElementById(v).scratch().dagre=y}var x;t.boundingBox?(x={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},f.forEach(function(e){var t=e.scratch().dagre;x.x1=Math.min(x.x1,t.x),x.x2=Math.max(x.x2,t.x),x.y1=Math.min(x.y1,t.y),x.y2=Math.max(x.y2,t.y)}),x.w=x.x2-x.x1,x.h=x.y2-x.y1):x=s;var w=function(e){if(t.boundingBox){var r=(e.x-x.x1)/x.w,n=(e.y-x.y1)/x.h;return{x:s.x1+r*s.w,y:s.y1+n*s.h}}return e};f.layoutPositions(r,t,function(){var e=this.scratch().dagre;return w({x:e.x,y:e.y})})}),this},e("layout","dagre",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t,n=t.cy,i=r.eles,o=i.nodes().not(":parent");r.sort&&(o=o.sort(r.sort));var a=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===a.h||0===a.w)o.layoutPositions(this,r,function(){return{x:a.x1,y:a.y1}});else{var s=o.size(),u=Math.sqrt(s*a.h/a.w),l=Math.round(u),c=Math.round(a.w/a.h*u),f=function(e){if(null==e)return Math.min(l,c);var t=Math.min(l,c);t==l?l=e:c=e},p=function(e){if(null==e)return Math.max(l,c);var t=Math.max(l,c);t==l?l=e:c=e};if(null!=r.rows&&null!=r.columns)l=r.rows,c=r.columns;else if(null!=r.rows&&null==r.columns)l=r.rows,c=Math.ceil(s/l);else if(null==r.rows&&null!=r.columns)c=r.columns,l=Math.ceil(s/c);else if(c*l>s){var h=f(),d=p();(h-1)*d>=s?f(h-1):(d-1)*h>=s&&p(d-1)}else for(;s>c*l;){var h=f(),d=p();(d+1)*h>=s?p(d+1):f(h+1)}var g=a.w/c,m=a.h/l;if(r.avoidOverlap)for(var v=0;v<o.length;v++){var y=o[v],x=y.outerWidth(),w=y.outerHeight();g=Math.max(g,x),m=Math.max(m,w)}for(var b={},E=function(e,t){return b["c-"+e+"-"+t]?!0:!1},_=function(e,t){b["c-"+e+"-"+t]=!0},N=0,S=0,T=function(){S++,S>=c&&(S=0,N++)},C={},v=0;v<o.length;v++){var y=o[v],M=r.position(y);if(M&&(void 0!==M.row||void 0!==M.col)){var A={row:M.row,col:M.col};if(void 0===A.col)for(A.col=0;E(A.row,A.col);)A.col++;else if(void 0===A.row)for(A.row=0;E(A.row,A.col);)A.row++;C[y.id()]=A,_(A.row,A.col)}}var O=function(e,t){var r,n;if(t.locked()||t.isFullAutoParent())return!1;var i=C[t.id()];if(i)r=i.col*g+g/2+a.x1,n=i.row*m+m/2+a.y1;else{for(;E(N,S);)T();r=S*g+g/2+a.x1,n=N*m+m/2+a.y1,_(N,S),T()}return{x:r,y:n}};o.layoutPositions(this,r,O)}return this},e("layout","grid",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={ready:function(){},stop:function(){}};t.prototype.run=function(){{var e=this.options,t=e.eles,r=this;e.cy}return r.trigger("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.trigger("layoutready"),r.one("layoutstop",e.stop),r.trigger("layoutstop"),this},t.prototype.stop=function(){return this},e("layout","null",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){function t(e){if(null==r.positions)return null;if(o)return r.positions.apply(e,[e]);var t=r.positions[e._private.data.id];return null==t?null:t}var r=this.options,n=r.eles,i=n.nodes(),o=e.is.fn(r.positions);return i.layoutPositions(this,r,function(e,r){var n=t(r);return r.locked()||null==n?!1:n}),this},e("layout","preset",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t.cy,n=t.eles,i=n.nodes().not(":parent"),o=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),a=function(e,t){return{x:o.x1+Math.round(Math.random()*o.w),y:o.y1+Math.round(Math.random()*o.h)}};return i.layoutPositions(this,t,a),this},e("layout","random",t)}(cytoscape),function($$){"use strict";function SpreadLayout(e){this.options=$$.util.extend({},defaults,e)}function cellCentroid(e){for(var t,r,n,i=e.halfedges,o=0,a=0,s=0,u=0;u<i.length;++u)t=i[u].getEndpoint(),r=i[u].getStartpoint(),o+=t.x*r.y,o-=t.y*r.x,n=t.x*r.y-r.x*t.y,a+=(t.x+r.x)*n,s+=(t.y+r.y)*n;return o/=2,n=6*o,{x:a/n,y:s/n}}function sitesDistance(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}var defaults={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};SpreadLayout.prototype.run=function(){var layout=this,options=this.options;return $$.util.requires(["foograph","Voronoi"],function(foograph,Voronoi){function setPositions(e){for(var t=e.vertices,r=[],n=0;n<t.length;++n){var i=t[n];r[i.id]={x:i.x,y:i.y}}nodes.positions(function(e,t){var n=t._private.data.id,i=r[n];return{x:Math.round(simBB.x1+i.x),y:Math.round(simBB.y1+i.y)}}),options.fit&&cy.fit(options.padding),cy.nodes().rtrigger("position")}var cy=options.cy,nodes=cy.nodes(),edges=cy.edges(),cWidth=cy.width(),cHeight=cy.height(),simulationBounds=options.boundingBox?$$.util.makeBoundingBox(options.boundingBox):null,padding=options.padding,simBBFactor=Math.max(1,.8*Math.log(nodes.length));nodes.length<100&&(simBBFactor/=2),layout.trigger({type:"layoutstart",layout:layout});var simBB={x1:0,y1:0,x2:cWidth*simBBFactor,y2:cHeight*simBBFactor};simulationBounds&&(simBB.x1=simulationBounds.x1,simBB.y1=simulationBounds.y1,simBB.x2=simulationBounds.x2,simBB.y2=simulationBounds.y2),simBB.x1+=padding,simBB.y1+=padding,simBB.x2-=padding,simBB.y2-=padding;var width=simBB.x2-simBB.x1,height=simBB.y2-simBB.y1,startTime=Date.now();if(nodes.size()<=1){nodes.positions({x:Math.round((simBB.x1+simBB.x2)/2),y:Math.round((simBB.y1+simBB.y2)/2)}),options.fit&&cy.fit(options.padding);var endTime=Date.now();return console.info("Layout on "+nodes.size()+" nodes took "+(endTime-startTime)+" ms"),layout.one("layoutready",options.ready),layout.trigger("layoutready"),layout.one("layoutstop",options.stop),void layout.trigger("layoutstop")}var pData={width:width,height:height,minDist:options.minDist,expFact:options.expandingFactor,expIt:0,maxExpIt:options.maxExpandIterations,vertices:[],edges:[],startTime:startTime,maxFruchtermanReingoldIterations:options.maxFruchtermanReingoldIterations};nodes.each(function(e,t){var r=this._private.data.id;pData.vertices.push({id:r,x:0,y:0})}),edges.each(function(){var e=this.source().id(),t=this.target().id();pData.edges.push({src:e,tgt:t})});var t1=$$.Thread();t1.require(foograph,"foograph"),t1.require(Voronoi),t1.require(sitesDistance),t1.require(cellCentroid);var didLayoutReady=!1;t1.on("message",function(e){var t=e.message;options.animate&&(setPositions(t),didLayoutReady||(layout.trigger("layoutready"),didLayoutReady=!0))}),layout.one("layoutready",options.ready),t1.pass(pData).run(function(pData){function checkMinDist(e){for(var t=0,r=0;r<e.length;++r){var n=e[r];null!=n.lSite&&null!=n.rSite&&sitesDistance(n.lSite,n.rSite)<lMinDist&&++t}return t}foograph=eval("foograph"),Voronoi=eval("Voronoi");for(var lWidth=pData.width,lHeight=pData.height,lMinDist=pData.minDist,lExpFact=pData.expFact,lMaxExpIt=pData.maxExpIt,lMaxFruchtermanReingoldIterations=pData.maxFruchtermanReingoldIterations,savePositions=function(){pData.width=lWidth,pData.height=lHeight,pData.expIt=expandIteration,pData.expFact=lExpFact,pData.vertices=[];for(var e=0;e<fv.length;++e)pData.vertices.push({id:fv[e].label,x:fv[e].x,y:fv[e].y})},messagePositions=function(){broadcast(pData)},frg=new foograph.Graph("FRgraph",!1),frgNodes={},dataVertices=pData.vertices,ni=0;ni<dataVertices.length;++ni){var id=dataVertices[ni].id,v=new foograph.Vertex(id,Math.round(Math.random()*lHeight),Math.round(Math.random()*lHeight));frgNodes[id]=v,frg.insertVertex(v)}for(var dataEdges=pData.edges,ei=0;ei<dataEdges.length;++ei){var srcNodeId=dataEdges[ei].src,tgtNodeId=dataEdges[ei].tgt;frg.insertEdge("",1,frgNodes[srcNodeId],frgNodes[tgtNodeId])}var fv=frg.vertices,iterations=lMaxFruchtermanReingoldIterations,frLayoutManager=new foograph.ForceDirectedVertexLayout(lWidth,lHeight,iterations,!1,lMinDist);frLayoutManager.callback=function(){savePositions(),messagePositions()},frLayoutManager.layout(frg),savePositions(),messagePositions();for(var voronoi=new Voronoi,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},vSites=[],i=0;i<fv.length;++i)vSites[fv[i].label]=fv[i];for(var diagram=voronoi.compute(fv,bbox),cells=diagram.cells,i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}0>lExpFact&&(lExpFact=Math.max(.05,Math.min(.1,lMinDist/Math.sqrt(lWidth*lHeight/fv.length)*.5)));for(var prevInfractions=checkMinDist(diagram.edges),bStop=0>=prevInfractions,voronoiIteration=0,expandIteration=0;!bStop;){++voronoiIteration;for(var it=0;4>=it;++it){voronoi.recycle(diagram),diagram=voronoi.compute(fv,bbox),cells=diagram.cells;for(var i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}}var currInfractions=checkMinDist(diagram.edges);0>=currInfractions?bStop=!0:(currInfractions>=prevInfractions||voronoiIteration>=4)&&(expandIteration>=lMaxExpIt?bStop=!0:(lWidth+=lWidth*lExpFact,lHeight+=lHeight*lExpFact,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},++expandIteration,voronoiIteration=0)),prevInfractions=currInfractions,savePositions(),messagePositions()}return savePositions(),pData}).then(function(e){var t=e.vertices;setPositions(e);var r=e.startTime,n=new Date;console.info("Layout on "+t.length+" nodes took "+(n-r)+" ms"),layout.one("layoutstop",options.stop),options.animate||layout.trigger("layoutready"),layout.trigger("layoutstop"),t1.stop()})}),this},SpreadLayout.prototype.stop=function(){},$$("layout","spread",SpreadLayout)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};t.prototype.run=function(){var t=this,r=this,n=this.options;return e.util.require("Springy",function(i){function o(e){var t=e.scratch("springy").model.id,r=b.layout.nodePoints[t].p,n=e.position(),i=null!=n.x&&null!=n.y?v(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};r.x=i.x,r.y=i.y}function a(){r.stopped=!1,n.ungrabifyWhileSimulating&&_.ungrabify(),b.start()}var s=!1,u=n.cy;t.trigger({type:"layoutstart",layout:t});var l=n.eles,c=l.nodes().not(":parent"),f=l.edges(),p=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),h=new i.Graph;c.each(function(e,t){t.scratch("springy",{model:h.newNode({element:t})})}),f.each(function(e,t){var r=t.source().scratch("springy").model,n=t.target().scratch("springy").model;t.scratch("springy",{model:h.newEdge(r,n,{element:t})})});var d=window.sim=new i.Layout.ForceDirected(h,n.stiffness,n.repulsion,n.damping);n.infinite&&(d.minEnergyThreshold=-(1/0));var g=d.getBoundingBox(),m=function(e){g=d.getBoundingBox();var t=g.topright.subtract(g.bottomleft),r=e.subtract(g.bottomleft).divide(t.x).x*p.w+p.x1,n=e.subtract(g.bottomleft).divide(t.y).y*p.h+p.x1;return new i.Vector(r,n)},v=function(e){g=d.getBoundingBox();var t=g.topright.subtract(g.bottomleft),r=(e.x-p.x1)/p.w*t.x+g.bottomleft.x,n=(e.y-p.y1)/p.h*t.y+g.bottomleft.y;return new i.Vector(r,n)},y=u.collection(),x=u.nodes().size(),w=1,b=new i.Renderer(d,function(){r.stopped||y.length>0&&n.animate&&(s=!0,y.rtrigger("position"),n.fit&&u.fit(n.padding),y=u.collection(),s=!1)},function(e,t,r){},function(e,i){if(!r.stopped){var o=m(i),a=e.data.element;a.locked()||a.grabbed()||(a._private.position={x:o.x,y:o.y},y.merge(a)),w==x&&(t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t})),w++}});c.each(function(e,t){n.random||o(t)});var E;c.on("position",E=function(){s||o(this)});var _=c.filter(":grabbable");r.stopSystem=function(){r.stopped=!0,h.filterNodes(function(){return!1}),n.ungrabifyWhileSimulating&&_.grabify(),n.fit&&u.fit(n.padding),c.off("drag position",E),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t}),r.stopSystem=null},a(),n.infinite||setTimeout(function(){r.stop()},n.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},e("layout","springy",t)}(cytoscape),function(e){"use strict";function t(e){this.options=e}t.prototype.recalculateRenderedStyle=function(){},t.prototype.notify=function(){},e("renderer","null",t)}(cytoscape),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?r=t:t={};var e,r,n;!function(t){function i(e,t){return w.call(e,t)}function o(e,t){var r,n,i,o,a,s,u,l,c,f,p,h=t&&t.split("/"),d=y.map,g=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(h=h.slice(0,h.length-1),e=e.split("/"),a=e.length-1,y.nodeIdCompat&&E.test(e[a])&&(e[a]=e[a].replace(E,"")),e=h.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||g)&&d){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),h)for(f=h.length;f>0;f-=1)if(i=d[h.slice(0,f).join("/")],i&&(i=i[n])){o=i,s=c;break}if(o)break;!u&&g&&g[n]&&(u=g[n],l=c)}!o&&u&&(o=u,s=l),o&&(r.splice(0,s,o),e=r.join("/"))}return e}function a(e,r){return function(){return h.apply(t,b.call(arguments,0).concat([e,r]))}}function s(e){return function(t){return o(t,e)}}function u(e){return function(t){m[e]=t}}function l(e){if(i(v,e)){var r=v[e];delete v[e],x[e]=!0,p.apply(t,r)}if(!i(m,e)&&!i(x,e))throw new Error("No "+e);return m[e]}function c(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,h,d,g,m={},v={},y={},x={},w=Object.prototype.hasOwnProperty,b=[].slice,E=/\.js$/;d=function(e,t){var r,n=c(e),i=n[0];return e=n[1],i&&(i=o(i,t),r=l(i)),i?e=r&&r.normalize?r.normalize(e,s(t)):o(e,t):(e=o(e,t),n=c(e),i=n[0],e=n[1],i&&(r=l(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},g={require:function(e){return a(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:f(e)}}},p=function(e,r,n,o){var s,c,f,p,h,y,w=[],b=typeof n;if(o=o||e,"undefined"===b||"function"===b){for(r=!r.length&&n.length?["require","exports","module"]:r,h=0;h<r.length;h+=1)if(p=d(r[h],o),c=p.f,"require"===c)w[h]=g.require(e);else if("exports"===c)w[h]=g.exports(e),y=!0;else if("module"===c)s=w[h]=g.module(e);else if(i(m,c)||i(v,c)||i(x,c))w[h]=l(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,a(o,!0),u(c),{}),w[h]=m[c]}f=n?n.apply(m[e],w):void 0,e&&(s&&s.exports!==t&&s.exports!==m[e]?m[e]=s.exports:f===t&&y||(m[e]=f))}else e&&(m[e]=n)},e=r=h=function(e,r,n,i,o){if("string"==typeof e)return g[e]?g[e](r):l(d(e,r).f);if(!e.splice){if(y=e,y.deps&&h(y.deps,y.callback),!r)return;r.splice?(e=r,r=n,n=null):e=t}return r=r||function(){},"function"==typeof n&&(n=i,i=o),i?p(t,e,r,n):setTimeout(function(){p(t,e,r,n)},4),h},h.config=function(e){return h(e)},e._defined=m,n=function(e,t,r){t.splice||(r=t,t=[]),i(m,e)||i(v,e)||(v[e]=[e,t,r])},n.amd={jQuery:!0}}(),t.requirejs=e,t.require=r,t.define=n}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,r=[];for(var n in t){var i=t[n];"function"==typeof i&&"constructor"!==n&&r.push(n)}return r}var r={};r.Extend=function(e,t){function r(){this.constructor=e}var n={}.hasOwnProperty;for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},r.Decorate=function(e,r){function n(){var t=Array.prototype.unshift,n=r.prototype.constructor.length,i=e.prototype.constructor;n>0&&(t.call(arguments,e.prototype.constructor),i=r.prototype.constructor),i.apply(this,arguments)}function i(){this.constructor=n}var o=t(r),a=t(e);r.displayName=e.displayName,n.prototype=new i;for(var s=0;s<a.length;s++){var u=a[s];n.prototype[u]=e.prototype[u]}for(var l=(function(e){var t=function(){};e in n.prototype&&(t=n.prototype[e]);var i=r.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),i.apply(this,arguments)}}),c=0;c<o.length;c++){var f=o[c];n.prototype[f]=l(f)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var r=0,n=e.length;n>r;r++)e[r].apply(this,t)},r.Observable=n,r.generateChars=function(e){for(var t="",r=0;e>r;r++){var n=Math.floor(36*Math.random());t+=n.toString(36)}return t},r.bind=function(e,t){return function(){e.apply(t,arguments)}},r._convertData=function(e){for(var t in e){var r=t.split("-"),n=e;if(1!==r.length){for(var i=0;i<r.length;i++){var o=r[i];o=o.substring(0,1).toLowerCase()+o.substring(1),o in n||(n[o]={}),i==r.length-1&&(n[o]=e[t]),n=n[o]}delete e[t]}}return e},r.hasScroll=function(t,r){var n=e(r),i=r.style.overflowX,o=r.style.overflowY;return i!==o||"hidden"!==o&&"visible"!==o?"scroll"===i||"scroll"===o?!0:n.innerHeight()<r.scrollHeight||n.innerWidth()<r.scrollWidth:!1},r.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},r.appendMany=function(t,r){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(r,function(e){n=n.add(e)}),r=n}t.append(r)},r}),t.define("select2/results",["jquery","./utils"],function(e,t){function r(e,t,n){this.$element=e,this.data=n,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},r.prototype.clear=function(){this.$results.empty()},r.prototype.displayMessage=function(t){var r=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="treeitem" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);n.append(r(i(t.args))),this.$results.append(n)},r.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var r=0;r<e.results.length;r++){var n=e.results[r],i=this.option(n);t.push(i)}this.$results.append(t)},r.prototype.position=function(e,t){var r=t.find(".select2-results");r.append(e)},r.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},r.prototype.setClasses=function(){var t=this;this.data.current(function(r){var n=e.map(r,function(e){return e.id.toString()}),i=t.$results.find(".select2-results__option[aria-selected]");i.each(function(){var t=e(this),r=e.data(this,"data"),i=""+r.id;null!=r.element&&r.element.selected||null==r.element&&e.inArray(i,n)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var o=i.filter("[aria-selected=true]");o.length>0?o.first().trigger("mouseenter"):i.first().trigger("mouseenter")})},r.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:t(e)},n=this.option(r);n.className+=" loading-results",this.$results.prepend(n)},r.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},r.prototype.option=function(t){var r=document.createElement("li");r.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(r.id=t._resultId),t.title&&(r.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]);for(var i in n){var o=n[i];r.setAttribute(i,o)}if(t.children){var a=e(r),s=document.createElement("strong");s.className="select2-results__group";{e(s)}this.template(t,s);for(var u=[],l=0;l<t.children.length;l++){var c=t.children[l],f=this.option(c);u.push(f)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(u),a.append(s),a.append(p)}else this.template(t,r);return e.data(r,"data",t),r},r.prototype.bind=function(t,r){var n=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.showLoading(e)}),t.on("select",function(){t.isOpen()&&n.setClasses()}),t.on("unselect",function(){t.isOpen()&&n.setClasses()}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close"):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),r=t.index(e);if(0!==r){var i=r-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var a=n.$results.offset().top,s=o.offset().top,u=n.$results.scrollTop()+(s-a);0===i?n.$results.scrollTop(0):0>s-a&&n.$results.scrollTop(u)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),r=t.index(e),i=r+1;if(!(i>=t.length)){var o=t.eq(i);o.trigger("mouseenter");var a=n.$results.offset().top+n.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),u=n.$results.scrollTop()+s-a;0===i?n.$results.scrollTop(0):s>a&&n.$results.scrollTop(u)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),r=n.$results.get(0).scrollHeight-n.$results.scrollTop()+e.deltaY,i=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&r<=n.$results.height();i?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=e(this),i=r.data("data");return"true"===r.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:i}):n.trigger("close")):void n.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var r=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:r,element:e(this)})})},r.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},r.prototype.destroy=function(){this.$results.remove()},r.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),r=t.index(e),n=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-n),a=i-n;o-=2*e.outerHeight(!1),2>=r?this.$results.scrollTop(0):(a>this.$results.outerHeight()||0>a)&&this.$results.scrollTop(o)}},r.prototype.template=function(t,r){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(t);null==o?r.style.display="none":"string"==typeof o?r.innerHTML=i(o):e(r).append(o)},r}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,r){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},n.prototype.bind=function(e,t){var n=this,i=(e.id+"-container",e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n.trigger("blur",e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===r.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var r=e(t.target),n=r.closest(".select2"),i=e(".select2.select2-container--open");i.each(function(){var t=e(this);if(this!=n[0]){var r=t.data("element");r.select2("close")}})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){var r=t.find(".selection");r.append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,r,n){function i(){i.__super__.constructor.apply(this,arguments)}return r.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e,t){var r=this;i.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&r.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("selection:update",function(e){r.update(e.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e){var t=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(t(e))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],r=this.display(t),n=this.$selection.find(".select2-selection__rendered");n.empty().append(r),n.prop("title",t.title||t.text)},i}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,r){function n(e,t){n.__super__.constructor.apply(this,arguments)}return r.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,r){var i=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var r=e(this),n=r.parent(),o=n.data("data");i.trigger("unselect",{originalEvent:t,data:o})})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(e){var t=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(t(e))},n.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');

return t},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=this.display(i),a=this.selectionContainer();a.append(o),a.prop("title",i.title||i.text),a.data("data",i),t.push(a)}var s=this.$selection.find(".select2-selection__rendered");r.appendMany(s,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,r){this.placeholder=this.normalizePlaceholder(r.get("placeholder")),e.call(this,t,r)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var r=this.selectionContainer();return r.html(this.display(t)),r.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),r},t.prototype.update=function(e,t){var r=1==t.length&&t[0].id!=this.placeholder.id,n=t.length>1;if(n||r)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function r(){}return r.prototype.bind=function(e,t,r){var n=this;e.call(this,t,r),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},r.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){t.stopPropagation();for(var n=r.data("data"),i=0;i<n.length;i++){var o={data:n[i]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},r.prototype._handleKeyboardClear=function(e,r,n){n.isOpen()||(r.which==t.DELETE||r.which==t.BACKSPACE)&&this._handleClear(r)},r.prototype.update=function(t,r){if(t.call(this,r),!(this.$selection.find(".select2-selection__placeholder").length>0||0===r.length)){var n=e('<span class="select2-selection__clear">&times;</span>');n.data("data",r),this.$selection.find(".select2-selection__rendered").prepend(n)}},r}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,r){function n(e,t,r){e.call(this,t,r)}return n.prototype.render=function(t){var r=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=r,this.$search=r.find("input");var n=t.call(this);return n},n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus()}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val(""),i.$search.focus()}),t.on("enable",function(){i.$search.prop("disabled",!1)}),t.on("disable",function(){i.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i.trigger("blur",e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===r.BACKSPACE&&""===i.$search.val()){var n=i.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=n.data("data");i.searchRemoveChoice(o),e.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(e){i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(e){i.handleSearch(e)})},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.trigger("open"),this.$search.val(t.text+" ")},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,r,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];t.call(this,r,n),r.on("*",function(t,r){if(-1!==e.inArray(t,o)){r=r||{};var n=e.Event("select2:"+t,{params:r});i.$element.trigger(n),-1!==e.inArray(t,a)&&(r.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function r(e){this.dict=e||{}}return r.prototype.all=function(){return this.dict},r.prototype.get=function(e){return this.dict[e]},r.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},r._cache={},r.loadPath=function(e){if(!(e in r._cache)){var n=t(e);r._cache[e]=n}return new r(r._cache[e])},r}),t.define("select2/diacritics",[],function(){var e={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,r){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,r){var n=t.id+"-result-";return n+=e.generateChars(4),n+=null!=r.id?"-"+r.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,r){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=r(this),i=n.item(e);t.push(i)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,r(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var i=[];e=[e],e.push.apply(e,n);for(var o=0;o<e.length;o++){var a=e[o].id;-1===r.inArray(a,i)&&i.push(a)}t.$element.val(i),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,r(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var i=[],o=0;o<n.length;o++){var a=n[o].id;a!==e.id&&-1===r.inArray(a,i)&&i.push(a)}t.$element.val(i),t.$element.trigger("change")})},n.prototype.bind=function(e,t){var r=this;this.container=e,e.on("select",function(e){r.select(e.data)}),e.on("unselect",function(e){r.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){r.removeData(this,"data")})},n.prototype.query=function(e,t){var n=[],i=this,o=this.$element.children();o.each(function(){var t=r(this);if(t.is("option")||t.is("optgroup")){var o=i.item(t),a=i.matches(e,o);null!==a&&n.push(a)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=r(t),i=this._normalizeItem(e);return i.element=t,r.data(t,"data",i),n},n.prototype.item=function(e){var t={};if(t=r.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),i=[],o=0;o<n.length;o++){var a=r(n[o]),s=this.item(a);i.push(s)}t.children=i}return t=this._normalizeItem(t),t.element=e[0],r.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){r.isPlainObject(e)||(e={id:e,text:e}),e=r.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),r.extend({},t,e)},n.prototype.matches=function(e,t){var r=this.options.get("matcher");return r(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,r){function n(e,t){var r=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(r))}return t.Extend(n,e),n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,r){return r.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){function n(e){return function(){return r(this).val()==e.id}}for(var i=this,o=this.$element.find("option"),a=o.map(function(){return i.item(r(this)).id}).get(),s=[],u=0;u<e.length;u++){var l=this._normalizeItem(e[u]);if(r.inArray(l.id,a)>=0){var c=o.filter(n(l)),f=this.item(c),p=(r.extend(!0,{},f,l),this.option(f));c.replaceWith(p)}else{var h=this.option(l);if(l.children){var d=this.convertToOptions(l.children);t.appendMany(h,d)}s.push(h)}}return s},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,r){function n(t,r){this.ajaxOptions=this._applyDefaults(r.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),e.__super__.constructor.call(this,t,r)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return{q:e.term}},transport:function(e,t,n){var i=r.ajax(e);return i.then(t),i.fail(n),i}};return r.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){function n(){var n=o.transport(o,function(n){var o=i.processResults(n,e);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&r.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){});i._request=n}var i=this;null!=this._request&&(r.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=r.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url(e)),"function"==typeof o.data&&(o.data=o.data(e)),this.ajaxOptions.delay&&""!==e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,r,n){var i=n.get("tags"),o=n.get("createTag");if(void 0!==o&&(this.createTag=o),t.call(this,r,n),e.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],u=this._normalizeItem(s),l=this.option(u);this.$element.append(l)}}return t.prototype.query=function(e,t,r){function n(e,o){for(var a=e.results,s=0;s<a.length;s++){var u=a[s],l=null!=u.children&&!n({results:u.children},!0),c=u.text===t.term;if(c||l)return o?!1:(e.data=a,void r(e))}if(o)return!0;var f=i.createTag(t);if(null!=f){var p=i.option(f);p.attr("data-select2-tag",!0),i.addOptions([p]),i.insertTag(a,f)}e.results=a,r(e)}var i=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,r):void e.call(this,t,n)},t.prototype.createTag=function(t,r){var n=e.trim(r.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,r){t.unshift(r)},t.prototype._removeOldTags=function(t){var r=(this._lastTag,this.$element.find("option[data-select2-tag]"));r.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,r){var n=r.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,r)}return t.prototype.bind=function(e,t,r){e.call(this,t,r),this.$search=t.dropdown.$search||t.selection.$search||r.find(".select2-search__field")},t.prototype.query=function(e,t,r){function n(e){i.select(e)}var i=this;t.term=t.term||"";var o=this.tokenizer(t,this.options,n);o.term!==t.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),t.term=o.term),e.call(this,t,r)},t.prototype.tokenizer=function(t,r,n,i){for(var o=n.get("tokenSeparators")||[],a=r.term,s=0,u=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var l=a[s];if(-1!==e.inArray(l,o)){var c=a.substr(0,s),f=e.extend({},r,{term:c}),p=u(f);i(p),a=a.substr(s+1)||"",s=0}else s++}return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,r){this.minimumInputLength=r.get("minimumInputLength"),e.call(this,t,r)}return e.prototype.query=function(e,t,r){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,r)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,r){this.maximumInputLength=r.get("maximumInputLength"),e.call(this,t,r)}return e.prototype.query=function(e,t,r){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,r)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,r){this.maximumSelectionLength=r.get("maximumSelectionLength"),e.call(this,t,r)}return e.prototype.query=function(e,t,r){var n=this;this.current(function(i){var o=null!=i?i.length:0;return n.maximumSelectionLength>0&&o>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void e.call(n,t,r)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},r.prototype.position=function(e,t){},r.prototype.destroy=function(){this.$dropdown.remove()},r}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function r(){}return r.prototype.render=function(t){var r=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),r.prepend(n),r},r.prototype.bind=function(t,r,n){var i=this;t.call(this,r,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),r.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),r.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),r.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=i.showSearch(e);t?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide")}})},r.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},r.prototype.showSearch=function(e,t){return!0},r}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,r,n){this.placeholder=this.normalizePlaceholder(r.get("placeholder")),e.call(this,t,r,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var r=t.slice(0),n=t.length-1;n>=0;n--){var i=t[n];this.placeholder.id===i.id&&r.splice(n,1)}return r},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,r,n){this.lastParams={},e.call(this,t,r,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,r,n){var i=this;t.call(this,r,n),r.on("query",function(e){i.lastParams=e,i.loading=!0}),r.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&t){var r=i.$results.offset().top+i.$results.outerHeight(!1),n=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1);r+50>=n&&i.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="option load-more" role="treeitem"></li>'),r=this.options.get("translations").get("loadingMore");return t.html(r(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function r(e,t,r){this.$dropdownParent=r.get("dropdownParent")||document.body,e.call(this,t,r)}return r.prototype.bind=function(e,t,r){var n=this,i=!1;e.call(this,t,r),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),i||(i=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},r.prototype.position=function(e,t,r){t.attr("class",r.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=r},r.prototype.render=function(t){var r=e("<span></span>"),n=t.call(this);return r.append(n),this.$dropdownContainer=r,r},r.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},r.prototype._attachPositioningHandler=function(r){var n=this,i="scroll.select2."+r.id,o="resize.select2."+r.id,a="orientationchange.select2."+r.id,s=this.$container.parents().filter(t.hasScroll);s.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),s.on(i,function(t){var r=e(this).data("select2-scroll-position");e(this).scrollTop(r.y)}),e(window).on(i+" "+o+" "+a,function(e){n._positionDropdown(),n._resizeDropdown()})},r.prototype._detachPositioningHandler=function(r){var n="scroll.select2."+r.id,i="resize.select2."+r.id,o="orientationchange.select2."+r.id,a=this.$container.parents().filter(t.hasScroll);a.off(n),e(window).off(n+" "+i+" "+o)},r.prototype._positionDropdown=function(){var t=e(window),r=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=(this.$container.position(),this.$container.offset());o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},u={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},l=u.top<o.top-s.height,c=u.bottom>o.bottom+s.height,f={left:o.left,top:a.bottom};r||n||(i="below"),c||!l||r?!l&&c&&r&&(i="below"):i="above",("above"==i||r&&"below"!==i)&&(f.top=a.top-s.height),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(f)},r.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},r.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},r}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var r=0,n=0;n<t.length;n++){var i=t[n];i.children?r+=e(i.children):r++}return r}function t(e,t,r,n){this.minimumResultsForSearch=r.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,r,n)}return t.prototype.showSearch=function(t,r){return e(r.data.results)<this.minimumResultsForSearch?!1:t.call(this,r)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,r){var n=this;e.call(this,t,r),t.on("close",function(){n._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();e.length<1||this.trigger("select",{data:e.data("data")})},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,r){var n=this;e.call(this,t,r),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var r=t.originalEvent;r&&r.ctrlKey||this.trigger("close")},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,r="Please delete "+t+" character";return 1!=t&&(r+="s"),r},inputTooShort:function(e){var t=e.minimum-e.input.length,r="Please enter "+t+" or more characters";return r},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,r,n,i,o,a,s,u,l,c,f,p,h,d,g,m,v,y,x,w,b,E,_,N,S,T,C,M){function A(){this.reset()}A.prototype.apply=function(f){if(f=e.extend({},this.defaults,f),null==f.dataAdapter){if(f.dataAdapter=null!=f.ajax?d:null!=f.data?h:p,f.minimumInputLength>0&&(f.dataAdapter=l.Decorate(f.dataAdapter,v)),f.maximumInputLength>0&&(f.dataAdapter=l.Decorate(f.dataAdapter,y)),f.maximumSelectionLength>0&&(f.dataAdapter=l.Decorate(f.dataAdapter,x)),f.tags&&(f.dataAdapter=l.Decorate(f.dataAdapter,g)),(null!=f.tokenSeparators||null!=f.tokenizer)&&(f.dataAdapter=l.Decorate(f.dataAdapter,m)),null!=f.query){var M=t(f.amdBase+"compat/query");f.dataAdapter=l.Decorate(f.dataAdapter,M)}if(null!=f.initSelection){var A=t(f.amdBase+"compat/initSelection");f.dataAdapter=l.Decorate(f.dataAdapter,A)}}if(null==f.resultsAdapter&&(f.resultsAdapter=r,null!=f.ajax&&(f.resultsAdapter=l.Decorate(f.resultsAdapter,_)),null!=f.placeholder&&(f.resultsAdapter=l.Decorate(f.resultsAdapter,E)),f.selectOnClose&&(f.resultsAdapter=l.Decorate(f.resultsAdapter,T))),null==f.dropdownAdapter){if(f.multiple)f.dropdownAdapter=w;else{var O=l.Decorate(w,b);f.dropdownAdapter=O}if(0!==f.minimumResultsForSearch&&(f.dropdownAdapter=l.Decorate(f.dropdownAdapter,S)),f.closeOnSelect&&(f.dropdownAdapter=l.Decorate(f.dropdownAdapter,C)),null!=f.dropdownCssClass||null!=f.dropdownCss||null!=f.adaptDropdownCssClass){var k=t(f.amdBase+"compat/dropdownCss");f.dropdownAdapter=l.Decorate(f.dropdownAdapter,k)}f.dropdownAdapter=l.Decorate(f.dropdownAdapter,N)}if(null==f.selectionAdapter){if(f.selectionAdapter=f.multiple?i:n,null!=f.placeholder&&(f.selectionAdapter=l.Decorate(f.selectionAdapter,o)),f.allowClear&&(f.selectionAdapter=l.Decorate(f.selectionAdapter,a)),f.multiple&&(f.selectionAdapter=l.Decorate(f.selectionAdapter,s)),null!=f.containerCssClass||null!=f.containerCss||null!=f.adaptContainerCssClass){var P=t(f.amdBase+"compat/containerCss");f.selectionAdapter=l.Decorate(f.selectionAdapter,P);

}f.selectionAdapter=l.Decorate(f.selectionAdapter,u)}if("string"==typeof f.language)if(f.language.indexOf("-")>0){var D=f.language.split("-"),z=D[0];f.language=[f.language,z]}else f.language=[f.language];if(e.isArray(f.language)){var B=new c;f.language.push("en");for(var q=f.language,I=0;I<q.length;I++){var L=q[I],R={};try{R=c.loadPath(L)}catch(j){try{L=this.defaults.amdLanguageBase+L,R=c.loadPath(L)}catch(F){f.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+L+'" could not be automatically loaded. A fallback will be used instead.');continue}}B.extend(R)}f.translations=B}else{var U=c.loadPath(this.defaults.amdLanguageBase+"en"),$=new c(f.language);$.extend(U),f.translations=$}return f},A.prototype.reset=function(){function t(e){function t(e){return f[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function r(n,i){if(""===e.trim(n.term))return i;if(i.children&&i.children.length>0){for(var o=e.extend(!0,{},i),a=i.children.length-1;a>=0;a--){var s=i.children[a],u=r(n,s);null==u&&o.children.splice(a,1)}return o.children.length>0?o:r(n,o)}var l=t(i.text).toUpperCase(),c=t(n.term).toUpperCase();return l.indexOf(c)>-1?i:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:l.escapeMarkup,language:M,matcher:r,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,r){var n=e.camelCase(t),i={};i[n]=r;var o=l._convertData(i);e.extend(this.defaults,o)};var O=new A;return O}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,r,n){function i(t,i){if(this.options=t,null!=i&&this.fromElement(i),this.options=r.apply(this.options),i&&i.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}return i.prototype.fromElement=function(e){var r=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var i={};i=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var o=t.extend(!0,{},i);o=n._convertData(o);for(var a in o)t.inArray(a,r)>-1||(t.isPlainObject(this.options[a])?t.extend(this.options[a],o[a]):this.options[a]=o[a]);return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,r,n){var i=function(e,r){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),r=r||{},this.options=new t(r,e),i.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var l=this.options.get("resultsAdapter");this.results=new l(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){c.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return r.Extend(i,r.Observable),i.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+r.generateChars(2):r.generateChars(4),t="select2-"+t},i.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},i.prototype._resolveWidth=function(e,t){var r=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var i=e.outerWidth(!1);return 0>=i?"auto":i+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,u=a.length;u>s;s+=1){var l=a[s].replace(/\s/g,""),c=l.match(r);if(null!==c&&c.length>=1)return c[1]}return null}return t},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=r.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(r){e.each(r,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},i.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,r){e.trigger(t,r)})},i.prototype._registerSelectionEvents=function(){var t=this,r=["toggle"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("*",function(n,i){-1===e.inArray(n,r)&&t.trigger(n,i)})},i.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,r){e.trigger(t,r)})},i.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,r){e.trigger(t,r)})},i.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("focus",function(){e.$container.addClass("select2-container--focus")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open"),this.dataAdapter.query(t,function(r){e.trigger("results:all",{data:r,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(r){e.trigger("results:append",{data:r,query:t})})}),this.on("keypress",function(t){var r=t.which;e.isOpen()?r===n.ENTER?(e.trigger("results:select"),t.preventDefault()):r===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle"),t.preventDefault()):r===n.UP?(e.trigger("results:previous"),t.preventDefault()):r===n.DOWN?(e.trigger("results:next"),t.preventDefault()):(r===n.ESC||r===n.TAB)&&(e.close(),t.preventDefault()):(r===n.ENTER||r===n.SPACE||(r===n.DOWN||r===n.UP)&&t.altKey)&&(e.open(),t.preventDefault())})},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},i.prototype.trigger=function(e,t){var r=i.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e in n){var o=n[e],a={prevented:!1,name:e,args:t};if(r.call(this,o,a),a.prevented)return void(t.prevented=!0)}r.call(this,e,t)},i.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},i.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},i.prototype.close=function(){this.isOpen()&&this.trigger("close")},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},i.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var r=t[0];e.isArray(r)&&(r=e.map(r,function(e){return e.toString()})),this.$element.val(r).trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},i}),t.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(e,t,r,n){if(t("jquery.mousewheel"),null==e.fn.select2){var i=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){{var n=e.extend({},t,!0);new r(e(this),n)}}),this;if("string"==typeof t){var n=this.data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");var o=Array.prototype.slice.call(arguments,1),a=n[t](o);return e.inArray(t,i)>-1?this:a}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),r}),t.define("jquery.mousewheel",["jquery"],function(e){return e}),{define:t.define,require:t.require}}(),r=t.require("jquery.select2");return e.fn.select2.amd=t,r}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.math=t():e.math=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var t={},a={matrix:"matrix",number:"number",precision:64,epsilon:1e-14};t.config=function(e){if(e){if(i.deepExtend(a,e),e.precision&&t.type.BigNumber.config({precision:e.precision}),r(15)(t,a),e.number&&e.number.defaultType)throw new Error("setting `number.defaultType` is deprecated. Use `number` instead.");if(e.number&&e.number.precision)throw new Error("setting `number.precision` is deprecated. Use `precision` instead.");if(e.matrix&&e.matrix.defaultType)throw new Error("setting `matrix.defaultType` is deprecated. Use `matrix` instead.");if(e.matrix&&e.matrix["default"])throw new Error("setting `matrix.default` is deprecated. Use `matrix` instead.");if(e.decimals)throw new Error("setting `decimals` is deprecated. Use `precision` instead.")}return i.clone(a)},t.create=n;var s=r(7).constructor();if(s.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},s.fromJSON=function(e){return new s(e.value)},"function"!=typeof s.prototype.clone&&(s.prototype.clone=function(){return this}),"function"==typeof s.convert)throw new Error("Cannot add function convert to BigNumber: function already exists");return s.convert=function(e){return o(e)>15?e:new s(e)},t.error=r(21),t.type={},t.type.Complex=r(16),t.type.Range=r(24),t.type.Index=r(25),t.type.Matrix=r(26)(a),t.type.Unit=r(19),t.type.Help=r(27),t.type.ResultSet=r(28),t.type.BigNumber=s,t.collection=r(29)(t,a),t.type.CcsMatrix=r(30)(t,a),t.type.CrsMatrix=r(31)(t,a),t.type.DenseMatrix=r(32)(t,a),t.type.Matrix._storage.ccs=t.type.CcsMatrix,t.type.Matrix._storage.crs=t.type.CrsMatrix,t.type.Matrix._storage.dense=t.type.DenseMatrix,t.type.Matrix._storage["default"]=t.type.DenseMatrix,t.expression={},t.expression.node=r(33),t.expression.parse=r(50)(t,a),t.expression.Parser=r(51)(t,a),t.expression.docs=r(52),t.json={reviver:r(203)(t,a)},r(204)(t,a),r(205)(t,a),r(206)(t,a),r(207)(t,a),r(208)(t,a),r(209)(t,a),r(210)(t,a),r(211)(t,a),r(212)(t,a),r(213)(t,a),r(214)(t,a),r(215)(t,a),r(216)(t,a),r(217)(t,a),r(218)(t,a),r(219)(t,a),r(220)(t,a),r(221)(t,a),r(222)(t,a),r(223)(t,a),r(224)(t,a),r(225)(t,a),r(226)(t,a),r(227)(t,a),r(228)(t,a),r(229)(t,a),r(230)(t,a),r(231)(t,a),r(232)(t,a),r(233)(t,a),r(234)(t,a),r(235)(t,a),r(236)(t,a),r(237)(t,a),r(238)(t,a),r(239)(t,a),r(240)(t,a),r(241)(t,a),r(242)(t,a),r(243)(t,a),r(244)(t,a),r(245)(t,a),r(246)(t,a),r(247)(t,a),r(248)(t,a),r(249)(t,a),r(250)(t,a),r(251)(t,a),r(252)(t,a),r(253)(t,a),r(254)(t,a),r(255)(t,a),r(256)(t,a),r(257)(t,a),r(258)(t,a),r(259)(t,a),r(260)(t,a),r(261)(t,a),r(262)(t,a),r(263)(t,a),r(264)(t,a),r(265)(t,a),r(266)(t,a),r(267)(t,a),r(268)(t,a),r(2)(t,a),r(269)(t,a),r(270)(t,a),r(271)(t,a),r(272)(t,a),r(273)(t,a),r(274)(t,a),r(275)(t,a),r(276)(t,a),r(277)(t,a),r(278)(t,a),r(279)(t,a),r(280)(t,a),r(281)(t,a),r(282)(t,a),r(283)(t,a),r(285)(t,a),r(286)(t,a),r(287)(t,a),r(288)(t,a),r(289)(t,a),r(290)(t,a),r(291)(t,a),r(292)(t,a),r(293)(t,a),r(294)(t,a),r(295)(t,a),r(296)(t,a),r(297)(t,a),r(298)(t,a),r(299)(t,a),r(300)(t,a),r(301)(t,a),r(302)(t,a),r(303)(t,a),r(304)(t,a),r(305)(t,a),r(306)(t,a),r(307)(t,a),r(308)(t,a),r(309)(t,a),r(310)(t,a),r(311)(t,a),r(312)(t,a),r(313)(t,a),r(314)(t,a),r(315)(t,a),r(316)(t,a),r(317)(t,a),r(318)(t,a),r(319)(t,a),r(320)(t,a),r(321)(t,a),r(322)(t,a),r(323)(t,a),r(324)(t,a),r(325)(t,a),r(326)(t,a),r(327)(t,a),r(328)(t,a),r(329)(t,a),r(330)(t,a),r(331)(t,a),r(332)(t,a),r(333)(t,a),r(334)(t,a),r(335)(t,a),r(336)(t,a),r(339)(t,a),r(340)(t,a),r(341)(t,a),r(342)(t,a),r(343)(t,a),r(338)(t,a),t.ifElse=function(){throw new Error("Function ifElse is deprecated. Use the conditional operator instead.")},r(15)(t,a),t.expression.transform={concat:r(344)(t,a),filter:r(346)(t,a),forEach:r(347)(t,a),index:r(348)(t,a),map:r(349)(t,a),max:r(350)(t,a),mean:r(351)(t,a),min:r(352)(t,a),range:r(353)(t,a),subset:r(354)(t,a)},t.chaining={},t.chaining.Chain=r(355)(t,a),t.chaining.Selector=t.chaining.Chain,t.config(a),t.config(e),t}var i=r(12),o=r(5).digits,a=n();"undefined"!=typeof window&&(window.mathjs=a),e.exports=a},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){var i=n.size(t),o=n.size(r),a=i[0];if(1!==i.length||1!==o.length)throw new RangeError("Vector expected");if(i[0]!=o[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+o[0]+")");if(0==a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,u=0;a>u;u++)s=e.add(s,e.multiply(t[u],r[u]));return s}var n=r(3),i=e.type.Matrix;e.dot=function(r,n){if(r instanceof i){if(n instanceof i)return t(r.toArray(),n.toArray());if(Array.isArray(n))return t(r.toArray(),n)}else if(Array.isArray(r)){if(n instanceof i)return t(r,n.toArray());if(Array.isArray(n))return t(r,n)}throw new e.error.UnsupportedTypeError("dot",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";function n(e){for(var t=[];h(e);)t.push(e.length),e=e[0];return t}function i(e,t,r){var n,o=e.length;if(o!=t[r])throw new f(o,t[r]);if(r<t.length-1){var a=r+1;for(n=0;o>n;n++){var s=e[n];if(!h(s))throw new f(t.length-1,t.length,"<");i(e[n],t,a)}}else for(n=0;o>n;n++)if(h(e[n]))throw new f(t.length+1,t.length,">")}function o(e,r,n,i){var a,s,u=e.length,l=r[n],f=Math.min(u,l);if(e.length=l,n<r.length-1){var p=n+1;for(a=0;f>a;a++)s=e[a],h(s)||(s=[s],e[a]=s),o(s,r,p,i);for(a=f;l>a;a++)s=[],e[a]=s,o(s,r,p,i)}else{for(a=0;f>a;a++)for(;h(e[a]);)e[a]=e[a][0];if(i!==t.UNINITIALIZED)for(a=f;l>a;a++)e[a]=c.clone(i)}}function a(e,t,r){var n,i;if(t>r){var o=r+1;for(n=0,i=e.length;i>n;n++)e[n]=a(e[n],t,o)}else for(;h(e);)e=e[0];return e}function s(e,t,r){var n,i;if(h(e)){var o=r+1;for(n=0,i=e.length;i>n;n++)e[n]=s(e[n],t,o)}else for(var a=r;t>a;a++)e=[e];return e}var u=r(5),l=r(9),c=r(12),f=(r(4),r(13)),p=r(14),h=Array.isArray;t.size=function(e){var r=n(e);return t.validate(e,r),r},t.validate=function(e,t){var r=0==t.length;if(r){if(h(e))throw new f(e.length,0)}else i(e,t,0)},t.validateIndex=function(e,t){if(!u.isNumber(e)||!u.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(0>e)throw new p(e);if(void 0!==t&&e>=t)throw new p(e,t)},t.UNINITIALIZED={},t.resize=function(e,t,r){if(!h(e)||!h(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||0>e)throw new TypeError("Invalid size, must contain positive integers (size: "+l.format(t)+")")});var n=void 0!==r?r:0;return o(e,t,0,n),e},t.squeeze=function(e,r){for(var n=r||t.size(e);h(e)&&1===e.length;)e=e[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(e=a(e,i,0),n.length=i),e},t.unsqueeze=function(e,r,n,i){var o=i||t.size(e);if(n)for(var a=0;n>a;a++)e=[e],o.unshift(1);for(e=s(e,r,0);o.length<r;)o.push(1);return e},t.flatten=function(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(e){Array.isArray(e)?e.forEach(r):t.push(e)}),t},t.argsToArray=function(e){for(var t=[],r=0,n=e.length;n>r;r++)t[r]=e[r];return t},t.isArray=h},function(e,t,r){"use strict";t.type=function(e){var t=typeof e;if("object"===t){if(null===e)return"null";if(e instanceof Boolean)return"boolean";if(e instanceof Number)return"number";if(e instanceof String)return"string";if(Array.isArray(e))return"array";if(e instanceof Date)return"date";if(e instanceof Function)return"function";if(e instanceof RegExp)return"regexp"}return t}},function(e,t,r){"use strict";var n=r(6);t.isNumber=function(e){return e instanceof Number||"number"==typeof e},t.isInteger=function(e){return e==Math.round(e)},t.sign=function(e){return e>0?1:0>e?-1:0},t.format=function(e,r){if("function"==typeof r)return r(e);if(e===1/0)return"Infinity";if(e===-(1/0))return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i=void 0;switch(r&&(r.notation&&(n=r.notation),t.isNumber(r)?i=r:r.precision&&(i=r.precision)),n){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":return t.toPrecision(e,i,r&&r.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return new n(e).toExponential(t)},t.toFixed=function(e,t){return new n(e).toFixed(t)},t.toPrecision=function(e,t,r){return new n(e).toPrecision(t,r)},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,t.nearlyEqual=function(e,r,n){if(null==n)return e==r;if(e==r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var i=Math.abs(e-r);return i<t.DBL_EPSILON?!0:i<=Math.max(Math.abs(e),Math.abs(r))*n}return!1},t.isPositiveInteger=function(e){var n=r(7);return t.isNumber(e)&&t.isInteger(e)&&e>=0?!0:e instanceof n&&e.isInteger()&&e.gte(0)?!0:!1}},function(e,t,r){"use strict";function n(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number");var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1,this.sign=r,this.coefficients=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function i(e){for(var t=[],r=0;e>r;r++)t.push(0);return t}n.prototype.toFixed=function(e){var t=this.roundDigits(this.exponent+1+(e||0)),r=t.coefficients,n=t.exponent+1,o=n+(e||0);return r.length<o&&(r=r.concat(i(o-r.length))),0>n&&(r=i(-n+1).concat(r),n=1),e&&r.splice(n,0,0===n?"0.":"."),this.sign+r.join("")},n.prototype.toExponential=function(e){var t=e?this.roundDigits(e):this.clone(),r=t.coefficients,n=t.exponent;r.length<e&&(r=r.concat(i(e-r.length)));var o=r.shift();return this.sign+o+(r.length>0?"."+r.join(""):"")+"e"+(n>=0?"+":"")+n},n.prototype.toPrecision=function(e,t){var r=t&&void 0!==t.lower?t.lower:.001,n=t&&void 0!==t.upper?t.upper:1e5,o=Math.abs(Math.pow(10,this.exponent));if(r>o||o>=n)return this.toExponential(e);var a=e?this.roundDigits(e):this.clone(),s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(i(e-s.length))),s=s.concat(i(u-s.length+1+(s.length<e?e-s.length:0))),s=i(-u).concat(s);var l=u>0?u:0;return l<s.length-1&&s.splice(l+1,0,"."),this.sign+s.join("")},n.prototype.clone=function(){var e=new n("0");return e.sign=this.sign,e.coefficients=this.coefficients.slice(0),e.exponent=this.exponent,e},n.prototype.roundDigits=function(e){for(var t=this.clone(),r=t.coefficients;0>=e;)r.unshift(0),t.exponent++,e++;if(r.length>e){var n=r.splice(e);if(n[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),t.exponent++,i++),i--,r[i]++}}return t},e.exports=n},function(e,t,r){var n=r(8);e.exports=n},function(e,t,r){var n;!function(i){"use strict";function o(e){for(var t,r,n=1,i=e.length,o=e[0]+"";i>n;n++){for(t=e[n]+"",r=T-t.length;r--;)t="0"+t;o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function a(e,t,r,n){var i,o,a,s,u;for(o=1,a=e[0];a>=10;a/=10,o++);return a=t-o,0>a?(a+=T,i=0):(i=Math.ceil((a+1)/T),a%=T),o=_(10,T-a),u=e[i]%o|0,null==n?3>a?(0==a?u=u/100|0:1==a&&(u=u/10|0),s=4>r&&99999==u||r>3&&49999==u||5e4==u||0==u):s=(4>r&&u+1==o||r>3&&u+1==o/2)&&(e[i+1]/o/100|0)==_(10,a-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):4>a?(0==a?u=u/1e3|0:1==a?u=u/100|0:2==a&&(u=u/10|0),s=(n||4>r)&&9999==u||!n&&r>3&&4999==u):s=((n||4>r)&&u+1==o||!n&&r>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==_(10,a-3)-1,s}function s(e,t,r){var n=e.constructor;return null==t||((y=0>t||t>8)||0!==t&&(n.errors?parseInt:parseFloat)(t)!=t)&&!p(n,"rounding mode",t,r,0)?n.rounding:0|t}function u(e,t,r,n){var i=e.constructor;return!(y=(n||0)>t||t>=O+1)&&(0===t||(i.errors?parseInt:parseFloat)(t)==t)||p(i,"argument",t,r,0)}function l(e,t){var r,n,i,s,u,l,c,f=0,p=0,h=0,d=e.constructor,m=d.ONE,v=d.rounding,y=d.precision;if(!e.c||!e.c[0]||e.e>17)return new d(e.c?e.c[0]?e.s<0?0:1/0:m:e.s?e.s<0?0:e:0/0);for(null==t?(w=!1,u=y):u=t,c=new d(.03125);e.e>-2;)e=e.times(c),h+=5;for(n=Math.log(_(2,h))/Math.LN10*2+5|0,u+=n,r=s=l=new d(m),d.precision=u;;){if(s=g(s.times(e),u,1),r=r.times(++p),c=l.plus(D(s,r,u,1)),o(c.c).slice(0,u)===o(l.c).slice(0,u)){for(i=h;i--;)l=g(l.times(l),u,1);if(null!=t)return d.precision=y,l;if(!(3>f&&a(l.c,u-n,v,f)))return g(l,d.precision=y,v,w=!0);d.precision=u+=10,r=s=c=new d(m),p=0,f++}l=c}}function c(e,t,r,n){var i,a,s=e.constructor,u=(e=new s(e)).e;if(null==t?r=0:(g(e,++t,r),r=n?t:t+e.e-u),u=e.e,i=o(e.c),1==n||2==n&&(u>=t||u<=s.toExpNeg)){for(;i.length<r;i+="0");i.length>1&&(i=i.charAt(0)+"."+i.slice(1)),i+=(0>u?"e":"e+")+u}else{if(n=i.length,0>u){for(a=r-n;++u;i="0"+i);i="0."+i}else if(++u>n){for(a=r-u,u-=n;u--;i+="0");a>0&&(i+=".")}else a=r-n,n>u?i=i.slice(0,u)+"."+i.slice(u):a>0&&(i+=".");if(a>0)for(;a--;i+="0");}return e.s<0&&e.c[0]?"-"+i:i}function f(e){var t=e.length-1,r=t*T+1;if(t=e[t]){for(;t%10==0;t/=10,r--);for(t=e[0];t>=10;t/=10,r++);}return r}function p(e,t,r,n,i){if(e.errors){var o=new Error((n||["new Decimal","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFraction","pow","random","log","sqrt","toNearest","divToInt"][b?0>b?-b:b:0>1/b?1:0])+"() "+(["number type has more than 15 significant digits","LN10 out of digits"][t]||t+([y?" out of range":" not an integer"," not a boolean or binary digit"][i]||""))+": "+r);throw o.name="Decimal Error",y=b=0,o}}function h(e,t,r){var n=new e(e.ONE);for(w=!1;1&r&&(n=n.times(t)),r>>=1;)t=t.times(t);return w=!0,n}function d(e,t){var r,n,i,s,u,l,c,f,h,m,v,y=1,x=10,b=e,E=b.c,_=b.constructor,N=_.ONE,S=_.rounding,T=_.precision;if(b.s<0||!E||!E[0]||!b.e&&1==E[0]&&1==E.length)return new _(E&&!E[0]?-1/0:1!=b.s?0/0:E?0:b);if(null==t?(w=!1,c=T):c=t,_.precision=c+=x,r=o(E),n=r.charAt(0),!(Math.abs(s=b.e)<15e14))return b=new _(n+"."+r.slice(1)),c+2>P.length&&p(_,1,c+2,"ln"),b=d(b,c-x).plus(new _(P.slice(0,c+2)).times(s+"")),_.precision=T,null==t?g(b,T,S,w=!0):b;for(;7>n&&1!=n||1==n&&r.charAt(1)>3;)b=b.times(e),r=o(b.c),n=r.charAt(0),y++;for(s=b.e,n>1?(b=new _("0."+r),s++):b=new _(n+"."+r.slice(1)),m=b,f=u=b=D(b.minus(N),b.plus(N),c,1),v=g(b.times(b),c,1),i=3;;){if(u=g(u.times(v),c,1),h=f.plus(D(u,new _(i),c,1)),o(h.c).slice(0,c)===o(f.c).slice(0,c)){if(f=f.times(2),0!==s&&(c+2>P.length&&p(_,1,c+2,"ln"),f=f.plus(new _(P.slice(0,c+2)).times(s+""))),f=D(f,new _(y),c,1),null!=t)return _.precision=T,f;if(!a(f.c,c-x,S,l))return g(f,_.precision=T,S,w=!0);_.precision=c+=x,h=u=b=D(m.minus(N),m.plus(N),c,1),v=g(b.times(b),c,1),i=l=1}f=h,i+=2}}function g(e,t,r,n){var i,o,a,s,u,l,c,f,p=e.constructor;e:if(null!=t){if(!(c=e.c))return e;for(i=1,s=c[0];s>=10;s/=10,i++);if(o=t-i,0>o)o+=T,a=t,u=c[f=0],l=u/_(10,i-a-1)%10|0;else if(f=Math.ceil((o+1)/T),f>=c.length){if(!n)break e;for(;c.length<=f;c.push(0));u=l=0,i=1,o%=T,a=o-T+1}else{for(u=s=c[f],i=1;s>=10;s/=10,i++);o%=T,a=o-T+i,l=0>a?0:E(u/_(10,i-a-1)%10)}if(n=n||0>t||null!=c[f+1]||(0>a?u:u%_(10,i-a-1)),n=4>r?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(o>0?a>0?u/_(10,i-a):0:c[f-1])%10&1||r==(e.s<0?8:7)),1>t||!c[0])return c.length=0,n?(t-=e.e+1,c[0]=_(10,t%T),e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=f,s=1,f--):(c.length=f+1,s=_(10,T-o),c[f]=a>0?(u/_(10,i-a)%_(10,a)|0)*s:0),n)for(;;){if(0==f){for(o=1,a=c[0];a>=10;a/=10,o++);for(a=c[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,c[0]==S&&(c[0]=1));break}if(c[f]+=s,c[f]!=S)break;c[f--]=0,s=1}for(o=c.length;0===c[--o];c.pop());}return w&&(e.e>p.maxE?e.c=e.e=null:e.e<p.minE&&(e.c=[e.e=0])),e}var m,v,y,x=i.crypto,w=!0,b=0,E=Math.floor,_=Math.pow,N=Object.prototype.toString,S=1e7,T=7,C="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",M={},A=9e15,O=1e9,k=3e3,P="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058";M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),g(e)},M.ceil=function(){return g(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(e,t){var r,n=this,i=n.c,o=(b=-b,e=new n.constructor(e,t),e.c),a=n.s,s=e.s,u=n.e,l=e.e;if(!a||!s)return null;if(r=i&&!i[0],t=o&&!o[0],r||t)return r?t?0:-s:a;if(a!=s)return a;if(r=0>a,!i||!o)return u==l?0:!i^r?1:-1;if(u!=l)return u>l^r?1:-1;for(a=-1,s=(u=i.length)<(l=o.length)?u:l;++a<s;)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return u==l?0:u>l^r?1:-1},M.decimalPlaces=M.dp=function(){var e,t,r=null;if(e=this.c){if(r=((t=e.length-1)-E(this.e/T))*T,t=e[t])for(;t%10==0;t/=10,r--);0>r&&(r=0)}return r},M.dividedBy=M.div=function(e,t){return b=2,D(this,new this.constructor(e,t))},M.dividedToIntegerBy=M.divToInt=function(e,t){var r=this,n=r.constructor;return b=18,g(D(r,new n(e,t),0,1,1),n.precision,n.rounding)},M.equals=M.eq=function(e,t){return b=3,0===this.cmp(e,t)},M.exponential=M.exp=function(){return l(this)},M.floor=function(){return g(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(e,t){return b=4,this.cmp(e,t)>0},M.greaterThanOrEqualTo=M.gte=function(e,t){return b=5,t=this.cmp(e,t),1==t||0===t},M.isFinite=function(){return!!this.c},M.isInteger=M.isInt=function(){return!!this.c&&E(this.e/T)>this.c.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isZero=function(){return!!this.c&&0==this.c[0]},M.lessThan=M.lt=function(e,t){return b=6,this.cmp(e,t)<0},M.lessThanOrEqualTo=M.lte=function(e,t){return b=7,t=this.cmp(e,t),-1==t||0===t},M.logarithm=M.log=function(e,t){var r,n,i,s,u,l,c,f,h,m=this,v=m.constructor,y=v.precision,x=v.rounding,E=5;if(null==e)e=new v(10),r=!0;else{if(b=15,e=new v(e,t),n=e.c,e.s<0||!n||!n[0]||!e.e&&1==n[0]&&1==n.length)return new v(0/0);r=e.eq(10)}if(n=m.c,m.s<0||!n||!n[0]||!m.e&&1==n[0]&&1==n.length)return new v(n&&!n[0]?-1/0:1!=m.s?0/0:n?0:1/0);if(u=r&&(s=n[0],n.length>1||1!=s&&10!=s&&100!=s&&1e3!=s&&1e4!=s&&1e5!=s&&1e6!=s),w=!1,c=y+E,f=c+10,l=d(m,c),r?(f>P.length&&p(v,1,f,"log"),i=new v(P.slice(0,f))):i=d(e,c),h=D(l,i,c,1),a(h.c,s=y,x))do if(c+=10,l=d(m,c),r?(f=c+10,f>P.length&&p(v,1,f,"log"),i=new v(P.slice(0,f))):i=d(e,c),h=D(l,i,c,1),!u){+o(h.c).slice(s+1,s+15)+1==1e14&&(h=g(h,y+1,0));

break}while(a(h.c,s+=10,x));return w=!0,g(h,y,x)},M.minus=function(e,t){var r,n,i,o,a=this,s=a.constructor,u=a.s;if(b=8,e=new s(e,t),t=e.s,!u||!t)return new s(0/0);if(u!=t)return e.s=-t,a.plus(e);var l=a.c,c=e.c,f=E(e.e/T),p=E(a.e/T),h=s.precision,d=s.rounding;if(!p||!f){if(!l||!c)return l?(e.s=-t,e):new s(c?a:0/0);if(!l[0]||!c[0])return a=c[0]?(e.s=-t,e):new s(l[0]?a:3==d?-0:0),w?g(a,h,d):a}if(l=l.slice(),n=l.length,u=p-f){for((o=0>u)?(u=-u,r=l,n=c.length):(f=p,r=c),(p=Math.ceil(h/T))>n&&(n=p),u>(n+=2)&&(u=n,r.length=1),r.reverse(),t=u;t--;r.push(0));r.reverse()}else for((o=n<(i=c.length))&&(i=n),u=t=0;i>t;t++)if(l[t]!=c[t]){o=l[t]<c[t];break}if(o&&(r=l,l=c,c=r,e.s=-e.s),(t=-((i=l.length)-c.length))>0)for(;t--;l[i++]=0);for(p=S-1,t=c.length;t>u;){if(l[--t]<c[t]){for(n=t;n&&!l[--n];l[n]=p);--l[n],l[t]+=S}l[t]-=c[t]}for(;0==l[--i];l.pop());for(;0==l[0];l.shift(),--f);for(l[0]||(l=[f=0],e.s=3==d?-1:1),e.c=l,u=1,t=l[0];t>=10;t/=10,u++);return e.e=u+f*T-1,w?g(e,h,d):e},M.modulo=M.mod=function(e,t){var r,n,i=this,o=i.constructor,a=o.modulo;return b=9,e=new o(e,t),t=e.s,r=!i.c||!t||e.c&&!e.c[0],r||!e.c||i.c&&!i.c[0]?r?new o(0/0):g(new o(i),o.precision,o.rounding):(w=!1,9==a?(e.s=1,n=D(i,e,0,3,1),e.s=t,n.s*=t):n=D(i,e,0,a,1),n=n.times(e),w=!0,i.minus(n))},M.naturalLogarithm=M.ln=function(){return d(this)},M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s||null,g(e)},M.plus=function(e,t){var r,n=this,i=n.constructor,o=n.s;if(b=10,e=new i(e,t),t=e.s,!o||!t)return new i(0/0);if(o!=t)return e.s=-t,n.minus(e);var a=n.c,s=e.c,u=E(e.e/T),l=E(n.e/T),c=i.precision,f=i.rounding;if(!l||!u){if(!a||!s)return new i(o/0);if(!a[0]||!s[0])return n=s[0]?e:new i(a[0]?n:0*o),w?g(n,c,f):n}if(a=a.slice(),o=l-u){for(0>o?(o=-o,r=a,t=s.length):(u=l,r=s,t=a.length),(l=Math.ceil(c/T))>t&&(t=l),o>++t&&(o=t,r.length=1),r.reverse();o--;r.push(0));r.reverse()}for(a.length-s.length<0&&(r=s,s=a,a=r),o=s.length,t=0,l=S;o;a[o]%=l)t=(a[--o]=a[o]+s[o]+t)/l|0;for(t&&(a.unshift(t),++u),o=a.length;0==a[--o];a.pop());for(e.c=a,o=1,t=a[0];t>=10;t/=10,o++);return e.e=o+u*T-1,w?g(e,c,f):e},M.precision=M.sd=function(e){var t=null,r=this;return e!=t&&e!==!!e&&1!==e&&0!==e&&p(r.constructor,"argument",e,"precision",1),r.c&&(t=f(r.c),e&&r.e+1>t&&(t=r.e+1)),t},M.round=function(){var e=this,t=e.constructor;return g(new t(e),e.e+1,t.rounding)},M.squareRoot=M.sqrt=function(){var e,t,r,n,i,a,s=this,u=s.c,l=s.s,c=s.e,f=s.constructor,p=new f(.5);if(1!==l||!u||!u[0])return new f(!l||0>l&&(!u||u[0])?0/0:u?s:1/0);for(w=!1,l=Math.sqrt(+s),0==l||l==1/0?(t=o(u),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=E((c+1)/2)-(0>c||c%2),l==1/0?t="1e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new f(t)):n=new f(l.toString()),r=(c=f.precision)+3;;)if(a=n,n=p.times(a.plus(D(s,a,r+2,1))),o(a.c).slice(0,r)===(t=o(n.c)).slice(0,r)){if(t=t.slice(r-3,r+1),"9999"!=t&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(g(n,c+1,1),e=!n.times(n).eq(s));break}if(!i&&(g(a,c+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}return w=!0,g(n,c,f.rounding,e)},M.times=function(e,t){var r,n,i=this,o=i.constructor,a=i.c,s=(b=11,e=new o(e,t),e.c),u=E(i.e/T),l=E(e.e/T),c=i.s;if(t=e.s,e.s=c==t?1:-1,!((u||a&&a[0])&&(l||s&&s[0])))return new o(!c||!t||a&&!a[0]&&!s||s&&!s[0]&&!a?0/0:a&&s?0*e.s:e.s/0);for(n=u+l,c=a.length,t=s.length,t>c&&(r=a,a=s,s=r,l=c,c=t,t=l),l=c+t,r=[];l--;r.push(0));for(u=t-1;u>-1;u--){for(t=0,l=c+u;l>u;)t=r[l]+s[u]*a[l-u-1]+t,r[l--]=t%S|0,t=t/S|0;r[l]=(r[l]+t)%S|0}for(t?++n:r[0]||r.shift(),l=r.length;!r[--l];r.pop());for(e.c=r,c=1,t=r[0];t>=10;t/=10,c++);return e.e=c+n*T-1,w?g(e,o.precision,o.rounding):e},M.toDecimalPlaces=M.toDP=function(e,t){var r=this;return r=new r.constructor(r),null!=e&&u(r,e,"toDP")?g(r,(0|e)+r.e+1,s(r,t,"toDP")):r},M.toExponential=function(e,t){var r=this;return r.c?c(r,null!=e&&u(r,e,"toExponential")?0|e:null,null!=e&&s(r,t,"toExponential"),1):r.toString()},M.toFixed=function(e,t){var r,n=this,i=n.constructor,o=i.toExpNeg,a=i.toExpPos;return null!=e&&(e=u(n,e,r="toFixed")?n.e+(0|e):null,t=s(n,t,r)),i.toExpNeg=-(i.toExpPos=1/0),null!=e&&n.c?(r=c(n,e,t),n.s<0&&n.c&&(n.c[0]?r.indexOf("-")<0&&(r="-"+r):r=r.replace("-",""))):r=n.toString(),i.toExpNeg=o,i.toExpPos=a,r},M.toFormat=function(e,t){var r=this;if(!r.c)return r.toString();var n,i=r.s<0,o=r.constructor.format,a=o.groupSeparator,s=+o.groupSize,u=+o.secondaryGroupSize,l=r.toFixed(e,t).split("."),c=l[0],f=l[1],p=i?c.slice(1):c,h=p.length;if(u&&(n=s,s=u,h-=u=n),s>0&&h>0){for(n=h%s||s,c=p.substr(0,n);h>n;n+=s)c+=a+p.substr(n,s);u>0&&(c+=a+p.slice(n)),i&&(c="-"+c)}return f?c+o.decimalSeparator+((u=+o.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+o.fractionGroupSeparator):f):c},M.toFraction=function(e){var t,r,n,i,a,s,u,l,c=this,h=c.constructor,d=t=new h(h.ONE),g=s=new h(0),m=c.c,v=new h(g);if(!m)return c.toString();for(n=v.e=f(m)-c.e-1,v.c[0]=_(10,(u=n%T)<0?T+u:u),(null==e||(!(b=12,a=new h(e)).s||(y=a.cmp(d)<0||!a.c)||h.errors&&E(a.e/T)<a.c.length-1)&&!p(h,"max denominator",e,"toFraction",0)||(e=a).cmp(v)>0)&&(e=n>0?v:d),w=!1,a=new h(o(m)),u=h.precision,h.precision=n=m.length*T*2;l=D(a,v,0,1,1),r=t.plus(l.times(g)),1!=r.cmp(e);)t=g,g=r,d=s.plus(l.times(r=d)),s=r,v=a.minus(l.times(r=v)),a=r;return r=D(e.minus(t),g,0,1,1),s=s.plus(r.times(d)),t=t.plus(r.times(g)),s.s=d.s=c.s,i=D(d,g,n,1).minus(c).abs().cmp(D(s,t,n,1).minus(c).abs())<1?[d+"",g+""]:[s+"",t+""],w=!0,h.precision=u,i},M.toNearest=function(e,t){var r=this,n=r.constructor;return r=new n(r),null==e?(e=new n(n.ONE),t=n.rounding):(b=17,e=new n(e),t=s(r,t,"toNearest")),e.c?r.c&&(e.c[0]?(w=!1,r=D(r,e,0,4>t?[4,5,7,8][t]:t,1).times(e),w=!0,g(r)):r.c=[r.e=0]):r.s&&(e.s&&(e.s=r.s),r=e),r},M.toNumber=function(){var e=this;return+e||(e.s?0*e.s:0/0)},M.toPower=M.pow=function(e,t){var r,n,i,s,u=this,c=u.constructor,f=u.s,p=(b=13,+(e=new c(e,t))),m=0>p?-p:p,v=c.precision,y=c.rounding;if(!u.c||!e.c||(i=!u.c[0])||!e.c[0])return new c(_(i?0*f:+u,p));if(u=new c(u),r=u.c.length,!u.e&&u.c[0]==u.s&&1==r)return u;if(t=e.c.length-1,e.e||e.c[0]!=e.s||t)if(n=E(e.e/T),i=n>=t,!i&&0>f)s=new c(0/0);else{if(i&&k>r*T*m){if(s=h(c,u,m),e.s<0)return c.ONE.div(s)}else{if(f=0>f&&1&e.c[Math.max(n,t)]?-1:1,t=_(+u,p),n=0!=t&&isFinite(t)?new c(t+"").e:E(p*(Math.log("0."+o(u.c))/Math.LN10+u.e+1)),n>c.maxE+1||n<c.minE-1)return new c(n>0?f/0:0);w=!1,c.rounding=u.s=1,m=Math.min(12,(n+"").length),s=l(e.times(d(u,v+m)),v),s=g(s,v+5,1),a(s.c,v,y)&&(n=v+10,s=g(l(e.times(d(u,n+m)),n),n+5,1),+o(s.c).slice(v+1,v+15)+1==1e14&&(s=g(s,v+1,0))),s.s=f,w=!0,c.rounding=y}s=g(s,v,y)}else s=g(u,v,y);return s},M.toPrecision=function(e,t){var r=this;return null!=e&&u(r,e,"toPrecision",1)&&r.c?c(r,0|--e,s(r,t,"toPrecision"),2):r.toString()},M.toSignificantDigits=M.toSD=function(e,t){var r=this,n=r.constructor;return r=new n(r),null!=e&&u(r,e,"toSD",1)?g(r,0|e,s(r,t,"toSD")):g(r,n.precision,n.rounding)},M.toString=function(e){var t,r,n,i=this,a=i.constructor,s=i.e;if(null===s)r=i.s?"Infinity":"NaN";else{if(e===t&&(s<=a.toExpNeg||s>=a.toExpPos))return c(i,null,a.rounding,1);if(r=o(i.c),0>s){for(;++s;r="0"+r);r="0."+r}else if(n=r.length,s>0)if(++s>n)for(s-=n;s--;r+="0");else n>s&&(r=r.slice(0,s)+"."+r.slice(s));else if(t=r.charAt(0),n>1)r=t+"."+r.slice(1);else if("0"==t)return t;if(null!=e)if((y=!(e>=2&&65>e))||e!=(0|e)&&a.errors)p(a,"base",e,"toString",0);else if(r=m(a,r,0|e,10,i.s),"0"==r)return r}return i.s<0?"-"+r:r},M.truncated=M.trunc=function(){return g(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){return this.toString()},m=function(){function e(e,t,r){for(var n,i,o=[0],a=0,s=e.length;s>a;){for(i=o.length;i--;o[i]*=t);for(o[n=0]+=C.indexOf(e.charAt(a++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(t,r,n,i,o){var a,s,u,l,c,f,p=r.indexOf("."),d=t.precision,g=t.rounding;for(37>i&&(r=r.toLowerCase()),p>=0&&(r=r.replace(".",""),f=new t(i),l=h(t,f,r.length-p),f.c=e(l.toFixed(),10,n),f.e=f.c.length),c=e(r,i,n),a=s=c.length;0==c[--s];c.pop());if(!c[0])return"0";if(0>p?a--:(l.c=c,l.e=a,l.s=o,l=D(l,f,d,g,0,n),c=l.c,u=l.r,a=l.e),p=c[d],s=n/2,u=u||null!=c[d+1],4>g?(null!=p||u)&&(0==g||g==(l.s<0?3:2)):p>s||p==s&&(4==g||u||6==g&&1&c[d-1]||g==(l.s<0?8:7)))for(c.length=d,--n;++c[--d]>n;)c[d]=0,d||(++a,c.unshift(1));else c.length=d;for(s=c.length;!c[--s];);for(p=0,r="";s>=p;r+=C.charAt(c[p++]));if(0>a){for(;++a;r="0"+r);r="0."+r}else if(p=r.length,++a>p)for(a-=p;a--;r+="0");else p>a&&(r=r.slice(0,a)+"."+r.slice(a));return r}}();var D=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;r>i;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.shift());}return function(n,i,o,a,s,u){var l,c,f,p,h,d,m,v,y,x,w,b,_,N,C,M,A,O,k,P=n.constructor,D=n.s==i.s?1:-1,z=n.c,B=i.c;if(!(z&&z[0]&&B&&B[0]))return new P(n.s&&i.s&&(z?!B||z[0]!=B[0]:B)?z&&0==z[0]||!B?0*D:D/0:0/0);for(u?(p=1,c=n.e-i.e):(u=S,p=T,c=E(n.e/p)-E(i.e/p)),O=B.length,M=z.length,y=new P(D),x=y.c=[],f=0;B[f]==(z[f]||0);f++);if(B[f]>(z[f]||0)&&c--,null==o?(D=o=P.precision,a=P.rounding):D=s?o+(n.e-i.e)+1:o,0>D)x.push(1),h=!0;else{if(D=D/p+2|0,f=0,1==O){for(d=0,B=B[0],D++;(M>f||d)&&D--;f++)N=d*u+(z[f]||0),x[f]=N/B|0,d=N%B|0;h=d||M>f}else{for(d=u/(B[0]+1)|0,d>1&&(B=e(B,d,u),z=e(z,d,u),O=B.length,M=z.length),C=O,w=z.slice(0,O),b=w.length;O>b;w[b++]=0);k=B.slice(),k.unshift(0),A=B[0],B[1]>=u/2&&A++;do d=0,l=t(B,w,O,b),0>l?(_=w[0],O!=b&&(_=_*u+(w[1]||0)),d=_/A|0,d>1?(d>=u&&(d=u-1),m=e(B,d,u),v=m.length,b=w.length,l=t(m,w,v,b),1==l&&(d--,r(m,v>O?k:B,v,u))):(0==d&&(l=d=1),m=B.slice()),v=m.length,b>v&&m.unshift(0),r(w,m,b,u),-1==l&&(b=w.length,l=t(B,w,O,b),1>l&&(d++,r(w,b>O?k:B,b,u))),b=w.length):0===l&&(d++,w=[0]),x[f++]=d,l&&w[0]?w[b++]=z[C]||0:(w=[z[C]],b=1);while((C++<M||null!=w[0])&&D--);h=null!=w[0]}x[0]||x.shift()}if(1==p)y.e=c,y.r=+h;else{for(f=1,D=x[0];D>=10;D/=10,f++);y.e=f+c*p-1,g(y,s?o+y.e+1:o,a,h)}return y}}();v=function(){function e(e){var t,r,n,i=this,o="config",a=i.errors?parseInt:parseFloat;return e==r||"object"!=typeof e&&!p(i,"object expected",e,o)?i:((n=e[t="precision"])!=r&&((y=1>n||n>O)||a(n)!=n?p(i,t,n,o,0):i[t]=0|n),(n=e[t="rounding"])!=r&&((y=0>n||n>8)||a(n)!=n?p(i,t,n,o,0):i[t]=0|n),(n=e[t="toExpNeg"])!=r&&((y=-A>n||n>0)||a(n)!=n?p(i,t,n,o,0):i[t]=E(n)),(n=e[t="toExpPos"])!=r&&((y=0>n||n>A)||a(n)!=n?p(i,t,n,o,0):i[t]=E(n)),(n=e[t="minE"])!=r&&((y=-A>n||n>0)||a(n)!=n?p(i,t,n,o,0):i[t]=E(n)),(n=e[t="maxE"])!=r&&((y=0>n||n>A)||a(n)!=n?p(i,t,n,o,0):i[t]=E(n)),(n=e[t="errors"])!=r&&(n===!!n||1===n||0===n?(y=b=0,i[t]=!!n):p(i,t,n,o,1)),(n=e[t="crypto"])!=r&&(n===!!n||1===n||0===n?i[t]=!(!n||!x||"object"!=typeof x):p(i,t,n,o,1)),(n=e[t="modulo"])!=r&&((y=0>n||n>9)||a(n)!=n?p(i,t,n,o,0):i[t]=0|n),(e=e[t="format"])!=r&&("object"==typeof e?i[t]=e:p(i,"format object expected",e,o)),i)}function t(e){return new this(e).exp()}function r(e){return new this(e).ln()}function n(e,t){return new this(e).log(t)}function i(e,t,r){var n,i,o=0;for("[object Array]"==N.call(t[0])&&(t=t[0]),n=new e(t[0]);++o<t.length;){if(i=new e(t[o]),!i.s){n=i;break}n[r](i)&&(n=i)}return n}function o(){return i(this,arguments,"lt")}function a(){return i(this,arguments,"gt")}function s(e,t){return new this(e).pow(t)}function l(e){var t,r,n,i=0,o=[],a=this,s=new a(a.ONE);if(null!=e&&u(s,e,"random")?e|=0:e=a.precision,r=Math.ceil(e/T),a.crypto)if(x&&x.getRandomValues)for(t=x.getRandomValues(new Uint32Array(r));r>i;)n=t[i],n>=429e7?t[i]=x.getRandomValues(new Uint32Array(1))[0]:o[i++]=n%1e7;else if(x&&x.randomBytes){for(t=x.randomBytes(r*=4);r>i;)n=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24),n>=214e7?x.randomBytes(4).copy(t,i):(o.push(n%1e7),i+=4);i=r/4}else p(a,"crypto unavailable",x,"random");if(!i)for(;r>i;)o[i++]=1e7*Math.random()|0;for(r=o[--i],e%=T,r&&e&&(n=_(10,T-e),o[i]=(r/n|0)*n);0===o[i];i--)o.pop();if(0>i)o=[r=0];else{for(r=-1;0===o[0];)o.shift(),r-=T;for(i=1,n=o[0];n>=10;)n/=10,i++;T>i&&(r-=T-i)}return s.e=r,s.c=o,s}function c(e){return new this(e).sqrt()}function f(i){function u(e,t){var r=this;if(!(r instanceof u))return p(u,"Decimal called without new",e),new u(e,t);if(r.constructor=u,e instanceof u){if(null==t)return b=0,r.s=e.s,r.e=e.e,r.c=(e=e.c)?e.slice():e,r;if(10==t)return g(new u(e),u.precision,u.rounding);e+=""}return h(u,r,e,t)}return u.precision=20,u.rounding=4,u.modulo=1,u.toExpNeg=-7,u.toExpPos=21,u.minE=-A,u.maxE=A,u.errors=!0,u.crypto=!1,u.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},u.prototype=M,u.ONE=new u(1),u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=e,u.constructor=f,u.exp=t,u.ln=r,u.log=n,u.max=o,u.min=a,u.pow=s,u.sqrt=c,u.random=l,null!=i&&u.config(i),u}var h=function(){var e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,t=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return function(r,n,i,o){var a,s,u,l,c,f;if("string"!=typeof i&&(i=(l="number"==typeof i||"[object Number]"==N.call(i))&&0===i&&0>1/i?"-0":i+""),c=i,null==o&&e.test(i))n.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1;else{if(10==o)return g(new r(i),r.precision,r.rounding);if(i=t.call(i).replace(/^\+(?!-)/,""),n.s=45===i.charCodeAt(0)?(i=i.replace(/^-(?!-)/,""),-1):1,null!=o?o!=(0|o)&&r.errors||(y=!(o>=2&&65>o))?(p(r,"base",o,0,0),f=e.test(i)):(a="["+C.slice(0,o=0|o)+"]+",i=i.replace(/\.$/,"").replace(/^\./,"0."),(f=new RegExp("^"+a+"(?:\\."+a+")?$",37>o?"i":"").test(i))?(l&&(i.replace(/^0\.0*|\./,"").length>15&&p(r,0,c),l=!l),i=m(r,i,10,o,n.s)):"Infinity"!=i&&"NaN"!=i&&(p(r,"not a base "+o+" number",c),i="NaN")):f=e.test(i),!f)return n.c=n.e=null,"Infinity"!=i&&("NaN"!=i&&p(r,"not a number",c),n.s=null),b=0,n}for((s=i.indexOf("."))>-1&&(i=i.replace(".","")),(u=i.search(/e/i))>0?(0>s&&(s=u),s+=+i.slice(u+1),i=i.substring(0,u)):0>s&&(s=i.length),u=0;48===i.charCodeAt(u);u++);for(o=i.length;48===i.charCodeAt(--o););if(i=i.slice(u,o+1)){if(o=i.length,l&&o>15&&p(r,0,c),n.e=s=s-u-1,n.c=[],u=(s+1)%T,0>s&&(u+=T),o>u){for(u&&n.c.push(+i.slice(0,u)),o-=T;o>u;)n.c.push(+i.slice(u,u+=T));i=i.slice(u),u=T-i.length}else u-=o;for(;u--;i+="0");n.c.push(+i),w&&(n.e>r.maxE?n.c=n.e=null:n.e<r.minE&&(n.c=[n.e=0]))}else n.c=[n.e=0];return b=0,n}}();return f()}(),n=function(){return v}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))}(this)},function(e,t,r){"use strict";function n(e,r){if(Array.isArray(e)){for(var i="[",o=e.length,a=0;o>a;a++)0!=a&&(i+=", "),i+=n(e[a],r);return i+="]"}return t.format(e,r)}var i=r(5),o=r(10),a=r(7);t.isString=function(e){return e instanceof String||"string"==typeof e},t.endsWith=function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t},t.format=function(e,r){return i.isNumber(e)?i.format(e,r):e instanceof a?o.format(e,r):Array.isArray(e)?n(e,r):t.isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?e.syntax+"":"function":e instanceof Object?"function"==typeof e.format?e.format(r):e.toString():String(e)}},function(e,t,r){"use strict";function n(e,r,n){var o,a,s=e.constructor,u=+(e.s<0),l=+(r.s<0);if(u){o=i(t.not(e));for(var c=0;c<o.length;++c)o[c]^=1}else o=i(e);if(l){a=i(t.not(r));for(var c=0;c<a.length;++c)a[c]^=1}else a=i(r);var f,p,h;o.length<=a.length?(f=o,p=a,h=u):(f=a,p=o,h=l);var d=f.length,g=p.length,m=1^n(u,l),v=new s(1^m),y=s.ONE,x=new s(2),w=s.precision;for(s.config({precision:1e9});d>0;)n(f[--d],p[--g])==m&&(v=v.plus(y)),y=y.times(x);for(;g>0;)n(h,p[--g])==m&&(v=v.plus(y)),y=y.times(x);return s.config({precision:w}),0==m&&(v.s=-v.s),v}function i(e){for(var t=e.c,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",o=7-i.length;o--;)i="0"+i;r+=i}var a;for(a=r.length-1;"0"==r.charAt(a);--a);var s=e.e,u=r.slice(0,a+1||1),l=u.length;if(s>0)if(++s>l)for(s-=l;s--;u+="0");else l>s&&(u=u.slice(0,s)+"."+u.slice(s));for(var c=[0],n=0;n<u.length;){for(var f=c.length;f--;c[f]*=10);c[0]+=u.charAt(n++)<<0;for(var a=0;a<c.length;++a)c[a]>1&&(null==c[a+1]&&(c[a+1]=0),c[a+1]+=c[a]>>1,c[a]&=1)}return c.reverse()}function o(e,r){var n=r.precision,i=-(n+4),o=n+8-e.e,a=25-e.e,s=Math.max(1.442695*Math.log(n+2)|5,5);r.config({precision:a});var u=0,l=new r(Math.asin(e.toNumber())+"");do{var f=t.cos_sin_sec_csc(l,r,1,!1),p=c(f);f.isZero()||(f.s=l.s);var h=f.minus(e).div(p);l=l.minus(h),a=Math.min(2*a,o),r.config({precision:a})}while(2*h.e>=i&&!h.isZero()&&++u<=s);if(u==s)throw new Error("asin() failed to converge to the requested accuracy.Try with a higher precision.");return r.config({precision:n}),l.toDP(n-1)}function a(e,t){var r=e.constructor;r.config({precision:t+Math.log(t)|4});for(var n=new r(1),i=e,o=0/0,a=e.times(e),s=e,u=new r(n),l=new r(n),c=new r(n),f=3;!i.equals(o);f+=2)s=s.times(a),u=u.times(c),l=l.times(c.plus(n)),o=i,c=new r(f),i=i.plus(s.times(u).div(c.times(l)));return r.config({precision:t}),i.toDP(t-1)}function s(e){for(var t=e,r=0/0,n=e.times(e),i=e,o=!0,a=3;!t.equals(r);a+=2)i=i.times(n),r=t,o=!o,t=o?t.plus(i.div(a)):t.minus(i.div(a));return t}function u(e,t){for(var r=e.constructor.ONE,n=e,i=0/0,o=e.times(e),a=t?n:n=r,s=r,u=!0,l=t;!n.equals(i);l+=2)a=a.times(o),s=s.times(l+1).times(l+2),i=n,u=!u,n=u?n.plus(a.div(s)):n.minus(a.div(s));return n}function l(e,r,n){var i=t.pi(r+2),o=t.tau(r);if(e.abs().lte(i.toDP(e.dp())))return[e,!1];var a=e.constructor;if(e.div(i.toDP(e.dp())).toNumber()%2==0)return[new a(1^n),!0];var s=e.mod(o);return s.toDP(e.dp(),1).isZero()?[new a(1^n),!0]:(s.gt(i)&&(n?(s=s.minus(i),s.s=-s.s):s=o.minus(s)),s.constructor=a,[s,!1])}function c(e){var t=e.constructor,r=t.precision;t.config({precision:r+2});var n=t.ONE.minus(e.times(e)).sqrt();return t.config({precision:r}),n.toDP(r-1)}var f=r(7),p=r(5).isNumber,h=(r(5).digits,r(11).memoize);t.isBigNumber=function(e){return e instanceof f},t.e=h(function(e){var t=f.constructor({precision:e});return new t(1).exp()}),t.phi=h(function(e){var t=f.constructor({precision:e});return new t(1).plus(new t(5).sqrt()).div(2)}),t.pi=h(function(e){var t=f.constructor({precision:e+4}),r=new t(4).times(s(new t(1).div(5))).minus(s(new t(1).div(239)));return t.config({precision:e}),new t(4).times(r)}),t.tau=h(function(e){var r=t.pi(e+2),n=f.constructor({precision:e});return new n(2).times(r)}),t.and=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitAnd must be integer numbers");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(0/0);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()==t.isNegtive()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return n(e,t,function(e,t){return e&t})},t.leftShift=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(0/0):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?e.times(t.lt(55)?Math.pow(2,t.toNumber())+"":new r(2).pow(t)):new r(0/0)},t.not=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Parameter in function bitNot must be integer numbers");var t=e.constructor,r=t.precision;t.config({precision:1e9});var e=e.plus(t.ONE);return e.s=-e.s||null,t.config({precision:r}),e},t.or=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitOr must be integer numbers");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(0/0);var i=new r(-1);return e.isZero()||t.eq(i)||e.eq(t)?t:t.isZero()||e.eq(i)?e:e.isFinite()&&t.isFinite()?n(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?i:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e},t.rightShift=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(0/0):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():new r(e.isNegative()?-1:e.isFinite()?0:0/0)},t.xor=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function bitXor must be integer numbers");var i=e.constructor;if(e.isNaN()||r.isNaN())return new i(0/0);if(e.isZero())return r;if(r.isZero())return e;if(e.eq(r))return new i(0);var o=new i(-1);return e.eq(o)?t.not(r):r.eq(o)?t.not(e):e.isFinite()&&r.isFinite()?n(e,r,function(e,t){return e^t}):e.isFinite()||r.isFinite()?new i(e.isNegative()==r.isNegative()?1/0:-(1/0)):o},t.arccos_arcsec=function(e,r,n){var i=r.precision;if(n){if(e.abs().lt(r.ONE))throw new Error("asec() only has non-complex values for |x| >= 1.")}else if(e.abs().gt(r.ONE))throw new Error("acos() only has non-complex values for |x| <= 1.");if(e.eq(-1))return t.pi(i);r.config({precision:i+4}),n&&(e=r.ONE.div(e));var o=t.arctan_arccot(r.ONE.minus(e.times(e)).sqrt().div(e.plus(r.ONE)),r).times(2);return r.config({precision:i}),o.toDP(i-1)},t.arcsin_arccsc=function(e,r,n){if(e.isNaN())return new r(0/0);var i=r.precision,s=e.abs();if(n){if(s.lt(r.ONE))throw new Error("acsc() only has non-complex values for |x| >= 1.");r.config({precision:i+2}),e=r.ONE.div(e),r.config({precision:i}),s=e.abs()}else if(s.gt(r.ONE))throw new Error("asin() only has non-complex values for |x| <= 1.");if(s.gt(.8)){r.config({precision:i+4});var u=e.s,l=t.pi(i+4).div(2);return e=l.minus(t.arcsin_arccsc(r.ONE.minus(e.times(e)).sqrt(),r)),e.s=u,e.constructor=r,r.config({precision:i}),e.toDP(i-1)}var c=s.gt(.58);c&&(r.config({precision:i+8}),e=e.div(new r(2).sqrt().times(r.ONE.minus(e.times(e)).sqrt().plus(r.ONE).sqrt())),r.config({precision:i}));var f=60>=i||e.dp()<=Math.log(i)&&e.lt(.05)?a(e,i):o(e,r);return c?f.times(2):f},t.arctan_arccot=function(e,r,n){if(e.isNaN())return new r(0/0);if(!n&&e.isZero()||n&&!e.isFinite())return new r(0);var i=r.precision;if(!n&&!e.isFinite()||n&&e.isZero()){var o=t.pi(i+2).div(2).toDP(i-1);return o.constructor=r,o.s=e.s,o}r.config({precision:i+4}),n&&(e=r.ONE.div(e));var a=e.abs();if(a.lte(.875)){var u=s(e);return u.constructor=r,r.config({precision:i}),u.toDP(r.precision-1)}if(a.gte(1.143)){var o=t.pi(i+4).div(2),u=o.minus(s(r.ONE.div(a)));return u.s=e.s,u.constructor=r,r.config({precision:i}),u.toDP(r.precision-1)}return e=e.div(e.times(e).plus(1).sqrt()),r.config({precision:i}),t.arcsin_arccsc(e,r)},t.arctan2=function(e,r,n){var i=n.precision;if(r.isZero()){if(e.isZero())return new n(0/0);var o=t.pi(i+2).div(2).toDP(i-1);return o.constructor=n,o.s=e.s,o}n.config({precision:i+2});var a=t.arctan_arccot(e.div(r),n,!1);if(r.isNegative()){var s=t.pi(i+2);a=e.isNegative()?a.minus(s):a.plus(s)}return a.constructor=n,n.config({precision:i}),a.toDP(i-1)},t.acosh_asinh_asech_acsch=function(e,t,r,n){if(e.isNaN())return new t(0/0);if(n&&e.isZero())return new t(1/0);if(!r)if(n){if(e.isNegative()||e.gt(t.ONE))throw new Error("asech() only has non-complex values for 0 <= x <= 1.")}else if(e.lt(t.ONE))throw new Error("acosh() only has non-complex values for x >= 1.");var i=t.precision;t.config({precision:i+4});var o=new t(e);o.constructor=t,n&&(o=t.ONE.div(o));var a=r?o.times(o).plus(t.ONE):o.times(o).minus(t.ONE),s=o.plus(a.sqrt()).ln();return t.config({precision:i}),new t(s.toPrecision(i))},t.atanh_acoth=function(e,t,r){if(e.isNaN())return new t(0/0);var n=e.abs();if(n.eq(t.ONE))return new t(e.isNegative()?-(1/0):1/0);if(n.gt(t.ONE)){if(!r)throw new Error("atanh() only has non-complex values for |x| <= 1.")}else if(r)throw new Error("acoth() has complex values for |x| < 1.");if(e.isZero())return new t(0);var i=t.precision;t.config({precision:i+4});var o=new t(e);o.constructor=t,r&&(o=t.ONE.div(o));var a=t.ONE.plus(o).div(t.ONE.minus(o)).ln().div(2);return t.config({precision:i}),new t(a.toPrecision(i))},t.cos_sin_sec_csc=function(e,t,r,n){if(e.isNaN()||!e.isFinite())return new t(0/0);var i=t.precision,o=new t(e),a=o.isNegative();a&&(o.s=-o.s);var s=i+(0|Math.log(i))+3;if(t.config({precision:s}),o=l(o,s,r),o[0].constructor=t,o[1])return o=o[0],n&&o.isZero()&&(o=new t(1/0)),t.config({precision:i}),o;var c;if(o=o[0],r){c=u(o.div(3125),r),t.config({precision:Math.min(s,i+15)});for(var f=new t(5),p=new t(16),h=new t(20),d=0;5>d;++d){var g=c.times(c),m=g.times(c),v=m.times(g);c=p.times(v).minus(h.times(m)).plus(f.times(c))}a&&(c.s=-c.s)}else{var y,x;o.abs().lt(t.ONE)?(y=64,x=3):(y=256,x=4),c=u(o.div(y),r),t.config({precision:Math.min(s,i+8)});for(var w=new t(8);x>0;--x){var g=c.times(c),b=g.times(g);c=w.times(b.minus(g)).plus(t.ONE)}}return n&&(c=c.e<=-i?new t(1/0):t.ONE.div(c)),t.config({precision:i}),c.toDP(i-1)},t.tan_cot=function(e,r,n){if(e.isNaN())return new r(0/0);var i=r.precision,o=t.pi(i+2),a=o.div(2).toDP(i-1);o=o.toDP(i-1);var s=l(e,i,1)[0];if(s.abs().eq(o))return new r(1/0);r.config({precision:i+4});var u=t.cos_sin_sec_csc(s,r,1,!1),f=c(u);u=u.toDP(i),f=f.toDP(i),s.eq(e)?s.gt(a)&&(f.s=-f.s):o.minus(s.abs()).gt(a)&&(f.s=-f.s);var p=n?f.div(u):u.div(f);return r.config({precision:i}),new r(p.toPrecision(i))},t.cosh_sinh_csch_sech=function(e,t,r,n){if(e.isNaN())return new t(0/0);if(!e.isFinite())return new t(n?0:r?e:1/0);var i=t.precision;t.config({precision:i+4});var o=new t(e);return o.constructor=t,o=o.exp(),o=r?o.minus(t.ONE.div(o)):o.plus(t.ONE.div(o)),o=n?new t(2).div(o):o.div(2),t.config({precision:i}),new t(o.toPrecision(i))},t.tanh_coth=function(e,t,r){if(e.isNaN())return new t(0/0);if(!e.isFinite())return new t(e.s);var n=t.precision;t.config({precision:n+4});var i=new t(e);i.constructor=t;var o=i.exp(),a=t.ONE.div(o),s=o.minus(a);return s=r?o.plus(a).div(s):s.div(o.plus(a)),t.config({precision:n}),s.toDP(n-1)},t.format=function(e,r){if("function"==typeof r)return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i=void 0;switch(void 0!==r&&(r.notation&&(n=r.notation),p(r)?i=r:r.precision&&(i=r.precision)),n){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":var o=.001,a=1e5;if(r&&r.exponential&&(void 0!==r.exponential.lower&&(o=r.exponential.lower),void 0!==r.exponential.upper&&(a=r.exponential.upper)),{toExpNeg:e.constructor.toExpNeg,toExpPos:e.constructor.toExpPos},e.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),e.isZero())return"0";var s,u=e.abs();return s=u.gte(o)&&u.lt(a)?e.toSignificantDigits(i).toFixed():t.toExponential(e,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t||0)},t.isPositiveInteger=function(e){return e instanceof f&&e.isInteger()&&e.gt(0)?!0:p(e)&&e.isInteger()&&e>0?!0:!1}},function(e,t,r){t.memoize=function(e){return function t(){"object"!=typeof t.cache&&(t.cache={});var r=JSON.stringify(arguments);return r in t.cache?t.cache[r]:t.cache[r]=e.apply(e,arguments)}}},function(e,t,r){"use strict";t.clone=function n(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return n(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=n(e[i]));return r},t.extend=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},t.deepExtend=function i(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r in t)if(t.hasOwnProperty(r))if(t[r]&&t[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?i(e[r],t[r]):e[r]=t[r];else{if(Array.isArray(t[r]))throw new TypeError("Arrays are not supported by deepExtend");e[r]=t[r]}return e},t.deepEqual=function(e,r){var n,i,o;if(Array.isArray(e)){if(!Array.isArray(r))return!1;if(e.length!=r.length)return!1;for(i=0,o=e.length;o>i;i++)if(!t.deepEqual(e[i],r[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!t.deepEqual(e[n],r[n]))return!1;for(n in r)if(!t.deepEqual(e[n],r[n]))return!1;return!0}return typeof e==typeof r&&e==r},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{}),!0}catch(e){}return!1},t.lazy=function(e,r,n){if(t.canDefineProperty()){var i,o=!0;Object.defineProperty(e,r,{get:function(){return o&&(i=n(),o=!1),i},set:function(e){i=e,o=!1},configurable:!0})}else e[r]=n()}},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(12),i=r(10),o=r(16),a=e.type.BigNumber;e["true"]=!0,e["false"]=!1,e["null"]=null,e.uninitialized=r(3).UNINITIALIZED,"bignumber"===t.number?(e.Infinity=new a(1/0),e.NaN=new a(0/0),n.lazy(e,"pi",function(){return i.pi(t.precision)}),n.lazy(e,"tau",function(){return i.tau(t.precision)}),n.lazy(e,"e",function(){return i.e(t.precision)}),n.lazy(e,"phi",function(){return i.phi(t.precision)}),n.lazy(e,"E",function(){return e.e}),n.lazy(e,"LN2",function(){return new a(2).ln()}),n.lazy(e,"LN10",function(){return new a(10).ln()}),n.lazy(e,"LOG2E",function(){return new a(1).div(new a(2).ln())}),n.lazy(e,"LOG10E",function(){return new a(1).div(new a(10).ln())}),n.lazy(e,"PI",function(){return e.pi}),n.lazy(e,"SQRT1_2",function(){return new a("0.5").sqrt()}),n.lazy(e,"SQRT2",function(){return new a(2).sqrt()})):(e.Infinity=1/0,e.NaN=0/0,e.pi=Math.PI,e.tau=2*Math.PI,e.e=Math.E,e.phi=1.618033988749895,e.E=e.e,e.LN2=Math.LN2,e.LN10=Math.LN10,e.LOG2E=Math.LOG2E,e.LOG10E=Math.LOG10E,e.PI=e.pi,e.SQRT1_2=Math.SQRT1_2,e.SQRT2=Math.SQRT2),e.i=new o(0,1),e.version=r(20)}},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");switch(arguments.length){case 0:this.re=0,this.im=0;break;case 1:var r=arguments[0];if("object"==typeof r){if("re"in r&&"im"in r){var i=new n(r.re,r.im);this.re=i.re,this.im=i.im;break}if("r"in r&&"phi"in r){var i=n.fromPolar(r.r,r.phi);this.re=i.re,this.im=i.im;break}}throw new SyntaxError("Object with the re and im or r and phi properties expected.");

case 2:if(!d(e)||!d(t))throw new TypeError("Two numbers expected in Complex constructor");this.re=e,this.im=t;break;default:throw new SyntaxError("One, two or three arguments expected in Complex constructor")}}function i(){for(;" "==x||"	"==x;)s()}function o(e){return e>="0"&&"9">=e||"."==e}function a(e){return e>="0"&&"9">=e}function s(){y++,x=v.charAt(y)}function u(e){y=e,x=v.charAt(y)}function l(){var e,t="";if(e=y,"+"==x?s():"-"==x&&(t+=x,s()),!o(x))return u(e),null;if("."==x){if(t+=x,s(),!a(x))return u(e),null}else{for(;a(x);)t+=x,s();"."==x&&(t+=x,s())}for(;a(x);)t+=x,s();if("E"==x||"e"==x){if(t+=x,s(),("+"==x||"-"==x)&&(t+=x,s()),!a(x))return u(e),null;for(;a(x);)t+=x,s()}return t}function c(){var e=v.charAt(y+1);if("I"==x||"i"==x)return s(),"1";if(!("+"!=x&&"-"!=x||"I"!=e&&"i"!=e)){var t="+"==x?"1":"-1";return s(),s(),t}return null}var f=r(17),p=r(19),h=f.number,d=f.number.isNumber,g=p.isUnit,m=f.string.isString;n.isComplex=function(e){return e instanceof n};var v,y,x;n.parse=function(e){if(v=e,y=-1,x="",!m(v))return null;s(),i();var t=l();if(t){if("I"==x||"i"==x)return s(),i(),x?null:new n(0,Number(t));i();var r=x;if("+"!=r&&"-"!=r)return i(),x?null:new n(Number(t),0);s(),i();var o=l();if(o){if("I"!=x&&"i"!=x)return null;s()}else if(o=c(),!o)return null;return"-"==r&&(o="-"==o[0]?"+"+o.substring(1):"-"+o),s(),i(),x?null:new n(Number(t),Number(o))}return(t=c())?(i(),x?null:new n(0,Number(t))):null},n.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return n.fromPolar(t.r,t.phi);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],i=arguments[1];if(d(r)){if(g(i)&&i.hasBase(p.BASE_UNITS.ANGLE)&&(i=i.toNumber("rad")),d(i))return new n(r*Math.cos(i),r*Math.sin(i));throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},n.prototype.toPolar=function(){return{r:Math.sqrt(this.re*this.re+this.im*this.im),phi:Math.atan2(this.im,this.re)}},n.prototype.clone=function(){return new n(this.re,this.im)},n.prototype.equals=function(e){return this.re===e.re&&this.im===e.im},n.prototype.format=function(e){var t="",r=this.im,n=this.re,i=h.format(this.re,e),o=h.format(this.im,e),a=d(e)?e:e?e.precision:null;if(null!==a){var s=Math.pow(10,-a);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return t=0==r?i:0==n?1==r?"i":-1==r?"-i":o+"i":r>0?1==r?i+" + i":i+" + "+o+"i":-1==r?i+" - i":i+" - "+o.substring(1)+"i"},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},n.fromJSON=function(e){return new n(e)},n.prototype.valueOf=n.prototype.toString,e.exports=n},function(e,t,r){"use strict";t.array=r(3),t["boolean"]=r(18),t.number=r(5),t.bignumber=r(10),t.object=r(12),t.string=r(9),t.types=r(4)},function(e,t,r){"use strict";t.isBoolean=function(e){return e instanceof Boolean||"boolean"==typeof e}},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new Error("Constructor must be called with the new operator");if(void 0!=e&&!y(e))throw new TypeError("First parameter in Unit constructor must be a number");if(void 0!=t&&(!x(t)||""==t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=t){var r=f(t);if(!r)throw new SyntaxError('Unknown unit "'+t+'"');this.unit=r.unit,this.prefix=r.prefix}else this.unit=N,this.prefix=b;this.value=void 0!=e?this._normalize(e):null,this.fixPrefix=!1}function i(){for(;" "==d||"	"==d;)s()}function o(e){return e>="0"&&"9">=e||"."==e}function a(e){return e>="0"&&"9">=e}function s(){h++,d=p.charAt(h)}function u(e){h=e,d=p.charAt(h)}function l(){var e,t="";if(e=h,"+"==d?s():"-"==d&&(t+=d,s()),!o(d))return u(e),null;if("."==d){if(t+=d,s(),!a(d))return u(e),null}else{for(;a(d);)t+=d,s();"."==d&&(t+=d,s())}for(;a(d);)t+=d,s();if("E"==d||"e"==d){if(t+=d,s(),("+"==d||"-"==d)&&(t+=d,s()),!a(d))return u(e),null;for(;a(d);)t+=d,s()}return t}function c(){var e="";for(i();d&&" "!=d&&"	"!=d;)e+=d,s();return e||null}function f(e){for(var t in S)if(S.hasOwnProperty(t)&&v.endsWith(e,t)){var r=S[t],n=e.length-t.length,i=e.substring(0,n),o=r.prefixes[i];if(void 0!==o)return{unit:r,prefix:o}}return null}var p,h,d,g=r(17),m=g.number,v=g.string,y=g.number.isNumber,x=g.string.isString;n.parse=function(e){if(p=e,h=-1,d="",!x(p))return null;s(),i();var t,r=l();if(r){if(t=c(),s(),i(),d)return null;if(r&&t)try{return new n(Number(r),t)}catch(o){}}else{if(t=c(),s(),i(),d)return null;if(t)try{return new n(null,t)}catch(o){}}return null},n.isUnit=function(e){return e instanceof n},n.prototype.clone=function(){var e=new n;for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},n.prototype._normalize=function(e){return(e+this.unit.offset)*this.unit.value*this.prefix.value},n.prototype._denormalize=function(e,t){return void 0==t?e/this.unit.value/this.prefix.value-this.unit.offset:e/this.unit.value/t-this.unit.offset},n.isValuelessUnit=function(e){return null!=f(e)},n.prototype.hasBase=function(e){return this.unit.base===e},n.prototype.equalBase=function(e){return this.unit.base===e.unit.base},n.prototype.equals=function(e){return this.equalBase(e)&&this.value==e.value},n.prototype.to=function(e){var t,r=null==this.value?this._normalize(1):this.value;if(x(e)){if(t=new n(null,e),!this.equalBase(t))throw new Error("Units do not match");return t.value=r,t.fixPrefix=!0,t}if(e instanceof n){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return t=e.clone(),t.value=r,t.fixPrefix=!0,t}throw new Error("String or Unit expected as parameter")},n.prototype.toNumber=function(e){var t=this.to(e);return t._denormalize(t.value,t.prefix.value)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.prefix.name+this.unit.name,fixPrefix:this.fixPrefix}},n.fromJSON=function(e){var t=new n(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},n.prototype.valueOf=n.prototype.toString,n.prototype.format=function(e){var t,r;if(null===this.value||this.fixPrefix)t=this._denormalize(this.value),r=null!==this.value?m.format(t,e)+" ":"",r+=this.prefix.name+this.unit.name;else{var n=this._bestPrefix();t=this._denormalize(this.value,n.value),r=m.format(t,e)+" ",r+=n.name+this.unit.name}return r},n.prototype._bestPrefix=function(){var e=Math.abs(this.value/this.unit.value),t=b,r=Math.abs(Math.log(e/t.value)/Math.LN10-1.2),n=this.unit.prefixes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o.scientific){var a=Math.abs(Math.log(e/o.value)/Math.LN10-1.2);r>a&&(t=o,r=a)}}return t};var w={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-42,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}}},b={name:"",value:1,scientific:!0},E={NONE:{},LENGTH:{},MASS:{},TIME:{},CURRENT:{},TEMPERATURE:{},LUMINOUS_INTENSITY:{},AMOUNT_OF_SUBSTANCE:{},FORCE:{},SURFACE:{},VOLUME:{},ANGLE:{},BIT:{}},_={},N={name:"",base:_,value:1,offset:0},S={meter:{name:"meter",base:E.LENGTH,prefixes:w.LONG,value:1,offset:0},inch:{name:"inch",base:E.LENGTH,prefixes:w.NONE,value:.0254,offset:0},foot:{name:"foot",base:E.LENGTH,prefixes:w.NONE,value:.3048,offset:0},yard:{name:"yard",base:E.LENGTH,prefixes:w.NONE,value:.9144,offset:0},mile:{name:"mile",base:E.LENGTH,prefixes:w.NONE,value:1609.344,offset:0},link:{name:"link",base:E.LENGTH,prefixes:w.NONE,value:.201168,offset:0},rod:{name:"rod",base:E.LENGTH,prefixes:w.NONE,value:5.02921,offset:0},chain:{name:"chain",base:E.LENGTH,prefixes:w.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:E.LENGTH,prefixes:w.NONE,value:1e-10,offset:0},m:{name:"m",base:E.LENGTH,prefixes:w.SHORT,value:1,offset:0},"in":{name:"in",base:E.LENGTH,prefixes:w.NONE,value:.0254,offset:0},ft:{name:"ft",base:E.LENGTH,prefixes:w.NONE,value:.3048,offset:0},yd:{name:"yd",base:E.LENGTH,prefixes:w.NONE,value:.9144,offset:0},mi:{name:"mi",base:E.LENGTH,prefixes:w.NONE,value:1609.344,offset:0},li:{name:"li",base:E.LENGTH,prefixes:w.NONE,value:.201168,offset:0},rd:{name:"rd",base:E.LENGTH,prefixes:w.NONE,value:5.02921,offset:0},ch:{name:"ch",base:E.LENGTH,prefixes:w.NONE,value:20.1168,offset:0},mil:{name:"mil",base:E.LENGTH,prefixes:w.NONE,value:254e-7,offset:0},m2:{name:"m2",base:E.SURFACE,prefixes:w.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:E.SURFACE,prefixes:w.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:E.SURFACE,prefixes:w.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:E.SURFACE,prefixes:w.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:E.SURFACE,prefixes:w.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:E.SURFACE,prefixes:w.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:E.SURFACE,prefixes:w.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:E.SURFACE,prefixes:w.NONE,value:6.4516e-10,offset:0},m3:{name:"m3",base:E.VOLUME,prefixes:w.CUBIC,value:1,offset:0},L:{name:"L",base:E.VOLUME,prefixes:w.SHORT,value:.001,offset:0},l:{name:"l",base:E.VOLUME,prefixes:w.SHORT,value:.001,offset:0},litre:{name:"litre",base:E.VOLUME,prefixes:w.LONG,value:.001,offset:0},cuin:{name:"cuin",base:E.VOLUME,prefixes:w.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:E.VOLUME,prefixes:w.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:E.VOLUME,prefixes:w.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:E.VOLUME,prefixes:w.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:E.VOLUME,prefixes:w.NONE,value:15e-6,offset:0},drop:{name:"drop",base:E.VOLUME,prefixes:w.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:E.VOLUME,prefixes:w.NONE,value:5e-8,offset:0},minim:{name:"minim",base:E.VOLUME,prefixes:w.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:E.VOLUME,prefixes:w.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:E.VOLUME,prefixes:w.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:E.VOLUME,prefixes:w.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:E.VOLUME,prefixes:w.NONE,value:1e-6,offset:0},cup:{name:"cup",base:E.VOLUME,prefixes:w.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:E.VOLUME,prefixes:w.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:E.VOLUME,prefixes:w.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:E.VOLUME,prefixes:w.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:E.VOLUME,prefixes:w.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:E.VOLUME,prefixes:w.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:E.VOLUME,prefixes:w.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:E.VOLUME,prefixes:w.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:E.VOLUME,prefixes:w.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:E.VOLUME,prefixes:w.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:E.VOLUME,prefixes:w.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:E.VOLUME,prefixes:w.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:E.VOLUME,prefixes:w.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:E.VOLUME,prefixes:w.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:E.VOLUME,prefixes:w.NONE,value:.1173478,offset:0},obl:{name:"obl",base:E.VOLUME,prefixes:w.NONE,value:.1589873,offset:0},g:{name:"g",base:E.MASS,prefixes:w.SHORT,value:.001,offset:0},gram:{name:"gram",base:E.MASS,prefixes:w.LONG,value:.001,offset:0},ton:{name:"ton",base:E.MASS,prefixes:w.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:E.MASS,prefixes:w.SHORT,value:1e3,offset:0},grain:{name:"grain",base:E.MASS,prefixes:w.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:E.MASS,prefixes:w.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:E.MASS,prefixes:w.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:E.MASS,prefixes:w.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:E.MASS,prefixes:w.NONE,value:45.359237,offset:0},stick:{name:"stick",base:E.MASS,prefixes:w.NONE,value:.115,offset:0},stone:{name:"stone",base:E.MASS,prefixes:w.NONE,value:6350,offset:0},gr:{name:"gr",base:E.MASS,prefixes:w.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:E.MASS,prefixes:w.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:E.MASS,prefixes:w.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:E.MASS,prefixes:w.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:E.MASS,prefixes:w.NONE,value:45.359237,offset:0},s:{name:"s",base:E.TIME,prefixes:w.SHORT,value:1,offset:0},min:{name:"min",base:E.TIME,prefixes:w.NONE,value:60,offset:0},h:{name:"h",base:E.TIME,prefixes:w.NONE,value:3600,offset:0},second:{name:"second",base:E.TIME,prefixes:w.LONG,value:1,offset:0},sec:{name:"sec",base:E.TIME,prefixes:w.LONG,value:1,offset:0},minute:{name:"minute",base:E.TIME,prefixes:w.NONE,value:60,offset:0},hour:{name:"hour",base:E.TIME,prefixes:w.NONE,value:3600,offset:0},day:{name:"day",base:E.TIME,prefixes:w.NONE,value:86400,offset:0},rad:{name:"rad",base:E.ANGLE,prefixes:w.NONE,value:1,offset:0},deg:{name:"deg",base:E.ANGLE,prefixes:w.NONE,value:.017453292519943295,offset:0},grad:{name:"grad",base:E.ANGLE,prefixes:w.NONE,value:.015707963267948967,offset:0},cycle:{name:"cycle",base:E.ANGLE,prefixes:w.NONE,value:6.283185307179586,offset:0},A:{name:"A",base:E.CURRENT,prefixes:w.SHORT,value:1,offset:0},ampere:{name:"ampere",base:E.CURRENT,prefixes:w.LONG,value:1,offset:0},K:{name:"K",base:E.TEMPERATURE,prefixes:w.NONE,value:1,offset:0},degC:{name:"degC",base:E.TEMPERATURE,prefixes:w.NONE,value:1,offset:273.15},degF:{name:"degF",base:E.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:E.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:E.TEMPERATURE,prefixes:w.NONE,value:1,offset:0},celsius:{name:"celsius",base:E.TEMPERATURE,prefixes:w.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:E.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:E.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:E.AMOUNT_OF_SUBSTANCE,prefixes:w.NONE,value:1,offset:0},mole:{name:"mole",base:E.AMOUNT_OF_SUBSTANCE,prefixes:w.NONE,value:1,offset:0},cd:{name:"cd",base:E.LUMINOUS_INTENSITY,prefixes:w.NONE,value:1,offset:0},candela:{name:"candela",base:E.LUMINOUS_INTENSITY,prefixes:w.NONE,value:1,offset:0},N:{name:"N",base:E.FORCE,prefixes:w.SHORT,value:1,offset:0},newton:{name:"newton",base:E.FORCE,prefixes:w.LONG,value:1,offset:0},lbf:{name:"lbf",base:E.FORCE,prefixes:w.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:E.FORCE,prefixes:w.NONE,value:4.4482216152605,offset:0},b:{name:"b",base:E.BIT,prefixes:w.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:E.BIT,prefixes:w.BINARY_LONG,value:1,offset:0},B:{name:"B",base:E.BIT,prefixes:w.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:E.BIT,prefixes:w.BINARY_LONG,value:8,offset:0}},T={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",litres:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",seconds:"second",minutes:"minute",hours:"hour",days:"day",radians:"rad",degrees:"deg",gradients:"grad",cycles:"cycle",amperes:"ampere",moles:"mole"};for(var C in T)if(T.hasOwnProperty(C)){var M=S[T[C]],A=Object.create(M);A.name=C,S[C]=A}S.lt=S.l,S.liter=S.litre,S.liters=S.litres,S.lb=S.lbm,S.lbs=S.lbm,n.PREFIXES=w,n.BASE_UNITS=E,n.UNITS=S,e.exports=n},function(e,t,r){e.exports="1.7.0"},function(e,t,r){"use strict";t.ArgumentsError=r(22),t.DimensionError=r(13),t.IndexError=r(14),t.UnsupportedTypeError=r(23)},function(e,t,r){"use strict";function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.types=Array.prototype.splice.call(arguments,1),this.message=e?0==this.types.length?"Unsupported type of argument in function "+e:"Function "+e+"("+this.types.join(", ")+") not supported":"Unsupported type of argument",this.stack=(new Error).stack}n.prototype=new TypeError,n.prototype.constructor=TypeError,n.prototype.name="UnsupportedTypeError",e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e&&!o.isNumber(e))throw new TypeError("Parameter start must be a number");if(null!=t&&!o.isNumber(t))throw new TypeError("Parameter end must be a number");if(null!=r&&!o.isNumber(r))throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=t?parseFloat(t):0,this.step=null!=r?parseFloat(r):1}var i=r(17),o=i.number,a=i.string;i.array,n.parse=function(e){if(!a.isString(e))return null;var t=e.split(":"),r=t.map(function(e){return parseFloat(e)}),i=r.some(function(e){return isNaN(e)});if(i)return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.isRange=function(e){return e instanceof n},n.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end,i=n-t;return o.sign(r)==o.sign(i)?e=Math.ceil(i/r):0==i&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},n.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},n.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;n>t;)e(t,i,this),t+=r,i++;else if(0>r)for(;t>n;)e(t,i,this),t+=r,i++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,n,i){t[n]=e(r,n,i)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=o.format(this.start,e);return 1!=this.step&&(t+=":"+o.format(this.step,e)),t+=":"+o.format(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},e.exports=n},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._ranges=[],this._isScalar=!0;for(var t=0,r=arguments.length;r>t;t++){var o=arguments[t];if(o instanceof a)this._ranges.push(o),this._isScalar=!1;else if(c(o))this._ranges.push(i(o)),this._isScalar=!1;else if(u(o))this._ranges.push(i([o,o+1]));else{var s=o.valueOf();if(!c(s))throw new TypeError("Ranges must be an Array, Number, or Range");this._ranges.push(i(s)),this._isScalar=!1}}}function i(e){for(var t=e.length,r=0;t>r;r++)if(!u(e[r])||!l(e[r]))throw new TypeError("Index parameters must be integer numbers");switch(e.length){case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[1],e[2]);default:throw new SyntaxError("Wrong number of arguments in Index (2 or 3 expected)")}}var o=r(17),a=r(24),s=o.number,u=s.isNumber,l=s.isInteger,c=Array.isArray;n.prototype.clone=function(){var e=new n;return e._ranges=o.object.clone(this._ranges),e._isScalar=this._isScalar,e},n.isIndex=function(e){return e instanceof n},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t];e[t]=n.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t];e[t]=n.max()}return e},n.prototype.min=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t];e[t]=n.min()}return e},n.prototype.forEach=function(e){for(var t=0,r=this._ranges.length;r>t;t++)e(this._ranges[t],t,this)},n.prototype.range=function(e){return this._ranges[e]||null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t],i=[],o=n.start,a=n.end,s=n.step;if(s>0)for(;a>o;)i.push(o),o+=s;else if(0>s)for(;o>a;)i.push(o),o+=s;e.push(i)}return e},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t],i=s.format(n.start);1!=n.step&&(i+=":"+s.format(n.step)),i+=":"+s.format(n.end),e.push(i)}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",ranges:this._ranges}},n.fromJSON=function(e){return n.create(e.ranges)},e.exports=n},function(e,t,r){"use strict";var n=r(9),i=n.isString;e.exports=function(e){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.isMatrix=function(e){return e instanceof t},t.storage=function(e){if(!i(e))throw new TypeError("format must be a string value");var r=t._storage[e];if(!r)throw new SyntaxError("Unsupported matrix storage format: "+e);return r},t._storage={},t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t.prototype.transpose=function(){throw new Error("Cannot invoke transpose on a Matrix interface")},t.prototype.trace=function(){throw new Error("Cannot invoke transpose on a Matrix interface")},t.prototype.multiply=function(e){throw new Error("Cannot invoke multiply on a Matrix interface")},t}},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}var i=r(17),o=i.object,a=i.string;n.isHelp=function(e){return e instanceof n},n.prototype.toText=function(e){var t=this.doc||{},r="\n";if(t.name&&(r+="Name: "+t.name+"\n\n"),t.category&&(r+="Category: "+t.category+"\n\n"),t.description&&(r+="Description:\n    "+t.description+"\n\n"),t.syntax&&(r+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){var i=e&&e.parser();r+="Examples:\n";for(var o=0;o<t.examples.length;o++){var s=t.examples[o];if(r+="    "+s+"\n",i){var u;try{u=i.eval(s)}catch(l){u=l}void 0===u||u instanceof n||(r+="        "+a.format(u,{precision:14})+"\n")}}r+="\n"}return t.seealso&&(r+="See also: "+t.seealso.join(", ")+"\n"),r},n.prototype.toString=function(){return this.toText()},n.prototype.toJSON=function(){var e=o.clone(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};for(var r in e)"mathjs"!==r&&(t[r]=e[r]);return new n(t)},n.prototype.valueOf=n.prototype.toString,e.exports=n},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},e.exports=n},function(e,t,r){"use strict";var n=r(17),i=r(14),o=r(13),a=n.array,s=n.array.isArray;e.exports=function(e){function t(e,n,i){var o,a,u,l;if(0>=n){if(s(e[0])){for(l=r(e),a=[],o=0;o<l.length;o++)a[o]=t(l[o],n-1,i);return a}for(u=e[0],o=1;o<e.length;o++)u=i(u,e[o]);return u}for(a=[],o=0;o<e.length;o++)a[o]=t(e[o],n-1,i);return a}function r(e){var t,r,n=e.length,i=e[0].length,o=[];for(r=0;i>r;r++){var a=[];for(t=0;n>t;t++)a.push(e[t][r]);o.push(a)}return o}var u=e.type.Matrix,l={};return l.argsToArray=function(e){if(0===e.length)return[];if(1==e.length){var t=e[0];return t instanceof u&&(t=t.valueOf()),s(t)||(t=[t]),t}return n.array.argsToArray(e)},l.isCollection=function(e){return s(e)||e instanceof u},l.deepMap=function c(e,t,r){return e&&"function"==typeof e.map?e.map(function(e){return c(e,t,r)}):t(e)},l.deepMap2=function f(t,r,n){var i,a,l;if(s(t))if(s(r)){if(t.length!=r.length)throw new o(t.length,r.length);for(i=[],a=t.length,l=0;a>l;l++)i[l]=f(t[l],r[l],n)}else{if(r instanceof u)return i=f(t,r.valueOf(),n),e.matrix(i);for(i=[],a=t.length,l=0;a>l;l++)i[l]=f(t[l],r,n)}else{if(t instanceof u)return r instanceof u?(i=f(t.valueOf(),r.valueOf(),n),e.matrix(i)):(i=f(t.valueOf(),r,n),e.matrix(i));if(s(r))for(i=[],a=r.length,l=0;a>l;l++)i[l]=f(t,r[l],n);else{if(r instanceof u)return i=f(t,r.valueOf(),n),e.matrix(i);i=n(t,r)}}return i},l.reduce=function(r,n,o){var l=s(r)?a.size(r):r.size();if(0>n)throw new i(n);if(n>=l.length)throw new i(n,l.length);return r instanceof u?e.matrix(t(r.valueOf(),n,o)):t(r,n,o)},l.deepForEach=function p(e,t){e instanceof u&&(e=e.valueOf());for(var r=0,n=e.length;n>r;r++){var i=e[r];s(i)?p(i,t):t(i)}},l}},function(e,t,r){"use strict";var n=r(17),i=r(13),o=n.array,a=n.object,s=n.string,u=n.number,l=Array.isArray,c=n.number.isNumber,f=n.number.isInteger,p=o.validateIndex;e.exports=function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof d)"CcsMatrix"===e.type?(this._values=a.clone(e._values),this._index=a.clone(e._index),this._ptr=a.clone(e._ptr),this._size=a.clone(e._size)):g(this,e.valueOf());else if(e&&l(e.values)&&l(e.index)&&l(e.ptr)&&l(e.size))this._values=e.values,
this._index=e.index,this._ptr=e.ptr,this._size=e.size;else if(l(e))g(this,e);else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0]}}var r=e.type.Index,h=e.type.BigNumber,d=e.type.Matrix,g=function(t,r){t._values=[],t._index=[],t._ptr=[];var n=r.length,i=0;if(n>0){var o=0;do{t._ptr.push(t._values.length);for(var a=0;n>a;a++){var s=r[a];if(l(s)){if(0===o&&i<s.length&&(i=s.length),o<s.length){var u=s[o];e.equal(u,0)||(t._values.push(u),t._index.push(a))}}else 0===o&&1>i&&(i=1),e.equal(s,0)||(t._values.push(s),t._index.push(a))}o++}while(i>o)}t._ptr.push(t._values.length),t._size=[n,i]};t.prototype=new e.type.Matrix,t.prototype.type="CcsMatrix",t.prototype.storage=function(){return"ccs"},t.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return m(this,e);case 2:case 3:return v(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}};var m=function(e,t){if(!(t instanceof r))throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var o=t.size();if(o.length!=e._size.length)throw new i(o.length,e._size.length);for(var a=t.min(),s=t.max(),u=0,l=e._size.length;l>u;u++)p(a[u],e._size[u]),p(s[u],e._size[u]);var c=function(e){return e};return E(e,a[0],s[0],a[1],s[1],c,!1)},v=function(e,t,n,s){if(!(t instanceof r))throw new TypeError("Invalid index");var u,l=t.size(),c=t.isScalar();if(n instanceof d?(u=n.size(),n=n.toArray()):u=o.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");e.set(t.min(),n,s)}else{if(1!==l.length&&2!==l.length)throw new i(l.length,e._size.length,"<");if(u.length<l.length){for(var f=0,p=0;1===l[f]&&1===u[f];)f++;for(;1===l[f];)p++,f++;n=o.unsqueeze(n,l.length,p,u)}if(!a.deepEqual(l,u))throw new i(l,u,">");for(var h=t.min()[0],g=t.min()[1],m=u[0],v=u[1],y=0;m>y;y++)for(var x=0;v>x;x++){var w=n[y][x];e.set([y+h,x+g],w,s)}}return e};t.prototype.get=function(e){if(!l(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new i(e.length,this._size.length);var t=e[0],r=e[1];p(t,this._size[0]),p(r,this._size[1]);var n=y(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?a.clone(this._values[n]):0},t.prototype.set=function(t,r,n){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);var o=t[0],a=t[1],s=this._size[0],u=this._size[1];(o>s-1||a>u-1)&&(b(this,Math.max(o+1,s),Math.max(a+1,u),n),s=this._size[0],u=this._size[1]),p(o,s),p(a,u);var c=y(o,this._ptr[a],this._ptr[a+1],this._index);return c<this._ptr[a+1]&&this._index[c]===o?e.equal(r,0)?x(c,a,this._values,this._index,this._ptr):this._values[c]=r:w(c,o,a,r,this._values,this._index,this._ptr),this};var y=function(e,t,r,n){if(r-t===0||e>n[r-1])return r;for(;r>t;){var i=~~((t+r)/2),o=n[i];if(o>e)r=i;else{if(!(e>o))return i;t=i+1}}return t},x=function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--},w=function(e,t,r,n,i,o,a){i.splice(e,0,n),o.splice(e,0,t);for(var s=r+1;s<a.length;s++)a[s]++};t.prototype.resize=function(e,t,r){if(!l(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||0>t)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")});var n=r?this.clone():this;return b(n,e[0],e[1],t)};var b=function(t,r,n,i){var o,a,s,u=i||0,l=!e.equal(u,0),c=t._size[0],f=t._size[1];if(n>f){for(a=f;n>a;a++)if(t._ptr[a]=t._values.length,l)for(o=0;c>o;o++)t._values.push(u),t._index.push(o);t._ptr[n]=t._values.length}else f>n&&(t._ptr.splice(n+1,f-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(f=n,r>c){if(l){var p=0;for(a=0;f>a;a++){t._ptr[a]=t._ptr[a]+p,s=t._ptr[a+1]+p;var h=0;for(o=c;r>o;o++,h++)t._values.splice(s+h,0,u),t._index.splice(s+h,0,o),p++}t._ptr[f]=t._values.length}}else if(c>r){var d=0;for(a=0;f>a;a++){t._ptr[a]=t._ptr[a]-d;var g=t._ptr[a],m=t._ptr[a+1]-d;for(s=g;m>s;s++)o=t._index[s],o>r-1&&(t._values.splice(s,1),t._index.splice(s,1),d++)}t._ptr[a]=t._values.length}return t._size[0]=r,t._size[1]=n,t};t.prototype.clone=function(){var e=new t({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size)});return e},t.prototype.size=function(){return a.clone(this._size)},t.prototype.map=function(e,t){var r=this,n=this._size[0],i=this._size[1],o=function(t,n,i){return e(t,[n,i],r)};return E(this,0,n-1,0,i-1,o,t)};var E=function(r,n,i,o,a,s,u){for(var l=[],c=[],f=[],p=function(t,r,n){t=s(t,r,n),e.equal(t,0)||(l.push(t),c.push(r))},h=o;a>=h;h++){f.push(l.length);for(var d=r._ptr[h],g=r._ptr[h+1],m=n,v=d;g>v;v++){var y=r._index[v];if(y>=n&&i>=y){if(!u)for(var x=m;y>x;x++)p(0,x-n,h-o);p(r._values[v],y-n,h-o)}m=y+1}if(!u)for(var w=m;i>=w;w++)p(0,w-n,h-o)}return f.push(l.length),new t({values:l,index:c,ptr:f,size:[i-n+1,a-o+1]})};t.prototype.forEach=function(e,t){for(var r=this,n=this._size[0],i=this._size[1],o=0;i>o;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,l=a;s>l;l++){var c=this._index[l];if(!t)for(var f=u;c>f;f++)e(0,[f,o],r);e(this._values[l],[c,o],r),u=c+1}if(!t)for(var p=u;n>p;p++)e(0,[p,o],r)}},t.prototype.toArray=function(){return _(this,!0)},t.prototype.valueOf=function(){return _(this,!1)};var _=function(e,t){for(var r=[],n=e._size[0],i=e._size[1],o=0;i>o;o++){for(var s=e._ptr[o],u=e._ptr[o+1],l=0,c=s;u>c;c++){for(var f=e._index[c],p=l;f>p;p++)(r[p]=r[p]||[])[o]=0;(r[f]=r[f]||[])[o]=t?a.clone(e._values[c]):e._values[c],l=f+1}for(var h=l;n>h;h++)(r[h]=r[h]||[])[o]=0}return r};t.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n="CCS ["+s.format(t,e)+" x "+s.format(r,e)+"] density: "+s.format(this._values.length/(t*r),e)+"\n",i=0;r>i;i++)for(var o=this._ptr[i],a=this._ptr[i+1],u=o;a>u;u++){var l=this._index[u];n+="\n    ("+s.format(l,e)+", "+s.format(i,e)+") ==> "+s.format(this._values[u],e)}return n},t.prototype.toString=function(){return s.format(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"CcsMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size}},t.prototype.transpose=function(){var t=this._size[0],r=this._size[1];if(0===r)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+s.format(this._size)+")");return new e.type.CrsMatrix({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:[r,t]})},t.prototype.diagonal=function(e){if(e){if(e instanceof h&&(e=e.toNumber()),!c(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=0>e?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),s=[],u=t;i>u&&s.length<o;u++){for(var l=this._ptr[u],p=this._ptr[u+1],d=!1,g=l;p>g;g++){var m=this._index[g];if(m===u-t+r){d=!0,s.push(a.clone(this._values[g]));break}if(m>u-t+r)break}!d&&s.length<o&&s.push(0)}return s},t.fromJSON=function(e){return new t(e)},t.diagonal=function(r,n,i){if(!l(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map(function(e){if(e instanceof h&&(e=e.toNumber()),!c(e)||!f(e)||1>e)throw new Error("Size values must be positive integers");return e}),i){if(i instanceof h&&(i=i.toNumber()),!c(i)||!f(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var o,a=i>0?i:0,s=0>i?-i:0,u=r[0],p=r[1],d=Math.min(u-s,p-a);if(l(n)){if(n.length!==d)throw new Error("Invalid value array length");o=function(e){return n[e]}}else o=function(){return n};for(var g=[],m=[],v=[],y=0;p>y;y++){v.push(g.length);var x=y-a;if(x>=0&&d>x){var w=o(x);e.equal(w,0)||(m.push(x+s),g.push(w))}}return v.push(g.length),new t({values:g,index:m,ptr:v,size:[u,p]})},t.prototype.trace=function(){var t=this._size,r=t[0],n=t[1];if(r===n){var i=0;if(this._values.length>0)for(var o=0;n>o;o++)for(var a=this._ptr[o],u=this._ptr[o+1],l=a;u>l;l++){var c=this._index[l];if(c===o){i=e.add(i,this._values[l]);break}if(c>o)break}return i}throw new RangeError("Matrix must be square (size: "+s.format(t)+")")},t.prototype.multiply=function(t){var r=this._size[0],n=this._size[1];if(t instanceof d){var i=t.size();if(1===i.length)return N(this,i[0],1,function(e){return t.get([e])});if(2===i.length)return N(this,i[0],i[1],function(e,r){return t.get([e,r])});throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+i.length+" dimensions)")}if(l(t)){var a=o.size(t);if(1===a.length)return N(this,a[0],1,function(e){return t[e]});if(2===a.length)return N(this,a[0],a[1],function(e,r){return t[e][r]});throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+a.length+" dimensions)")}var s=function(r){return e.multiply(r,t)};return E(this,0,r-1,0,n-1,s,!1)};var N=function(r,n,i,o){var a=r._size[0],s=r._size[1];if(s!==n)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+a+"x"+s+", B is "+n+", "+s+" != "+n+")");for(var u=[],l=[],c=[],f=[],p=0;a>p;p++)f[p]=0;for(var h=0;i>h;h++){c.push(u.length);for(var d=0;s>d;d++)for(var g=r._ptr[d],m=r._ptr[d+1],v=g;m>v;v++){var y=r._index[v];f[y]=e.add(f[y],e.multiply(r._values[v],o(d,h)))}for(var x=0;a>x;x++)e.equal(f[x],0)||(u.push(f[x]),l.push(x)),f[x]=0}return c.push(u.length),1===a&&1===i?1===u.length?u[0]:0:new t({values:u,index:l,ptr:c,size:[a,i]})};return t}},function(e,t,r){"use strict";var n=r(17),i=r(13),o=n.array,a=n.object,s=n.string,u=n.number,l=Array.isArray,c=n.number.isNumber,f=n.number.isInteger,p=o.validateIndex;e.exports=function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof d)"CrsMatrix"===e.type?(this._values=a.clone(e._values),this._index=a.clone(e._index),this._ptr=a.clone(e._ptr),this._size=a.clone(e._size)):g(this,e.valueOf());else if(e&&l(e.values)&&l(e.index)&&l(e.ptr)&&l(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size;else if(l(e))g(this,e);else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0]}}var r=e.type.Index,h=e.type.BigNumber,d=e.type.Matrix,g=function(t,r){t._values=[],t._index=[],t._ptr=[];for(var n=r.length,i=0,o=0;n>o;o++){t._ptr.push(t._values.length);var a=r[o];if(l(a)){a.length>i&&(i=a.length);for(var s=0;s<a.length;s++){var u=a[s];e.equal(u,0)||(t._values.push(u),t._index.push(s))}}else 0===o&&1>i&&(i=1),e.equal(a,0)||(t._values.push(a),t._index.push(0))}t._ptr.push(t._values.length),t._size=[n,i]};t.prototype=new e.type.Matrix,t.prototype.type="CrsMatrix",t.prototype.storage=function(){return"crs"},t.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return m(this,e);case 2:case 3:return v(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}};var m=function(e,t){if(!(t instanceof r))throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var o=t.size();if(o.length!=e._size.length)throw new i(o.length,e._size.length);for(var a=t.min(),s=t.max(),u=0,l=e._size.length;l>u;u++)p(a[u],e._size[u]),p(s[u],e._size[u]);var c=function(e){return e};return E(e,a[0],s[0],a[1],s[1],c,!1)},v=function(e,t,n,s){if(!(t instanceof r))throw new TypeError("Invalid index");var u,l=t.size(),c=t.isScalar();if(n instanceof d?(u=n.size(),n=n.toArray()):u=o.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");e.set(t.min(),n,s)}else{if(1!==l.length&&2!==l.length)throw new i(l.length,e._size.length,"<");if(u.length<l.length){for(var f=0,p=0;1===l[f]&&1===u[f];)f++;for(;1===l[f];)p++,f++;n=o.unsqueeze(n,l.length,p,u)}if(!a.deepEqual(l,u))throw new i(l,u,">");for(var h=t.min()[0],g=t.min()[1],m=u[0],v=u[1],y=0;m>y;y++)for(var x=0;v>x;x++){var w=n[y][x];e.set([y+h,x+g],w,s)}}return e};t.prototype.get=function(e){if(!l(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new i(e.length,this._size.length);var t=e[0],r=e[1];p(t,this._size[0]),p(r,this._size[1]);var n=y(r,this._ptr[t],this._ptr[t+1],this._index);return n<this._ptr[t+1]&&this._index[n]===r?a.clone(this._values[n]):0},t.prototype.set=function(t,r,n){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);var o=t[0],a=t[1],s=this._size[0],u=this._size[1];(o>s-1||a>u-1)&&(b(this,Math.max(o+1,s),Math.max(a+1,u),n),s=this._size[0],u=this._size[1]),p(o,s),p(a,u);var c=y(a,this._ptr[o],this._ptr[o+1],this._index);return c<this._ptr[o+1]&&this._index[c]===a?e.equal(r,0)?x(c,o,this._values,this._index,this._ptr):this._values[c]=r:w(c,o,a,r,this._values,this._index,this._ptr),this};var y=function(e,t,r,n){if(r-t===0||e>n[r-1])return r;for(;r>t;){var i=~~((t+r)/2),o=n[i];if(o>e)r=i;else{if(!(e>o))return i;t=i+1}}return t},x=function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--},w=function(e,t,r,n,i,o,a){i.splice(e,0,n),o.splice(e,0,r);for(var s=t+1;s<a.length;s++)a[s]++};t.prototype.resize=function(e,t,r){if(!l(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||0>t)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")});var n=r?this.clone():this;return b(n,e[0],e[1],t)};var b=function(t,r,n,i){var o,a,s,u=i||0,l=!e.equal(u,0),c=t._size[0],f=t._size[1];if(r>c){for(o=c;r>o;o++)if(t._ptr[o]=t._values.length,l)for(a=0;f>a;a++)t._values.push(u),t._index.push(a);t._ptr[r]=t._values.length}else c>r&&(t._ptr.splice(r+1,c-r),t._values.splice(t._ptr[r],t._values.length),t._index.splice(t._ptr[r],t._index.length));if(c=r,n>f){if(l){var p=0;for(o=0;c>o;o++){t._ptr[o]=t._ptr[o]+p,s=t._ptr[o+1]+p;var h=0;for(a=f;n>a;a++,h++)t._values.splice(s+h,0,u),t._index.splice(s+h,0,a),p++}t._ptr[c]=t._values.length}}else if(f>n){var d=0;for(o=0;c>o;o++){t._ptr[o]=t._ptr[o]-d;var g=t._ptr[o],m=t._ptr[o+1]-d;for(s=g;m>s;s++)a=t._index[s],a>n-1&&(t._values.splice(s,1),t._index.splice(s,1),d++)}t._ptr[o]=t._values.length}return t._size[0]=r,t._size[1]=n,t};t.prototype.clone=function(){var e=new t({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size)});return e},t.prototype.size=function(){return a.clone(this._size)},t.prototype.map=function(e,t){var r=this,n=this._size[0],i=this._size[1],o=function(t,n,i){return e(t,[n,i],r)};return E(this,0,n-1,0,i-1,o,t)};var E=function(r,n,i,o,a,s,u){for(var l=[],c=[],f=[],p=function(t,r,n){t=s(t,r,n),e.equal(t,0)||(l.push(t),c.push(n))},h=n;i>=h;h++){f.push(l.length);for(var d=r._ptr[h],g=r._ptr[h+1],m=o,v=d;g>v;v++){var y=r._index[v];if(y>=o&&a>=y){if(!u)for(var x=m;y>x;x++)p(0,h-n,x-o);p(r._values[v],h-n,y-o)}m=y+1}if(!u)for(var w=m;a>=w;w++)p(0,h-n,w-o)}return f.push(l.length),new t({values:l,index:c,ptr:f,size:[i-n+1,a-o+1]})};t.prototype.forEach=function(e,t){for(var r=this,n=this._size[0],i=this._size[1],o=0;n>o;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,l=a;s>l;l++){var c=this._index[l];if(!t)for(var f=u;c>f;f++)e(0,[o,f],r);e(this._values[l],[o,c],r),u=c+1}if(!t)for(var p=u;i>p;p++)e(0,[o,p],r)}},t.prototype.toArray=function(){return _(this,!0)},t.prototype.valueOf=function(){return _(this,!1)};var _=function(e,t){for(var r=[],n=e._size[0],i=e._size[1],o=0;n>o;o++){for(var s=r[o]=[],u=e._ptr[o],l=e._ptr[o+1],c=0,f=u;l>f;f++){for(var p=e._index[f],h=c;p>h;h++)s[h]=0;s[p]=t?a.clone(e._values[f]):e._values[f],c=p+1}for(var d=c;i>d;d++)s[d]=0}return r};t.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n="CRS ["+s.format(t,e)+" x "+s.format(r,e)+"] density: "+s.format(this._values.length/(t*r),e)+"\n",i=0;t>i;i++)for(var o=this._ptr[i],a=this._ptr[i+1],u=o;a>u;u++){var l=this._index[u];n+="\n    ("+s.format(i,e)+", "+s.format(l,e)+") ==> "+s.format(this._values[u],e)}return n},t.prototype.toString=function(){return s.format(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"CrsMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size}},t.prototype.transpose=function(){var t=this._size[0],r=this._size[1];if(0===r)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+s.format(this._size)+")");return new e.type.CcsMatrix({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:[r,t]})},t.prototype.diagonal=function(e){if(e){if(e instanceof h&&(e=e.toNumber()),!c(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=0>e?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),s=[],u=r;n>u&&s.length<o;u++){for(var l=this._ptr[u],p=this._ptr[u+1],d=!1,g=l;p>g;g++){var m=this._index[g];if(m===u+t-r){d=!0,s.push(a.clone(this._values[g]));break}if(m>u+t-r)break}!d&&s.length<o&&s.push(0)}return s},t.fromJSON=function(e){return new t(e)},t.diagonal=function(r,n,i){if(!l(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map(function(e){if(e instanceof h&&(e=e.toNumber()),!c(e)||!f(e)||1>e)throw new Error("Size values must be positive integers");return e}),i){if(i instanceof h&&(i=i.toNumber()),!c(i)||!f(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var o,a=i>0?i:0,s=0>i?-i:0,u=r[0],p=r[1],d=Math.min(u-s,p-a);if(l(n)){if(n.length!==d)throw new Error("Invalid value array length");o=function(e){return n[e]}}else o=function(){return n};for(var g=[],m=[],v=[],y=0;u>y;y++){v.push(g.length);var x=y-s;if(x>=0&&d>x){var w=o(x);e.equal(w,0)||(m.push(x+a),g.push(w))}}return v.push(g.length),new t({values:g,index:m,ptr:v,size:[u,p]})},t.prototype.trace=function(){var t=this._size,r=t[0],n=t[1];if(r===n){var i=0;if(this._values.length>0)for(var o=0;r>o;o++)for(var a=this._ptr[o],u=this._ptr[o+1],l=a;u>l;l++){var c=this._index[l];if(o===c){i=e.add(i,this._values[l]);break}if(c>o)break}return i}throw new RangeError("Matrix must be square (size: "+s.format(t)+")")},t.prototype.multiply=function(t){var r=this._size[0],n=this._size[1];if(t instanceof d){var i=t.size();if(1===i.length)return N(this,i[0],1,function(e){return t.get([e])});if(2===i.length)return N(this,i[0],i[1],function(e,r){return t.get([e,r])});throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+i.length+" dimensions)")}if(l(t)){var a=o.size(t);if(1===a.length)return N(this,a[0],1,function(e){return t[e]});if(2===a.length)return N(this,a[0],a[1],function(e,r){return t[e][r]});throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+a.length+" dimensions)")}var s=function(r){return e.multiply(r,t)};return E(this,0,r-1,0,n-1,s,!1)};var N=function(r,n,i,o){var a=r._size[0],s=r._size[1];if(s!==n)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+a+"x"+s+", B is "+n+", "+s+" != "+n+")");for(var u=[],l=[],c=[],f=0;a>f;f++){c.push(u.length);for(var p=r._ptr[f],h=r._ptr[f+1],d=0;i>d;d++){for(var g=0,m=p;h>m;m++){var v=r._index[m];g=e.add(g,e.multiply(r._values[m],o(v,d)))}e.equal(g,0)||(u.push(g),l.push(d))}}return c.push(u.length),1===a&&1===i?1===u.length?u[0]:0:new t({values:u,index:l,ptr:c,size:[a,i]})};return t}},function(e,t,r){"use strict";var n=r(17),i=r(13),o=n.string,a=n.array,s=n.object,u=Array.isArray,l=n.number.isNumber,c=n.number.isInteger,f=a.validateIndex;e.exports=function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof x)"DenseMatrix"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size)):(this._data=e.toArray(),this._size=e.size());else if(e&&u(e.data)&&u(e.size))this._data=e.data,this._size=e.size;else if(u(e))this._data=m(e),this._size=a.size(this._data);else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._data=[],this._size=[0]}}function r(e,r){if(!(r instanceof v))throw new TypeError("Invalid index");var n=r.isScalar();if(n)return e.get(r.min());var o=r.size();if(o.length!=e._size.length)throw new i(o.length,e._size.length);for(var a=r.min(),s=r.max(),u=0,l=e._size.length;l>u;u++)f(a[u],e._size[u]),f(s[u],e._size[u]);return new t(p(e._data,r,o.length,0))}function p(e,t,r,n){var i=n==r-1,o=t.range(n);return o.map(i?function(t){return e[t]}:function(i){var o=e[i];return p(o,t,r,n+1)})}function h(t,r,n,o){if(!(r instanceof v))throw new TypeError("Invalid index");var u,l=r.size(),c=r.isScalar();if(n instanceof e.type.Matrix?(u=n.size(),n=n.valueOf()):u=a.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");t.set(r.min(),n,o)}else{if(l.length<t._size.length)throw new i(l.length,t._size.length,"<");if(u.length<l.length){for(var f=0,p=0;1===l[f]&&1===u[f];)f++;for(;1===l[f];)p++,f++;n=a.unsqueeze(n,l.length,p,u)}if(!s.deepEqual(l,u))throw new i(l,u,">");var h=r.max().map(function(e){return e+1});g(t,h,o);var m=l.length,y=0;d(t._data,r,n,m,y)}return t}function d(e,t,r,n,i){var o=i==n-1,a=t.range(i);a.forEach(o?function(t,n){f(t),e[t]=r[n]}:function(o,a){f(o),d(e[o],t,r[a],n,i+1)})}function g(e,t,r){for(var n=s.clone(e._size),i=!1;n.length<t.length;)n.push(0),i=!0;for(var o=0,a=t.length;a>o;o++)t[o]>n[o]&&(n[o]=t[o],i=!0);i&&w(e,n,r)}function m(t){for(var r=0,n=t.length;n>r;r++){var i=t[r];u(i)?t[r]=m(i):i instanceof e.type.Matrix&&(t[r]=m(i.valueOf()))}return t}var v=e.type.Index,y=e.type.BigNumber,x=e.type.Matrix;t.prototype=new e.type.Matrix,t.prototype.type="DenseMatrix",t.prototype.storage=function(){return"dense"},t.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return r(this,e);case 2:case 3:return h(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(e){if(!u(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new i(e.length,this._size.length);for(var t=0;t<e.length;t++)f(e[t],this._size[t]);for(var r=this._data,n=0,o=e.length;o>n;n++){var a=e[n];f(a,r.length),r=r[a]}return s.clone(r)},t.prototype.set=function(e,t,r){if(!u(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new i(e.length,this._size.length,"<");var n,o,a,s=e.map(function(e){return e+1});g(this,s,r);var l=this._data;for(n=0,o=e.length-1;o>n;n++)a=e[n],f(a,l.length),l=l[a];return a=e[e.length-1],f(a,l.length),l[a]=t,this},t.prototype.resize=function(e,t,r){if(!u(e))throw new TypeError("Array expected");var n=r?this.clone():this;return w(n,e,t)};var w=function(e,t,r){if(0===t.length){for(var n=e._data;u(n);)n=n[0];return s.clone(n)}return e._size=s.clone(t),e._data=a.resize(e._data,e._size,r),e};t.prototype.clone=function(){var e=new t({data:s.clone(this._data),size:s.clone(this._size)});return e},t.prototype.size=function(){return this._size},t.prototype.map=function(e){var r=this,n=function(t,i){return u(t)?t.map(function(e,t){return n(e,i.concat(t))}):e(t,i,r)};return new t({data:n(this._data,[]),size:s.clone(this._size)})},t.prototype.forEach=function(e){var t=this,r=function(n,i){u(n)?n.forEach(function(e,t){r(e,i.concat(t))}):e(n,i,t)};r(this._data,[])},t.prototype.toArray=function(){return s.clone(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(e){return o.format(this._data,e)},t.prototype.toString=function(){return o.format(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size}},t.prototype.transpose=function(){switch(this._size.length){case 1:return this.clone();case 2:var e=this._size[0],r=this._size[1];if(0===r)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o.format(this._size)+")");for(var n,i=[],a=0;r>a;a++){n=i[a]=[];for(var u=0;e>u;u++)n[u]=s.clone(this._data[u][a])}return new t({data:i,size:[r,e]});default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(this._size)+")")}},t.prototype.diagonal=function(e){if(e){if(e instanceof y&&(e=e.toNumber()),!l(e)||!c(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=0>e?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),a=[],u=0;o>u;u++)a[u]=s.clone(this._data[u+r][u+t]);return a},t.diagonal=function(e,r,n,i){if(!u(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(e instanceof y&&(e=e.toNumber()),!l(e)||!c(e)||1>e)throw new Error("Size values must be positive integers");return e}),n){if(n instanceof y&&(n=n.toNumber()),!l(n)||!c(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o,s=n>0?n:0,f=0>n?-n:0,p=e[0],h=e[1],d=Math.min(p-f,h-s);if(u(r)){if(r.length!==d)throw new Error("Invalid value array length");o=function(e){return r[e]}}else o=function(){return r};var g=[];if(e.length>0){g=a.resize(g,e,i);for(var m=0;d>m;m++)g[m+f][m+s]=o(m)}return new t({data:g,size:[p,h]})},t.prototype.trace=function(){var t=this._size,r=this._data;switch(t.length){case 1:if(1==t[0])return s.clone(r[0]);throw new RangeError("Matrix must be square (size: "+o.format(t)+")");case 2:var n=t[0],i=t[1];if(n===i){for(var a=0,u=0;n>u;u++)a=e.add(a,r[u][u]);return a}throw new RangeError("Matrix must be square (size: "+o.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(t)+")")}},t.fromJSON=function(e){return new t(e)},t.prototype.multiply=function(e){switch(this._size.length){case 1:return b(this,this._size[0],e);case 2:return N(this,this._size[0],this._size[1],e);default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (matrix has "+this._size.length+" dimensions)")}};var b=function(t,r,n){if(n instanceof x){var i=n.size();if(1===i.length){if(i[0]!==r)throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length.");return E(t,r,function(e){return n.get([e])})}if(2===i.length){if(i[0]!==r)throw new RangeError("Dimension mismatch in multiplication. Matrix rows and Vector length must be equal.");return _(t,r,i[1],function(e,t){return n.get([e,t])})}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+i.length+" dimensions)")}if(u(n)){var o=a.size(n);if(1===o.length){if(o[0]!==r)throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length.");return E(t,r,function(e){return n[e]})}if(2===o.length){if(o[0]!==r)throw new RangeError("Dimension mismatch in multiplication. Matrix rows and Vector length must be equal.");return _(t,r,o[1],function(e,t){return n[e][t]})}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+o.length+" dimensions)")}return t.map(function(t){return e.multiply(n,t)})},E=function(t,r,n){if(0===r)throw new Error("Cannot multiply two empty vectors");for(var i=0,o=0;r>o;o++)i=e.add(i,e.multiply(t._data[o],n(o)));return i},_=function(r,n,i,o){for(var a=[],s=0;i>s;s++){for(var u=0,l=0;n>l;l++)u=e.add(u,e.multiply(r._data[l],o(l,s)));a[s]=u}return 1===i?a[0]:new t({data:a,size:[i]})},N=function(t,r,n,i){if(i instanceof x){var o=i.size();if(1===o.length){if(o[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Matrix columns must match vector length.");return S(t,r,n,function(e){return i.get([e])})}if(2===o.length){if(o[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+r+"x"+n+", B is "+o[0]+", "+n+" != "+o[0]+")");return T(t,r,n,o[1],function(e,t){return i.get([e,t])})}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+o.length+" dimensions)")}if(u(i)){var s=a.size(i);if(1===s.length){if(s[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Matrix columns must match vector length.");return S(t,r,n,function(e){return i[e]})}if(2===s.length){if(s[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+r+"x"+n+", B is "+s[0]+", "+n+" != "+s[0]+")");return T(t,r,n,s[1],function(e,t){return i[e][t]})}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+s.length+" dimensions)")}return t.map(function(t){return e.multiply(i,t)})},S=function(r,n,i,o){for(var a=[],s=0;n>s;s++){for(var u=r._data[s],l=0,c=0;i>c;c++)l=e.add(l,e.multiply(u[c],o(c)));a[s]=l}return 1===n?a[0]:new t({data:a,size:[n]})},T=function(r,n,i,o,a){for(var s=[],u=0;n>u;u++){var l=r._data[u];s[u]=[];for(var c=0;o>c;c++){for(var f=0,p=0;i>p;p++)f=e.add(f,e.multiply(l[p],a(p,c)));s[u][c]=f}}return 1===n&&1===o?s[0][0]:new t({data:s,size:[n,o]})};return t}},function(e,t,r){"use strict";t.ArrayNode=r(34),t.AssignmentNode=r(37),t.BlockNode=r(40),t.ConditionalNode=r(41),t.ConstantNode=r(42),t.IndexNode=r(43),t.FunctionAssignmentNode=r(46),t.FunctionNode=r(47),t.Node=r(35),t.OperatorNode=r(48),t.RangeNode=r(44),t.SymbolNode=r(45),t.UpdateNode=r(49)},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.nodes=e||[],!a(this.nodes)||!this.nodes.every(s))throw new TypeError("Array containing Nodes expected")}var i=r(35),o=r(9),a=Array.isArray,s=i.isNode;n.prototype=new i,n.prototype.type="ArrayNode",n.prototype._compile=function(e){var t="array"!==e.math.config().matrix,r=this.nodes.map(function(t){return t._compile(e)});return(t?"math.matrix([":"[")+r.join(",")+(t?"])":"]")},n.prototype.forEach=function(e){for(var t=0;t<this.nodes.length;t++){var r=this.nodes[t];e(r,"nodes["+t+"]",this)}},n.prototype.map=function(e){for(var t=[],r=0;r<this.nodes.length;r++)t[r]=this._ifNode(e(this.nodes[r],"nodes["+r+"]",this));return new n(t)},n.prototype.clone=function(){return new n(this.nodes.slice(0))},n.prototype.toString=function(){return o.format(this.nodes)},n.prototype._toTex=function(e){this.latexType=this.latexType||"bmatrix";var t="\\begin{"+this.latexType+"}";return this.nodes.forEach(function(r){t+=r.nodes?r.nodes.map(function(t){return t.toTex(e)}).join("&"):r.toTex(e),t+="\\\\"}),t+="\\end{"+this.latexType+"}"},e.exports=n},function(e,t,r){"use strict";function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}function i(e){for(var t in e)if(e.hasOwnProperty(t)&&t in a)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}function o(e){var t=Object.create(e);if(e.expression&&e.expression.transform)for(var r in e.expression.transform)e.expression.transform.hasOwnProperty(r)&&(t[r]=e.expression.transform[r]);return t}var a=r(36);n.prototype.eval=function(){throw new Error("Node.eval is deprecated. Use Node.compile(math).eval([scope]) instead.")},n.prototype.type="Node",n.prototype.compile=function(e){if(!(e instanceof Object))throw new TypeError("Object expected for parameter math");var t={math:o(e),args:{},_validateScope:i},r=this._compile(t),n=Object.keys(t).map(function(e){return"    var "+e+' = defs["'+e+'"];'}),a=n.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+r+";  }};",s=new Function("defs",a);return s(t)},n.prototype._compile=function(e){throw new Error("Cannot compile a Node interface")},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!(e instanceof n))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){function t(e,r){e.forEach(function(e,n,i){r(e,n,i),t(e,r)})}e(this,null,null),t(this,e)},n.prototype.transform=function(e){function t(e,r){return e.map(function(e,n,i){var o=r(e,n,i);return t(o,r)})}var r=e(this,null,null);return t(r,e)},n.prototype.filter=function(e){var t=[];return this.traverse(function(r,n,i){
e(r,n,i)&&t.push(r)}),t},n.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},n.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.toString=function(){return""},n.prototype.toTex=function(e){var t;if("ArrayNode"===this.type&&delete this.latexType,"object"==typeof e)"FunctionNode"===this.type&&e.hasOwnProperty(this.name)&&(t=e[this.name](this,e));else if("function"==typeof e)t=e(this,e);else if("string"==typeof e&&"ArrayNode"===this.type)this.latexType=e;else if("undefined"!=typeof e)throw new TypeError("Object or function expected as callback");return"undefined"!=typeof t?t:this._toTex(e)},n.prototype._toTex=function(){if("Node"===this.type)return"";throw new Error("_toTex not implemented for this Node")},n.prototype.getIdentifier=function(){return this.type},n.isNode=function(e){return e instanceof n},e.exports=n},function(e,t,r){"use strict";e.exports={end:!0}},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!u(e))throw new TypeError('String expected for parameter "name"');if(!(t instanceof i))throw new TypeError('Node expected for parameter "expr"');if(e in o)throw new Error('Illegal symbol name, "'+e+'" is a reserved keyword');this.name=e,this.expr=t}var i=r(35),o=(r(34),r(36)),a=r(38),s=r(39),u=r(9).isString;n.prototype=new i,n.prototype.type="AssignmentNode",n.prototype._compile=function(e){return'scope["'+this.name+'"] = '+this.expr._compile(e)},n.prototype.forEach=function(e){e(this.expr,"expr",this)},n.prototype.map=function(e){return new n(this.name,this._ifNode(e(this.expr,"expr",this)))},n.prototype.clone=function(){return new n(this.name,this.expr)},n.prototype.toString=function(){var e=a.getPrecedence(this),t=a.getPrecedence(this.expr),r=this.expr.toString();return null!==t&&e>=t&&(r="("+r+")"),this.name+" = "+r},n.prototype._toTex=function(e){var t=a.getPrecedence(this),r=a.getPrecedence(this.expr),n=this.expr.toTex(e);return null!==r&&t>=r&&(n="\\left("+n+"\\right)"),s.toSymbol(this.name)+":="+n},e.exports=n},function(e,t,r){"use strict";function n(e){for(var t=e.getIdentifier(),r=0;r<a.length;r++)if(t in a[r])return r;return null}function i(e){var t=e.getIdentifier(),r=n(e);if(null===r)return null;var i=a[r][t];if(i.hasOwnProperty("associativity")){if("left"===i.associativity)return"left";if("right"===i.associativity)return"right";throw Error("'"+t+"' has the invalid associativity '"+i.associativity+"'.")}return null}function o(e,t){var r=e.getIdentifier(),i=t.getIdentifier(),o=n(e);if(null===o)return null;var s=a[o][r];if(s.hasOwnProperty("associativeWith")&&s.associativeWith instanceof Array){for(var u=0;u<s.associativeWith.length;u++)if(s.associativeWith[u]===i)return!0;return!1}return null}var a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];e.exports.properties=a,e.exports.getPrecedence=n,e.exports.getAssociativity=i,e.exports.isAssociativeWith=o},function(e,t,r){"use strict";function n(e,t,r){return e=e.replace(/%name%/g,t),r.forEach(function(t,r){e=e.replace(RegExp("%"+r+"%","g"),t)}),e=e.replace("%*%",r.map(function(e){return e}).join(",")),e=e.replace("%%","%")}t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"};var i="\\mathrm{%name%}\\left(%*%\\right)",o={abs:"\\left|%0%\\right|",add:"\\left(%0%+%1%\\right)",ceil:"\\left\\lceil%0%\\right\\rceil",cube:"\\left(%0%\\right)^3",divide:"\\frac{%0%}{%1%}",dotDivide:"\\left(%0%"+t.operators.dotDivide+"%1%\\right)",dotMultiply:"\\left(%0%"+t.operators.dotMultiply+"%1%\\right)",dotPow:"\\left(%0%"+t.operators.dotPow+"%1%\\right)",exp:"\\exp\\left(%0%\\right)",fix:i,floor:"\\left\\lfloor%0%\\right\\rfloor",gcd:"\\gcd\\left(%*%\\right)",lcm:i,log10:"\\log_{10}\\left(%0%\\right)",log:{1:"\\ln\\left(%0%\\right)",2:"\\log_{%1%}\\left(%0%\\right)"},mod:"\\left(%0%"+t.operators.mod+"%1%\\right)",multiply:"\\left(%0%"+t.operators.multiply+"%1%\\right)",norm:{1:"\\left\\|%0%\\right\\|",2:i},nthRoot:"\\sqrt[%1%]{%0%}",pow:"\\left(%0%\\right)"+t.operators.pow+"{%1%}",round:{1:"\\left\\lfloor%0%\\right\\rceil",2:i},sign:i,sqrt:"\\sqrt{%0%}",square:"\\left(%0%\\right)^2",subtract:"\\left(%0%"+t.operators.subtract+"%1%\\right)",unaryMinus:t.operators.unaryMinus+"\\left(%0%\\right)",unaryPlus:t.operators.unaryPlus+"\\left(%0%\\right)",xgcd:i,bitAnd:"\\left(%0%"+t.operators.bitAnd+"%1%\\right)",bitOr:"\\left(%0%"+t.operators.bitOr+"%1%\\right)",bitXor:"\\left(%0%"+t.operators.bitXor+"%1%\\right)",bitNot:t.operators.bitNot+"\\left(%0%\\right)",leftShift:"\\left(%0%"+t.operators.leftShift+"%1%\\right)",rightArithShift:"\\left(%0%"+t.operators.rightArithShift+"%1%\\right)",rightLogShift:"\\left(%0%"+t.operators.rightLogShift+"%1%\\right)",arg:"\\arg\\left(%0%\\right)",conj:"\\left(%0%\\right)^*",im:"\\Im\\left\\lbrace%0%\\right\\rbrace",re:"\\Re\\left\\lbrace%0%\\right\\rbrace",stirlingS2:"\\mathrm{S}\\left(%0%,%1%\\right)",bellNumbers:"\\mathrm{B}_{%0%}",composition:i,bignumber:{0:"0",1:"\\left(%0%\\right)"},"boolean":i,chain:i,complex:{0:"0",1:"\\left(%0%\\right)",2:"\\left(\\left(%0%\\right)+"+t.symbols.i+"\\cdot\\left(%1%\\right)\\right)"},index:i,matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(%0%\\right)",2:"\\left(%0%\\right)"},number:{0:"0",1:"\\left(%0%\\right)",2:"\\left(\\left(%0%\\right)%1%\\right)"},parser:i,string:{0:'""',1:function(e){return'"'+e.args[0].toString()+'"'}},unit:{1:"\\left(%0%\\right)",2:"\\left(\\left(%0%\\right)%1%\\right)"},compile:i,eval:i,help:i,parse:i,and:"\\left(%0%"+t.operators.and+"%1%\\right)",not:t.operators.not+"\\left(%0%\\right)",or:"\\left(%0%"+t.operators.or+"%1%\\right)",xor:"\\left(%0%"+t.operators.xor+"%1%\\right)",concat:i,cross:"\\left(%0%\\right)\\times\\left(%1%\\right)",det:"\\det\\left(%0%\\right)",diag:i,dot:"\\left(%0%\\cdot%1%\\right)",eye:i,flatten:i,inv:"\\left(%0%\\right)^{-1}",ones:i,range:i,resize:i,size:i,squeeze:i,subset:i,trace:"\\mathrm{tr}\\left(%0%\\right)",transpose:"\\left(%0%\\right)"+t.operators.transpose,zeros:i,combinations:"\\binom{%0%}{%1%}",distribution:i,factorial:"\\left(%0%\\right)"+t.operators.factorial,gamma:"\\Gamma\\left(%0%\\right)",permutations:i,pickRandom:i,randomInt:i,random:i,compare:i,deepEqual:i,equal:"\\left(%0%"+t.operators.equal+"%1%\\right)",largerEq:"\\left(%0%"+t.operators.largerEq+"%1%\\right)",larger:"\\left(%0%"+t.operators.larger+"%1%\\right)",smallerEq:"\\left(%0%"+t.operators.smallerEq+"%1%\\right)",smaller:"\\left(%0%"+t.operators.smaller+"%1%\\right)",unequal:"\\left(%0%"+t.operators.unequal+"%1%\\right)",max:"\\max\\left(%*%\\right)",mean:i,median:i,min:"\\min\\left(%*%\\right)",prod:i,std:i,sum:i,"var":"\\mathrm{Var}\\left(%*%\\right)",acosh:"\\cosh^{-1}\\left(%0%\\right)",acos:"\\cos^{-1}\\left(%0%\\right)",acoth:"\\coth^{-1}\\left(%0%\\right)",acot:"\\cot^{-1}\\left(%0%\\right)",acsch:"\\mathrm{csch}^{-1}\\left(%0%\\right)",acsc:"\\csc^{-1}\\left(%0%\\right)",asech:"\\mathrm{sech}^{-1}\\left(%0%\\right)",asec:"\\sec^{-1}\\left(%0%\\right)",asinh:"\\sinh^{-1}\\left(%0%\\right)",asin:"\\sin^{-1}\\left(%0%\\right)",atan2:"\\mathrm{atan2}\\left(%*%\\right)",atanh:"\\tanh^{-1}\\left(%0%\\right)",atan:"\\tan^{-1}\\left(%0%\\right)",cosh:"\\cosh\\left(%0%\\right)",cos:"\\cos\\left(%0%\\right)",coth:"\\coth\\left(%0%\\right)",cot:"\\cot\\left(%0%\\right)",csch:"\\mathrm{csch}\\left(%0%\\right)",csc:"\\csc\\left(%0%\\right)",sech:"\\mathrm{sech}\\left(%0%\\right)",sec:"\\sec\\left(%0%\\right)",sinh:"\\sinh\\left(%0%\\right)",sin:"\\sin\\left(%0%\\right)",tanh:"\\tanh\\left(%0%\\right)",tan:"\\tan\\left(%0%\\right)",to:"\\left(%0%"+t.operators.to+"%1%\\right)",clone:i,filter:i,forEach:i,format:i,"import":i,map:i,print:i,sort:i,"typeof":i},a={deg:"^\\circ"};t.toSymbol=function(e){if(a.hasOwnProperty(e))return a[e];if(t.symbols.hasOwnProperty(e))return t.symbols[e];if(-1!==e.indexOf("_")){var r=e.indexOf("_");return t.toSymbol(e.substring(0,r))+"_{"+t.toSymbol(e.substring(r+1))+"}"}return"\\mathrm{"+e+"}"},t.toFunction=function(e,t,r){var a=o[r],s=e.args.map(function(e){return e.toTex(t)});switch(typeof a){case"function":return a(e,t);case"string":return n(a,r,s);case"object":switch(typeof a[s.length]){case"function":return a[s.length](e,t);case"string":return n(a[s.length],r,s)}default:return n(i,r,s)}}},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,r=e&&void 0!==e.visible?e.visible:!0;if(!(t instanceof i))throw new TypeError('Property "node" must be a Node');if(!a(r))throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:r}})}var i=r(35),o=r(28),a=r(18).isBoolean;n.prototype=new i,n.prototype.type="BlockNode",n.prototype._compile=function(e){e.ResultSet=o;var t=this.blocks.map(function(t){var r=t.node._compile(e);return t.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+t.join("")+"return new ResultSet(results);})()"},n.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],o=this._ifNode(e(i.node,"blocks["+r+"].node",this));t[r]={node:o,visible:i.visible}}return new n(t)},n.prototype.clone=function(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new n(e)},n.prototype.toString=function(){return this.blocks.map(function(e){return e.node.toString()+(e.visible?"":";")}).join("\n")},n.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\n")},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof i))throw new TypeError("Parameter condition must be a Node");if(!(t instanceof i))throw new TypeError("Parameter trueExpr must be a Node");if(!(r instanceof i))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}var i=r(35),o=(r(39),r(7)),a=r(16),s=r(19),u=r(17),l=r(38),c=u.string.isString,f=u.number.isNumber,p=u["boolean"].isBoolean;n.prototype=new i,n.prototype.type="ConditionalNode",n.prototype._compile=function(e){return e.testCondition=function(t){if(f(t)||p(t)||c(t))return t?!0:!1;if(t instanceof o)return t.isZero()?!1:!0;if(t instanceof a)return t.re||t.im?!0:!1;if(t instanceof s)return t.value?!0:!1;if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+e.math["typeof"](t)+'"')},"testCondition("+this.condition._compile(e)+") ? ( "+this.trueExpr._compile(e)+") : ( "+this.falseExpr._compile(e)+")"},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype.toString=function(){var e=l.getPrecedence(this),t=this.condition.toString(),r=l.getPrecedence(this.condition);("OperatorNode"===this.condition.type||null!==r&&e>=r)&&(t="("+t+")");var n=this.trueExpr.toString(),i=l.getPrecedence(this.trueExpr);("OperatorNode"===this.trueExpr.type||null!==i&&e>=i)&&(n="("+n+")");var o=this.falseExpr.toString(),a=l.getPrecedence(this.falseExpr);return("OperatorNode"===this.falseExpr.type||null!==a&&e>=a)&&(o="("+o+")"),t+" ? "+n+" : "+o},n.prototype._toTex=function(e){return"\\left\\{\\begin{array}{l l}{"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if}\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{array}\\right."},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t){if(!a(t))throw new TypeError('String expected for parameter "valueType"');if(!a(e))throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=t}else this.value=e+"",this.valueType=o(e);if(!s[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var i=r(35),o=(r(7),r(4).type),a=r(9).isString,s={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};n.prototype=new i,n.prototype.type="ConstantNode",n.prototype._compile=function(e){switch(this.valueType){case"number":return"bignumber"===e.math.config().number?'math.bignumber("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)});case"string":return'"'+this.value+'"';case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.value,this.valueType)},n.prototype.toString=function(){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},n.prototype._toTex=function(e){var t,r=this.value;switch(this.valueType){case"string":return"\\text{"+r+"}";case"number":return t=r.toLowerCase().indexOf("e"),-1!==t?r.substring(0,t)+"\\cdot10^{"+r.substring(t+1)+"}":r;default:return r}},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof i))throw new TypeError('Node expected for parameter "object"');if(!c(t)||!t.every(l))throw new TypeError('Array containing Nodes expected for parameter "ranges"');this.object=e,this.ranges=t}var i=r(35),o=r(44),a=r(45),s=r(7),u=r(24),l=i.isNode,c=Array.isArray;n.prototype=new i,n.prototype.type="IndexNode",n.prototype._compile=function(e){return this.compileSubset(e)},n.prototype.compileSubset=function(e,t){function r(e){return e instanceof a&&"end"==e.name}var n=!1,i=this.ranges.map(function(e){var t=e.filter(r).length>0;return n=t?t:n,t});e.range=function(e,t,r){return new u(e instanceof s?e.toNumber():e,t instanceof s?t.toNumber():t,r instanceof s?r.toNumber():r)};var l=this.ranges.map(function(t,r){var n=i[r];return t instanceof o?n?(e.args.end=!0,"(function () {  var end = size["+r+"];  return range(    "+t.start._compile(e)+",     "+t.end._compile(e)+",     "+(t.step?t.step._compile(e):"1")+"  );})()"):"range("+t.start._compile(e)+", "+t.end._compile(e)+", "+(t.step?t.step._compile(e):"1")+")":n?(e.args.end=!0,"(function () {  var end = size["+r+"];  return "+t._compile(e)+";})()"):t._compile(e)});return n?"(function () {  var obj = "+this.object._compile(e)+";  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index("+l.join(", ")+")    "+(t?", "+t:"")+"  );})()":"math.subset("+this.object._compile(e)+",math.index("+l.join(", ")+")"+(t?", "+t:"")+")"},n.prototype.forEach=function(e){e(this.object,"object",this);for(var t=0;t<this.ranges.length;t++)e(this.ranges[t],"ranges["+t+"]",this)},n.prototype.map=function(e){for(var t=this._ifNode(e(this.object,"object",this)),r=[],i=0;i<this.ranges.length;i++)r[i]=this._ifNode(e(this.ranges[i],"ranges["+i+"]",this));return new n(t,r)},n.prototype.objectName=function(){return this.object.name},n.prototype.clone=function(){return new n(this.object,this.ranges.slice(0))},n.prototype.toString=function(){return this.object.toString()+"["+this.ranges.join(", ")+"]"},n.prototype._toTex=function(e){var t=this.ranges.map(function(t){return t.toTex(e)});return this.object.toTex(e)+"_{\\left["+t.join(",")+"\\right]}"},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!a(e))throw new TypeError("Node expected");if(!a(t))throw new TypeError("Node expected");if(r&&!a(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}var i=r(35),o=r(38),a=i.isNode;n.prototype=new i,n.prototype.type="RangeNode",n.prototype._compile=function(e){return"math.range("+this.start._compile(e)+", "+this.end._compile(e)+(this.step?", "+this.step._compile(e):"")+")"},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype.toString=function(){var e,t=o.getPrecedence(this),r=this.start.toString(),n=o.getPrecedence(this.start);if(null!==n&&t>=n&&(r="("+r+")"),e=r,this.step){var i=this.step.toString(),a=o.getPrecedence(this.step);null!==a&&t>=a&&(i="("+i+")"),e+=":"+i}var s=this.end.toString(),u=o.getPrecedence(this.end);return null!==u&&t>=u&&(s="("+s+")"),e+=":"+s},n.prototype._toTex=function(e){var t=this.start.toTex(e);return this.step&&(t+=":"+this.step.toTex(e)),t+=":"+this.end.toTex(e)},e.exports=n},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!u(e))throw new TypeError('String expected for parameter "name"');this.name=e}function i(e){throw new Error("Undefined symbol "+e)}var o=r(35),a=r(19),s=r(39),u=r(9).isString;n.prototype=new o,n.prototype.type="SymbolNode",n.prototype._compile=function(e){return e.undef=i,e.Unit=a,this.name in e.args?this.name:this.name in e.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(a.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.name)},n.prototype.toString=function(){return this.name},n.prototype._toTex=function(e){var t=s.toSymbol(this.name);return"\\"===t[0]?t:" "+t},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!u(e))throw new TypeError('String expected for parameter "name"');if(!l(t)||!t.every(u))throw new TypeError('Array containing strings expected for parameter "params"');if(!(r instanceof i))throw new TypeError('Node expected for parameter "expr"');if(e in o)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t,this.expr=r}var i=r(35),o=r(36),a=r(39),s=r(38),u=r(9).isString,l=Array.isArray;n.prototype=new i,n.prototype.type="FunctionAssignmentNode",n.prototype._compile=function(e){return this.params.forEach(function(t){e.args[t]=!0}),'scope["'+this.name+'"] =   (function () {    var fn = function '+this.name+"("+this.params.join(",")+") {      if (arguments.length != "+this.params.length+') {        throw new SyntaxError("Wrong number of arguments in function '+this.name+' (" + arguments.length + " provided, '+this.params.length+' expected)");      }      return '+this.expr._compile(e)+'    };    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })();'},n.prototype.forEach=function(e){e(this.expr,"expr",this)},n.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new n(this.name,this.params.slice(0),t)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype.toString=function(){var e=s.getPrecedence(this),t=s.getPrecedence(this.expr),r=this.expr.toString();return null!==t&&e>=t&&(r="("+r+")"),"function "+this.name+"("+this.params.join(", ")+") = "+r},n.prototype._toTex=function(e){var t=s.getPrecedence(this),r=s.getPrecedence(this.expr),n=this.expr.toTex(e);return null!==r&&t>=r&&(n="\\left("+n+"\\right)"),a.toSymbol(this.name)+"\\left("+this.params.map(a.toSymbol).join(",")+"\\right):="+n},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "name"');if(!u(t)||!t.every(s))throw new TypeError('Array containing Nodes expected for parameter "args"');this.name=e,this.args=t||[]}var i=r(35),o=r(45),a=r(39),s=i.isNode,u=Array.isArray;n.prototype=new i,n.prototype.type="FunctionNode",n.prototype._compile=function(e){var t=e.math[this.name],r="function"==typeof t&&1==t.rawArgs,n=this.args.map(function(t){return t._compile(e)});if(r){var i;do i="p"+Math.round(1e4*Math.random());while(i in e);return e[i]=this.args,'("'+this.name+'" in scope ? scope["'+this.name+'"]('+n.join(", ")+') : math["'+this.name+'"]('+i+", math, scope))"}var a=new o(this.name);return a._compile(e)+"("+n.join(", ")+")"},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.name,t)},n.prototype.clone=function(){return new n(this.name,this.args.slice(0))},n.prototype.toString=function(){return this.name+"("+this.args.join(", ")+")"},n.prototype._toTex=function(e){return a.toFunction(this,e,this.name)},n.prototype.getIdentifier=function(){return this.type+":"+this.name},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!u(r)||!r.every(l))throw new TypeError('Array containing Nodes expected for parameter "args"');this.op=e,this.fn=t,this.args=r||[]}function i(e,t,r){var n=s.getPrecedence(e),i=s.getAssociativity(e);switch(t.length){case 1:var o=s.getPrecedence(t[0]);if(r&&null!==o){var a=t[0].getIdentifier(),u=e.getIdentifier();if(s.properties[n][u].latexLeftParens===!1)return[!1];if(s.properties[o][a].latexParens===!1)return[!1]}return null===o?[!1]:n>=o?[!0]:[!1];case 2:var l,c=s.getPrecedence(t[0]),f=s.isAssociativeWith(e,t[0]);l=null===c?!1:c!==n||"right"!==i||f?n>c?!0:!1:!0;var p,h=s.getPrecedence(t[1]),d=s.isAssociativeWith(e,t[1]);if(p=null===h?!1:h!==n||"left"!==i||d?n>h?!0:!1:!0,r){var u=e.getIdentifier(),g=e.args[0].getIdentifier(),m=e.args[1].getIdentifier();null!==c&&(s.properties[n][u].latexLeftParens===!1&&(l=!1),s.properties[c][g].latexParens===!1&&(l=!1)),null!==h&&(s.properties[n][u].latexRightParens===!1&&(p=!1),s.properties[h][m].latexParens===!1&&(p=!1))}return[l,p];default:var v=[];return t.forEach(function(){v.push(!0)}),v}}var o=r(35),a=(r(42),r(45),r(47),r(39)),s=r(38),u=Array.isArray,l=o.isNode;n.prototype=new o,n.prototype.type="OperatorNode",n.prototype._compile=function(e){if(!(this.fn in e.math))throw new Error("Function "+this.fn+' missing in provided namespace "math"');var t=this.args.map(function(t){return t._compile(e)});return"math."+this.fn+"("+t.join(", ")+")"},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,t)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0))},n.prototype.toString=function(){var e=this.args,t=i(this,e,!1);switch(e.length){case 1:var r=s.getAssociativity(this),n=e[0].toString();return t[0]&&(n="("+n+")"),"right"===r?this.op+n:"left"===r?n+this.op:n+this.op;case 2:var o=e[0].toString(),a=e[1].toString();return t[0]&&(o="("+o+")"),t[1]&&(a="("+a+")"),o+" "+this.op+" "+a;default:return this.fn+"("+this.args.join(", ")+")"}},n.prototype._toTex=function(e){var t=this.args,r=i(this,t,!0),n=a.operators[this.fn];switch(n="undefined"==typeof n?this.op:n,t.length){case 1:var o=s.getAssociativity(this),u=t[0].toTex(e);return r[0]&&(u="\\left("+u+"\\right)"),"right"===o?n+u:"left"===o?u+n:u+n;case 2:var l=t[0],c=l.toTex(e);r[0]&&(c="\\left("+c+"\\right)");var f=t[1],p=f.toTex(e);switch(r[1]&&(p="\\left("+p+"\\right)"),this.getIdentifier()){case"OperatorNode:divide":return n+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l.getIdentifier()){case"ConditionalNode":case"OperatorNode:divide":c="\\left("+c+"\\right)"}}return c+n+p;default:return"\\mathrm{"+this.fn+"}\\left("+t.map(function(t){return t.toTex(e)}).join(",")+"\\right)"}},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof o))throw new TypeError('Expected IndexNode for parameter "index"');if(!(t instanceof i))throw new TypeError('Expected Node for parameter "expr"');this.index=e,this.expr=t}var i=r(35),o=r(43);n.prototype=new i,n.prototype.type="UpdateNode",n.prototype._compile=function(e){var t=this.index.objectName()in e.args?this.name+" = ":'scope["'+this.index.objectName()+'"]',r=this.index.compileSubset(e,this.expr._compile(e));return t+" = "+r},n.prototype.forEach=function(e){e(this.index,"index",this),e(this.expr,"expr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.index,"index",this)),this._ifNode(e(this.expr,"expr",this)))},n.prototype.clone=function(){return new n(this.index,this.expr)},n.prototype.toString=function(){return this.index.toString()+" = "+this.expr.toString()},n.prototype._toTex=function(e){return this.index.toTex(e)+":="+this.expr.toTex(e)},e.exports=n},function(e,t,r){"use strict";var n=r(17),i=r(22),o=n.string.isString,a=Array.isArray,s=r(34),u=r(37),l=r(40),c=r(41),f=r(42),p=r(46),h=r(43),d=r(48),g=r(47),m=r(44),v=r(45),y=r(49);e.exports=function(e){function t(e,t){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(pe=t&&t.nodes?t.nodes:{},o(e))return he=e,M();if(a(e)||e instanceof se)return ue.deepMap(e,function(e){if(!o(e))throw new TypeError("String expected");return he=e,M()});throw new TypeError("String or matrix expected")}function r(){de=0,ge=he.charAt(0),ye=0,xe=null}function n(){de++,ge=he.charAt(de)}function x(){return he.charAt(de+1)}function w(){return he.charAt(de+2)}function b(){for(ve=le.NULL,me="";" "==ge||"	"==ge||"\n"==ge&&ye;)n();if("#"==ge)for(;"\n"!=ge&&""!=ge;)n();if(""==ge)return void(ve=le.DELIMITER);if("\n"==ge&&!ye)return ve=le.DELIMITER,me=ge,void n();var e=ge+x(),t=e+w();if(3==t.length&&ce[t])return ve=le.DELIMITER,me=t,n(),n(),void n();if(2==e.length&&ce[e])return ve=le.DELIMITER,me=e,n(),void n();if(ce[ge])return ve=le.DELIMITER,me=ge,void n();if(!T(ge)){if(S(ge)){for(;S(ge)||C(ge);)me+=ge,n();return void(ve=fe[me]?le.DELIMITER:le.SYMBOL)}for(ve=le.UNKNOWN;""!=ge;)me+=ge,n();throw oe('Syntax error in part "'+me+'"')}if(ve=le.NUMBER,"."==ge)me+=ge,n(),C(ge)||(ve=le.UNKNOWN);else{for(;C(ge);)me+=ge,n();"."==ge&&(me+=ge,n())}for(;C(ge);)me+=ge,n();if(e=x(),("E"==ge||"e"==ge)&&(C(e)||"-"==e||"+"==e))for(me+=ge,n(),("+"==ge||"-"==ge)&&(me+=ge,n()),C(ge)||(ve=le.UNKNOWN);C(ge);)me+=ge,n()}function E(){do b();while("\n"==me)}function _(){ye++}function N(){ye--}function S(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e}function T(e){return e>="0"&&"9">=e||"."==e}function C(e){return e>="0"&&"9">=e}function M(){r(),b();var e=A();if(""!=me)throw ve==le.DELIMITER?ae("Unexpected operator "+me):oe('Unexpected part "'+me+'"');return e}function A(){var e,t,r=[];if(""==me)return new f("undefined","undefined");for("\n"!=me&&";"!=me&&(e=O());"\n"==me||";"==me;)0==r.length&&e&&(t=";"!=me,r.push({node:e,visible:t})),b(),"\n"!=me&&";"!=me&&""!=me&&(e=O(),t=";"!=me,r.push({node:e,visible:t}));return r.length>0?new l(r):e}function O(){if(ve==le.SYMBOL&&"function"==me)throw oe('Deprecated keyword "function". Functions can now be assigned without it, like "f(x) = x^2".');

return k()}function k(){var e,t,r,n,i=P();if("="==me){if(i instanceof v)return e=i.name,E(),r=k(),new u(e,r);if(i instanceof h)return E(),r=k(),new y(i,r);if(i instanceof g&&(n=!0,t=[],e=i.name,i.args.forEach(function(e,r){e instanceof v?t[r]=e.name:n=!1}),n))return E(),r=k(),new p(e,t,r);throw oe("Invalid left hand side of assignment operator =")}return i}function P(){for(var e=D();"?"==me;){var t=xe;xe=ye,E();var r=e,n=D();if(":"!=me)throw oe("False part of conditional expression expected");xe=null,E();var i=P();e=new c(r,n,i),xe=t}return e}function D(){for(var e=z();"or"==me;)E(),e=new d("or","or",[e,z()]);return e}function z(){for(var e=B();"xor"==me;)E(),e=new d("xor","xor",[e,B()]);return e}function B(){for(var e=q();"and"==me;)E(),e=new d("and","and",[e,q()]);return e}function q(){for(var e=I();"|"==me;)E(),e=new d("|","bitOr",[e,I()]);return e}function I(){for(var e=L();"^|"==me;)E(),e=new d("^|","bitXor",[e,L()]);return e}function L(){for(var e=R();"&"==me;)E(),e=new d("&","bitAnd",[e,R()]);return e}function R(){var e,t,r,n,i;for(e=j(),t={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};me in t;)r=me,n=t[r],E(),i=[e,j()],e=new d(r,n,i);return e}function j(){var e,t,r,n,i;for(e=F(),t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};me in t;)r=me,n=t[r],E(),i=[e,F()],e=new d(r,n,i);return e}function F(){var e,t,r,n,i;for(e=U(),t={to:"to","in":"to"};me in t;)r=me,n=t[r],E(),i=[e,U()],e=new d(r,n,i);return e}function U(){var e,t=[];if(e=":"==me?new f("1","number"):$(),":"==me&&xe!==ye){for(t.push(e);":"==me&&t.length<3;)E(),t.push(")"==me||"]"==me||","==me||""==me?new v("end"):$());e=3==t.length?new m(t[0],t[2],t[1]):new m(t[0],t[1])}return e}function $(){var e,t,r,n,i;for(e=V(),t={"+":"add","-":"subtract"};me in t;)r=me,n=t[r],E(),i=[e,V()],e=new d(r,n,i);return e}function V(){var e,t,r,n,i;if(e=H(),t={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"},me in t)for(;me in t;)r=me,n=t[r],E(),i=[e,H()],e=new d(r,n,i);return(ve==le.SYMBOL||"in"==me&&e instanceof f||ve==le.NUMBER&&!(e instanceof f)||"("==me||"["==me)&&(e=new d("*","multiply",[e,V()])),e}function H(){var e,t,r={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[me];return r?(e=me,E(),t=[H()],new d(e,r,t)):X()}function X(){var e,t,r,n;return e=W(),("^"==me||".^"==me)&&(t=me,r="^"==t?"pow":"dotPow",E(),n=[e,H()],e=new d(t,r,n)),e}function W(){var e,t,r,n,i;for(e=Y(),t={"!":"factorial","'":"transpose"};me in t;)r=me,n=t[r],b(),i=[e],e=new d(r,n,i);return e}function Y(){var e,t=[];if(ve==le.SYMBOL&&pe[me]){if(e=pe[me],b(),"("==me){if(t=[],_(),b(),")"!=me)for(t.push(P());","==me;)b(),t.push(P());if(")"!=me)throw oe("Parenthesis ) expected");N(),b()}return new e(t)}return G()}function G(){var e,t;return ve==le.SYMBOL||ve==le.DELIMITER&&me in fe?(t=me,b(),e=Z(t),e=K(e)):J()}function Z(e){var t;if("("==me){if(t=[],_(),b(),")"!=me)for(t.push(P());","==me;)b(),t.push(P());if(")"!=me)throw oe("Parenthesis ) expected");return N(),b(),new g(e,t)}return new v(e)}function K(e){for(var t;"["==me;){if(t=[],_(),b(),"]"!=me)for(t.push(P());","==me;)b(),t.push(P());if("]"!=me)throw oe("Parenthesis ] expected");N(),b(),e=new h(e,t)}return e}function J(){var e,t,r;if('"'==me){for(t="",r="";""!=ge&&('"'!=ge||"\\"==r);)t+=ge,r=ge,n();if(b(),'"'!=me)throw oe('End of string " expected');return b(),e=new f(t,"string"),e=K(e)}return Q()}function Q(){var e,t,r,n;if("["==me){if(_(),b(),"]"!=me){var i=ee();if(";"==me){for(r=1,t=[i];";"==me;)b(),t[r]=ee(),r++;if("]"!=me)throw oe("End of matrix ] expected");N(),b(),n=t[0].nodes.length;for(var o=1;r>o;o++)if(t[o].nodes.length!=n)throw ae("Column dimensions mismatch ("+t[o].nodes.length+" != "+n+")");e=new s(t)}else{if("]"!=me)throw oe("End of matrix ] expected");N(),b(),e=i}}else N(),b(),e=new s([]);return e}return te()}function ee(){for(var e=[k()],t=1;","==me;)b(),e[t]=k(),t++;return new s(e)}function te(){var e;return ve==le.NUMBER?(e=me,b(),new f(e,"number")):re()}function re(){var e;if("("==me){if(_(),b(),e=k(),")"!=me)throw oe("Parenthesis ) expected");return N(),b(),e}return ne()}function ne(){throw oe(""==me?"Unexpected end of expression":"Value expected")}function ie(){return de-me.length+1}function oe(e){var t=ie(),r=new SyntaxError(e+" (char "+t+")");return r["char"]=t,r}function ae(e){var t=ie(),r=new Error(e+" (char "+t+")");return r["char"]=t,r}var se=e.type.Matrix,ue=e.collection,le={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},ce={",":!0,"(":!0,")":!0,"[":!0,"]":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},fe={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},pe={},he="",de=0,ge="",me="",ve=le.NULL,ye=0,xe=null;return t}},function(e,t,r){"use strict";e.exports=function(e){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var r=e.expression.parse;return t.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},t.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},t.prototype.eval=function(t){return r(t).compile(e).eval(this.scope)},t.prototype.get=function(e){return this.scope[e]},t.prototype.set=function(e,t){return this.scope[e]=t},t.prototype.remove=function(e){delete this.scope[e]},t.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},t}},function(e,t,r){t.e=r(54),t.E=r(54),t["false"]=r(55),t.i=r(56),t.Infinity=r(57),t.LN2=r(58),t.LN10=r(59),t.LOG2E=r(60),t.LOG10E=r(61),t.NaN=r(62),t["null"]=r(63),t.pi=r(64),t.PI=r(64),t.phi=r(65),t.SQRT1_2=r(66),t.SQRT2=r(67),t.tau=r(68),t["true"]=r(69),t.version=r(70),t.abs=r(71),t.add=r(72),t.ceil=r(73),t.cube=r(74),t.divide=r(75),t.dotDivide=r(76),t.dotMultiply=r(77),t.dotPow=r(78),t.exp=r(79),t.fix=r(80),t.floor=r(81),t.gcd=r(82),t.lcm=r(83),t.log=r(84),t.log10=r(85),t.mod=r(86),t.multiply=r(87),t.norm=r(88),t.nthRoot=r(89),t.pow=r(90),t.round=r(91),t.sign=r(92),t.sqrt=r(93),t.square=r(94),t.subtract=r(95),t.unaryMinus=r(96),t.unaryPlus=r(97),t.xgcd=r(98),t.bitAnd=r(99),t.bitNot=r(100),t.bitOr=r(101),t.bitXor=r(102),t.leftShift=r(103),t.rightArithShift=r(104),t.rightLogShift=r(105),t.bellNumbers=r(106),t.composition=r(107),t.stirlingS2=r(108),t.arg=r(109),t.conj=r(110),t.re=r(111),t.im=r(112),t.bignumber=r(113),t["boolean"]=r(114),t.complex=r(115),t.index=r(116),t.matrix=r(117),t.number=r(118),t.string=r(119),t.unit=r(120),t.eval=r(121),t.help=r(122),t.and=r(123),t.not=r(124),t.or=r(125),t.xor=r(126),t.concat=r(127),t.cross=r(53),t.det=r(128),t.diag=r(129),t.dot=r(130),t.eye=r(131),t.flatten=r(132),t.inv=r(133),t.ones=r(134),t.range=r(135),t.resize=r(136),t.size=r(137),t.squeeze=r(138),t.subset=r(139),t.trace=r(140),t.transpose=r(141),t.zeros=r(142),t.combinations=r(143),t.factorial=r(144),t.gamma=r(145),t.multinomial=r(146),t.permutations=r(147),t.pickRandom=r(148),t.random=r(149),t.randomInt=r(150),t.compare=r(151),t.deepEqual=r(152),t.equal=r(153),t.larger=r(154),t.largerEq=r(155),t.smaller=r(156),t.smallerEq=r(157),t.unequal=r(158),t.max=r(159),t.mean=r(160),t.median=r(161),t.min=r(162),t.prod=r(163),t.quantileSeq=r(164),t.std=r(165),t.sum=r(166),t["var"]=r(167),t.acos=r(168),t.acosh=r(169),t.acot=r(170),t.acoth=r(171),t.acsc=r(172),t.acsch=r(173),t.asec=r(174),t.asech=r(175),t.asin=r(176),t.asinh=r(177),t.atan=r(178),t.atanh=r(179),t.atan2=r(180),t.cos=r(181),t.cosh=r(182),t.cot=r(183),t.coth=r(184),t.csc=r(185),t.csch=r(186),t.sec=r(187),t.sech=r(188),t.sin=r(189),t.sinh=r(190),t.tan=r(191),t.tanh=r(192),t.to=r(193),t.clone=r(194),t.map=r(195),t.partitionSelect=r(196),t.filter=r(197),t.forEach=r(198),t.format=r(199),t["import"]=r(200),t.sort=r(201),t["typeof"]=r(202)},function(e,t,r){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(e,t,r){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(e,t,r){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(e,t,r){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(e,t,r){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(e,t,r){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(e,t,r){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(e,t,r){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(e,t,r){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(e,t,r){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(e,t,r){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(e,t,r){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(e,t,r){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},function(e,t,r){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(e,t,r){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(e,t,r){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(e,t,r){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(e,t,r){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(e,t,r){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(e,t,r){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i",'"hello" + " world"',"3 cm + 2 inch"],seealso:["subtract"]}},function(e,t,r){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(e,t,r){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(e,t,r){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(e,t,r){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(e,t,r){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(e,t,r){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(e,t,r){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(e,t,r){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(e,t,r){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(e,t,r){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(e,t,r){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(e,t,r){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(e,t,r){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(e,t,r){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(e,t,r){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(e,t,r){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},function(e,t,r){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(e,t,r){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(e,t,r){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(e,t,r){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(e,t,r){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(e,t,r){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(e,t,r){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(e,t,r){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(e,t,r){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(e,t,r){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(e,t,r){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(e,t,r){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(e,t,r){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(e,t,r){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(e,t,r){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(e,t,r){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(e,t,r){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(e,t,r){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(e,t,r){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(e,t,r){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(e,t,r){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(e,t,r){e.exports={name:"bignumber",category:"Type",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","index","matrix","string","unit"]}},function(e,t,r){e.exports={name:"boolean",category:"Type",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(e,t,r){e.exports={name:"complex",category:"Type",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(e,t,r){e.exports={name:"index",category:"Type",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(e,t,r){e.exports={name:"matrix",category:"Type",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()","matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])"],seealso:["bignumber","boolean","complex","index","number","string","unit"]}},function(e,t,r){e.exports={name:"number",category:"Type",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(e,t,r){e.exports={name:"string",category:"Type",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(e,t,r){e.exports={name:"unit",category:"Type",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(e,t,r){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(e,t,r){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(e,t,r){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(e,t,r){e.exports={name:"not",category:"Logical",syntax:["!x","not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["!true","not false","!2","!0"],seealso:["and","or","xor"]}},function(e,t,r){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(e,t,r){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},function(e,t,r){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(e,t,r){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(e,t,r){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],
seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},function(e,t,r){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(e,t,r){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(e,t,r){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e,t,r){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(e,t,r){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(e,t,r){e.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(e,t,r){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(e,t,r){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(e,t,r){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(e,t,r){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["random","randomInt"]}},function(e,t,r){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(e,t,r){e.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(e,t,r){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},function(e,t,r){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(e,t,r){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t,r){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e,t,r){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},function(e,t,r){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(e,t,r){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(e,t,r){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t,r){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(e,t,r){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(e,t,r){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},function(e,t,r){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(e,t,r){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(e,t,r){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(e,t,r){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(e,t,r){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(e,t,r){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(e,t,r){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(e,t,r){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(e,t,r){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(e,t,r){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},function(e,t,r){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},function(e,t,r){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(e,t,r){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(e,t,r){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(e,t,r){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},function(e,t,r){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(e,t,r){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},function(e,t,r){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(e,t,r){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(e,t,r){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(e,t,r){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(e,t,r){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(e,t,r){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(e,t,r){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(e,t,r){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(e,t,r){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(e,t,r){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(e,t,r){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(e,t,r){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(e,t,r){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(e,t,r){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(e,t,r){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(e,t,r){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(e,t,r){e.exports={name:"map",category:"Utils",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},function(e,t,r){e.exports={name:"partitionSelect",category:"Utils",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(e,t,r){e.exports={name:"filter",category:"Utils",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(e,t,r){e.exports={name:"forEach",category:"Utils",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(e,t,r){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(e,t,r){e.exports={name:"import",category:"Utils",syntax:["import(string)"],description:"Import functions from a file.",examples:['import("numbers")','import("./mylib.js")'],seealso:[]}},function(e,t,r){e.exports={name:"sort",category:"Utils",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},function(e,t,r){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){var n=r&&r.mathjs,i=e.type[n];return i&&i.fromJSON?i.fromJSON(r):r}return t}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=e.collection,o=i.isCollection,a=t.number.isNumber,s=t.string.isString,u=t["boolean"].isBoolean;e.bignumber=function l(t){if(arguments.length>1)throw new e.error.ArgumentsError("bignumber",arguments.length,0,1);if(t instanceof n||a(t)||s(t))return new n(t);if(u(t)||null===t)return new n(+t);if(o(t))return i.deepMap(t,l);if(0==arguments.length)return new n(0);throw new e.error.UnsupportedTypeError("bignumber",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=e.collection,o=i.isCollection,a=t.number.isNumber,s=t.string.isString;e["boolean"]=function u(t){if(1!=arguments.length)throw new e.error.ArgumentsError("boolean",arguments.length,0,1);if("true"===t||t===!0)return!0;if("false"===t||t===!1||null===t)return!1;if(t instanceof Boolean)return 1==t;if(a(t))return 0!==t;if(t instanceof n)return!t.isZero();if(s(t)){var r=t.toLowerCase();if("true"===r)return!0;if("false"===r)return!1;var l=Number(t);if(""!=t&&!isNaN(l))return 0!==l}if(o(t))return i.deepMap(t,u);throw new SyntaxError(t.toString()+" is no valid boolean")}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=o.isCollection,s=t.number.isNumber,u=t.string.isString,l=i.isComplex;e.complex=function c(t){switch(arguments.length){case 0:return new i(0,0);case 1:var r=arguments[0];if(s(r))return new i(r,0);if(r instanceof n)return new i(r.toNumber(),0);if(l(r))return r.clone();if(u(r)){var f=i.parse(r);if(f)return f;throw new SyntaxError('String "'+r+'" is no valid complex number')}if(a(r))return o.deepMap(r,c);if("object"==typeof r){if("re"in r&&"im"in r)return new i(r.re,r.im);if("r"in r&&"phi"in r)return i.fromPolar(r.r,r.phi)}throw new TypeError("Two numbers, single string or an fitting object expected in function complex");case 2:var p=arguments[0],h=arguments[1];if(p instanceof n&&(p=p.toNumber()),h instanceof n&&(h=h.toNumber()),s(p)&&s(h))return new i(p,h);throw new TypeError("Two numbers or a single string expected in function complex");default:throw new e.error.ArgumentsError("complex",arguments.length,0,2)}}}},function(e,t,r){"use strict";e.exports=function(e){var t=(r(17),e.type.BigNumber),n=r(25);e.index=function(e){var r=Array.prototype.slice.apply(arguments).map(function(e){return e instanceof t?e.toNumber():Array.isArray(e)?e.map(function(e){return e instanceof t?e.toNumber():e}):e}),i=new n;return n.apply(i,r),i}}},function(e,t,r){"use strict";var n=r(9),i=Array.isArray,o=n.isString;e.exports=function(e){var t=e.type.Matrix;e.matrix=function(r,n){switch(arguments.length){case 0:r=[],n="default";break;case 1:i(r)?n="default":r instanceof t?n=r.storage():o(r)&&(n=r,r=[]);break;case 2:if(!(i(r)||r instanceof t))throw new TypeError("data must be an array value or Matrix instance");break;default:throw new e.error.ArgumentsError("matrix",arguments.length,0,2)}var a=t.storage(n);return new a(r)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=e.type.Unit,o=e.collection,a=o.isCollection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=t.string.isString;e.number=function c(t,r){switch(arguments.length){case 0:return 0;case 1:if(a(t))return o.deepMap(t,c);if(t instanceof n)return t.toNumber();if(l(t)){var f=Number(t);if(isNaN(f)&&(f=Number(t.valueOf())),isNaN(f))throw new SyntaxError(t.toString()+" is no valid number");return f}if(u(t)||null===t)return+t;if(s(t))return t;if(t instanceof i)throw new Error("Second argument with valueless unit expected");throw new e.error.UnsupportedTypeError("number",e["typeof"](t));case 2:if(t instanceof i&&l(r)||r instanceof i)return t.toNumber(r);throw new e.error.UnsupportedTypeError("number",e["typeof"](t),e["typeof"](r));default:throw new e.error.ArgumentsError("number",arguments.length,0,1)}}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.expression.Parser;e.parser=function(){return new t}}},function(e,t,r){"use strict";e.exports=function(e){e.chain=function(t){return new e.chaining.Chain(t)},e.select=function(t){return console&&"function"==typeof console.log&&console.log('WARNING: Function "select" is renamed to "chain". It will be deprecated in v2.0.'),e.select=e.chain,e.chaining.Chain.prototype.select=e.select,e.chain(t)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.collection,i=t.number,o=t.number.isNumber,a=n.isCollection;e.string=function s(t){switch(arguments.length){case 0:return"";case 1:return o(t)?i.format(t):a(t)?n.deepMap(t,s):null===t?"null":t.toString();default:throw new e.error.ArgumentsError("string",arguments.length,0,1)}}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(19),o=e.collection,a=o.isCollection,s=t.string.isString;e.unit=function u(t){switch(arguments.length){case 1:var r=arguments[0];if(r instanceof i)return r.clone();if(s(r)){if(i.isValuelessUnit(r))return new i(null,r);var l=i.parse(r);if(l)return l;throw new SyntaxError('String "'+r+'" is no valid unit')}if(a(t))return o.deepMap(t,u);throw new TypeError("A string or a number and string expected in function unit");case 2:return arguments[0]instanceof n?new i(arguments[0].toNumber(),arguments[1]):new i(arguments[0],arguments[1]);default:throw new e.error.ArgumentsError("unit",arguments.length,1,2)}}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.expression.parse,o=e.collection,a=n.string.isString,s=o.isCollection;e.compile=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("compile",arguments.length,1);if(a(t))return i(t).compile(e);if(s(t))return o.deepMap(t,function(t){return i(t).compile(e)});throw new TypeError("String, array, or matrix expected")}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.expression.parse,i=e.collection,o=t.string.isString,a=i.isCollection;e.eval=function(t,r){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("eval",arguments.length,1,2);if(r=r||{},o(t))return n(t).compile(e).eval(r);if(a(t))return i.deepMap(t,function(t){return n(t).compile(e).eval(r)});throw new TypeError("String, array, or matrix expected")}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(27);e.help=function(r){if(1!=arguments.length)throw new SyntaxError("Wrong number of arguments in function help ("+arguments.length+" provided, 1 expected)");var n=null;if(r instanceof String||"string"==typeof r)n=r;else{var i;for(i in e)if(e.hasOwnProperty(i)&&r===e[i]){n=i;break}}var o=e.expression.docs[n];if(!n)throw new Error('Cannot find "'+r+'" in math.js');if(!o)throw new Error('No documentation found on "'+n+'"');return new t(o)}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=e.expression.parse;e.parse=function(e,t){return r.apply(r,arguments)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.abs=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("abs",arguments.length,1);if(a(t))return Math.abs(t);if(u(t)){var r=Math.abs(t.re),i=Math.abs(t.im);if(1e3>r&&1e3>i)return Math.sqrt(r*r+i*i);if(r>=i){var f=i/r;return r*Math.sqrt(1+f*f)}var p=r/i;return i*Math.sqrt(1+p*p)}if(t instanceof n)return t.abs();if(l(t))return o.deepMap(t,c,!0);if(s(t)||null===t)return Math.abs(t);throw new e.error.UnsupportedTypeError("abs",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t["boolean"].isBoolean,u=t.number.isNumber,l=t.string.isString,c=i.isComplex,f=o.isUnit,p=a.isCollection;e.add=function h(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("add",arguments.length,2);if(u(t)){if(u(r))return t+r;if(c(r))return new i(t+r.re,r.im)}if(c(t)){if(c(r))return new i(t.re+r.re,t.im+r.im);if(u(r))return new i(t.re+r,t.im)}if(f(t)&&f(r)){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");var o=t.clone();return o.value+=r.value,o.fixPrefix=!1,o}if(t instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?t.plus(r):h(t.toNumber(),r);if(r instanceof n)return u(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?t.plus(r):h(t,r.toNumber());if(p(t)||p(r))return a.deepMap2(t,r,h);if(l(t)||l(r))return t+r;if(s(t)||null===t)return h(+t,r);if(s(r)||null===r)return h(t,+r);throw new e.error.UnsupportedTypeError("add",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=o.isCollection,l=i.isComplex;e.ceil=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("ceil",arguments.length,1);if(a(t))return Math.ceil(t);if(l(t))return new i(Math.ceil(t.re),Math.ceil(t.im));if(t instanceof n)return t.ceil();if(u(t))return o.deepMap(t,c,!0);if(s(t)||null===t)return Math.ceil(t);throw new e.error.UnsupportedTypeError("ceil",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.cube=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("cube",arguments.length,1);if(a(t))return t*t*t;if(u(t))return e.multiply(e.multiply(t,t),t);if(t instanceof n)return t.times(t).times(t);if(l(t))return o.deepMap(t,c);if(s(t)||null===t)return c(+t);throw new e.error.UnsupportedTypeError("cube",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){var r=t.re*t.re+t.im*t.im;return 0!=r?new o((e.re*t.re+e.im*t.im)/r,(e.im*t.re-e.re*t.im)/r):new o(0!=e.re?e.re/0:0,0!=e.im?e.im/0:0)}var n=r(17),i=e.type.BigNumber,o=r(16),a=(e.type.Matrix,r(19)),s=n.number.isNumber,u=n["boolean"].isBoolean,l=o.isComplex,c=a.isUnit;e._divide=function f(r,n){if(s(r)){if(s(n))return r/n;if(l(n))return t(new o(r,0),n)}if(l(r)){if(l(n))return t(r,n);if(s(n))return t(r,new o(n,0))}if(r instanceof i)return s(n)?n=i.convert(n):(u(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r.div(n):f(r.toNumber(),n);if(n instanceof i)return s(r)?r=i.convert(r):(u(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?r.div(n):f(r,n.toNumber());if(c(r)&&s(n)){var a=r.clone();return a.value=(null===a.value?a._normalize(1):a.value)/n,a}if(u(r)||null===r)return f(+r,n);if(u(n)||null===n)return f(r,+n);throw new e.error.UnsupportedTypeError("divide",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.collection,r=t.isCollection;e.divide=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("divide",arguments.length,2);return r(n)?r(i)?e.multiply(n,e.inv(i)):t.deepMap2(n,i,e._divide):r(i)?e.multiply(n,e.inv(i)):e._divide(n,i)}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.collection;e.dotDivide=function(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotDivide",arguments.length,2);return t.deepMap2(r,n,e.divide)},e.edivide=function(){throw new Error("Function edivide is renamed to dotDivide")}}},function(e,t,r){"use strict";e.exports=function(e){var t=(r(17),e.collection);e.dotMultiply=function(r,n){
if(2!=arguments.length)throw new e.error.ArgumentsError("dotMultiply",arguments.length,2);return t.deepMap2(r,n,e.multiply)},e.emultiply=function(){throw new Error("Function emultiply is renamed to dotMultiply")}}},function(e,t,r){"use strict";e.exports=function(e){var t=(r(17),e.collection);e.dotPow=function(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotPow",arguments.length,2);return t.deepMap2(r,n,e.pow)},e.epow=function(){throw new Error("Function epow is renamed to dotPow")}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=(e.type.Matrix,e.collection),a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.exp=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("exp",arguments.length,1);if(a(t))return Math.exp(t);if(u(t)){var r=Math.exp(t.re);return new i(r*Math.cos(t.im),r*Math.sin(t.im))}if(t instanceof n)return t.exp();if(l(t))return o.deepMap(t,c);if(s(t)||null===t)return Math.exp(t);throw new e.error.UnsupportedTypeError("exp",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.fix=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("fix",arguments.length,1);if(a(t))return t>0?Math.floor(t):Math.ceil(t);if(u(t))return new i(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im));if(t instanceof n)return t.isNegative()?t.ceil():t.floor();if(l(t))return o.deepMap(t,c,!0);if(s(t)||null===t)return c(+t);throw new e.error.UnsupportedTypeError("fix",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.floor=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("floor",arguments.length,1);if(a(t))return Math.floor(t);if(u(t))return new i(Math.floor(t.re),Math.floor(t.im));if(t instanceof n)return t.floor();if(l(t))return o.deepMap(t,c,!0);if(s(t)||null===t)return c(+t);throw new e.error.UnsupportedTypeError("floor",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new i(0);!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(r)?e.neg():e}var n=r(17),i=e.type.BigNumber,o=e.collection,a=n.number.isNumber,s=n["boolean"].isBoolean,u=n.number.isInteger,l=o.isCollection;e.gcd=function c(r){var n,f=arguments[0],p=arguments[1];if(2==arguments.length){if(a(f)&&a(p)){if(!u(f)||!u(p))throw new Error("Parameters in function gcd must be integer numbers");for(;0!=p;)n=f%p,f=p,p=n;return 0>f?-f:f}if(l(f)||l(p))return o.deepMap2(f,p,c);if(f instanceof i)return a(p)?p=i.convert(p):(s(p)||null===p)&&(p=new i(p?1:0)),p instanceof i?t(f,p):c(f.toNumber(),p);if(p instanceof i)return a(f)?f=i.convert(f):(s(f)||null===f)&&(f=new i(f?1:0)),f instanceof i?t(f,p):c(f.toNumber(),p);if(s(f)||null===f)return c(+f,p);if(s(p)||null===p)return c(f,+p);throw new e.error.UnsupportedTypeError("gcd",e["typeof"](f),e["typeof"](p))}if(arguments.length>2){for(var h=1;h<arguments.length;h++)f=c(f,arguments[h]);return f}throw new SyntaxError("Function gcd expects two or more arguments")}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||t.isZero())return new i(0);for(var r=e.times(t);!t.isZero();){var n=t;t=e.mod(n),e=n}return r.div(e).abs()}var n=r(17),i=e.type.BigNumber,o=e.collection,a=n.number.isNumber,s=n["boolean"].isBoolean,u=n.number.isInteger,l=o.isCollection;e.lcm=function c(r){var n,f=arguments[0],p=arguments[1];if(2==arguments.length){if(a(f)&&a(p)){if(!u(f)||!u(p))throw new Error("Parameters in function lcm must be integer numbers");if(0==f||0==p)return 0;for(var h=f*p;0!=p;)n=p,p=f%n,f=n;return Math.abs(h/f)}if(l(f)||l(p))return o.deepMap2(f,p,c);if(f instanceof i)return a(p)?p=i.convert(p):(s(p)||null===p)&&(p=new i(p?1:0)),p instanceof i?t(f,p):c(f.toNumber(),p);if(p instanceof i)return a(f)?f=i.convert(f):(s(f)||null===f)&&(f=new i(f?1:0)),f instanceof i?t(f,p):c(f.toNumber(),p);if(s(f)||null===f)return c(+f,p);if(s(p)||null===p)return c(f,+p);throw new e.error.UnsupportedTypeError("lcm",e["typeof"](f),e["typeof"](p))}if(arguments.length>2){for(var d=1;d<arguments.length;d++)f=c(f,arguments[d]);return f}throw new SyntaxError("Function lcm expects two or more arguments")}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.log=function c(t,r){if(1==arguments.length){if(a(t))return t>=0?Math.log(t):c(new i(t,0));if(u(t))return new i(Math.log(Math.sqrt(t.re*t.re+t.im*t.im)),Math.atan2(t.im,t.re));if(t instanceof n)return t.isNegative()?c(t.toNumber()):t.ln();if(l(t))return o.deepMap(t,c);if(s(t)||null===t)return c(+t);throw new e.error.UnsupportedTypeError("log",e["typeof"](t))}if(2==arguments.length)return e.divide(c(t),c(r));throw new e.error.ArgumentsError("log",arguments.length,1,2)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.log10=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("log10",arguments.length,1);if(a(t))return t>=0?Math.log(t)/Math.LN10:c(new i(t,0));if(t instanceof n)return t.isNegative()?c(t.toNumber()):t.log();if(u(t))return new i(Math.log(Math.sqrt(t.re*t.re+t.im*t.im))/Math.LN10,Math.atan2(t.im,t.re)/Math.LN10);if(l(t))return o.deepMap(t,c);if(s(t)||null===t)return c(+t);throw new e.error.UnsupportedTypeError("log10",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){if(t>0)return e-t*Math.floor(e/t);if(0==t)return e;throw new Error("Cannot calculate mod for a negative divisor")}var n=r(17),i=e.type.BigNumber,o=e.collection,a=n.number.isNumber,s=n["boolean"].isBoolean,u=o.isCollection;e.mod=function l(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("mod",arguments.length,2);if(a(r)&&a(n))return t(r,n);if(r instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?n.isZero()?r:r.mod(n):l(r.toNumber(),n);if(n instanceof i)return a(r)?r=i.convert(r):(s(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?n.isZero()?r:r.mod(n):l(r,n.toNumber());if(u(r)||u(n))return o.deepMap2(r,n,l);if(s(r)||null===r)return l(+r,n);if(s(n)||null===n)return l(r,+n);throw new e.error.UnsupportedTypeError("mod",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){return 0==e.im?0==t.im?new o(e.re*t.re,0):0==t.re?new o(0,e.re*t.im):new o(e.re*t.re,e.re*t.im):0==e.re?0==t.im?new o(0,e.im*t.re):0==t.re?new o(-e.im*t.im,0):new o(-e.im*t.im,e.im*t.re):0==t.im?new o(e.re*t.re,e.im*t.re):0==t.re?new o(-e.im*t.im,e.re*t.im):new o(e.re*t.re-e.im*t.im,e.re*t.im+e.im*t.re)}var n=r(17),i=e.type.BigNumber,o=r(16),a=e.type.Matrix,s=r(19),u=e.collection,l=n.number.isNumber,c=n["boolean"].isBoolean,f=o.isComplex,p=Array.isArray,h=s.isUnit;e.multiply=function d(r,n){var s;if(2!=arguments.length)throw new e.error.ArgumentsError("multiply",arguments.length,2);if(l(r)){if(l(n))return r*n;if(f(n))return t(new o(r,0),n);if(h(n))return s=n.clone(),s.value=null===s.value?s._normalize(r):s.value*r,s}if(f(r)){if(l(n))return t(r,new o(n,0));if(f(n))return t(r,n)}if(r instanceof i)return l(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r.times(n):d(r.toNumber(),n);if(n instanceof i)return l(r)?r=i.convert(r):(c(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?r.times(n):d(r,n.toNumber());if(h(r)&&l(n))return s=r.clone(),s.value=null===s.value?s._normalize(n):s.value*n,s;if(p(r)){var g=e.matrix(r),m=g.multiply(n);return m instanceof a?n instanceof a?m:m.valueOf():m}if(r instanceof a)return r.multiply(n);if(p(n))return u.deepMap2(r,n,d);if(n instanceof a){var v=function(e){return d(r,e)};return u.deepMap(n,v,!0)}if(c(r)||null===r)return d(+r,n);if(c(n)||null===n)return d(r,+n);throw new e.error.UnsupportedTypeError("multiply",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.type.Matrix,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=Array.isArray;e.norm=function c(t,r){if(arguments.length<1||arguments.length>2)throw new e.error.ArgumentsError("abs",arguments.length,1,2);if(a(t))return Math.abs(t);if(u(t)){var i=Math.abs(t.re),f=Math.abs(t.im);if(i>=f){var p=f/i;return i*Math.sqrt(1+p*p)}var h=i/f;return f*Math.sqrt(1+h*h)}if(t instanceof n)return t.abs();if(s(t)||null===t)return Math.abs(t);if(l(t))return c(e.matrix(t),r);if(t instanceof o){var d=t.size();if(null==r&&(r=2),1==d.length){if(r===Number.POSITIVE_INFINITY||"inf"===r){var g;return t.forEach(function(t){var r=e.abs(t);(!g||e.larger(r,g))&&(g=r)},!0),g}if(r===Number.NEGATIVE_INFINITY||"-inf"===r){var g;return t.forEach(function(t){var r=e.abs(t);(!g||e.smaller(r,g))&&(g=r)},!0),g}if("fro"===r)return c(t);if(a(r)&&!isNaN(r)){if(!e.equal(r,0)){var g=0;return t.forEach(function(t){g=e.add(e.pow(e.abs(t),r),g)},!0),e.pow(g,1/r)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==d.length){if(1==r){var m=[];return t.forEach(function(t,r){var n=r[1];m[n]=e.add(m[n]||0,e.abs(t))},!0),e.max(m)}if(r==Number.POSITIVE_INFINITY||"inf"===r){var v=[];return t.forEach(function(t,r){var n=r[0];v[n]=e.add(v[n]||0,e.abs(t))},!0),e.max(v)}if("fro"===r)return e.sqrt(t.transpose().multiply(t).trace());if(2==r)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}throw new e.error.UnsupportedTypeError("norm",t)}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){var r=void 0!=t?t:2,n=0>r;if(n&&(r=-r),0==r)throw new Error("Root must be non-zero");if(0>e&&Math.abs(r)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return 0;if(!Number.isFinite(e))return n?0:e;var i=1e-16,o=1,a=0,s=100;do{var u=(e/Math.pow(o,r-1)-o)/r;o+=u,a++}while(Math.abs(u)>i&&s>a);return n?1/o:o}function i(e,t){var r=void 0!=t?t:new a(2),n=new a(0),i=new a(1),o=r.isNegative();if(o&&(r=r.negated()),r.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!r.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return n;if(!e.isFinite())return o?n:e;var s=i,u=0,l=100;do{var c=s,f=e.div(s.pow(r.minus(1))).minus(s).div(r);s=s.plus(f),u++}while(!s.equals(c)&&l>u);return o?i.div(s):s}var o=r(17),a=e.type.BigNumber,s=e.collection,u=o.number.isNumber,l=o["boolean"].isBoolean,c=s.isCollection;e.nthRoot=function f(r,o){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("nthRoot",arguments.length,1,2);switch(arguments.length){case 1:if(u(r))return t(r);if(r instanceof a)return i(r);if(c(r))return s.deepMap(x,f);if(l(r)||null===r)return f(+r);break;case 2:if(u(r)){if(u(o))return t(r,o);if(o instanceof a)return r=a.convert(r),r instanceof a?i(r,o):t(r,o.toNumber())}else{if(r instanceof a)return u(o)&&(o=a.convert(o)),o instanceof a?i(r,o):t(r.toNumber(),o);if(c(r)&&!c(o))return s.deepMap2(r,o,f)}if(l(r)||null===r)return f(+r,o);if(l(o)||null===o)return f(r,+o);break;default:throw new e.error.ArgumentsError("nthRoot",arguments.length,1,2)}if(l(x)||null===x)return 2==arguments.length?f(+x,n):f(+x);throw new e.error.UnsupportedTypeError("nthRoot",e["typeof"](r),e["typeof"](o))}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){var n=e.log(t),i=e.multiply(n,r);return e.exp(i)}var n=r(17),i=e.type.BigNumber,o=r(16),a=e.type.Matrix,s=n.array,u=n.number.isNumber,l=n["boolean"].isBoolean,c=Array.isArray,f=n.number.isInteger,p=o.isComplex;e.pow=function h(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("pow",arguments.length,2);if(u(r)){if(u(n))return f(n)||r>=0?Math.pow(r,n):t(new o(r,0),new o(n,0));if(p(n))return t(new o(r,0),n)}if(p(r)){if(u(n))return t(r,new o(n,0));if(p(n))return t(r,n)}if(r instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?n.isInteger()||!r.isNegative()?r.pow(n):h(r.toNumber(),n.toNumber()):h(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):(l(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?n.isInteger()&&!r.isNegative()?r.pow(n):h(r.toNumber(),n.toNumber()):h(r,n.toNumber());if(c(r)){if(!u(n)||!f(n)||0>n)throw new TypeError("For A^b, b must be a positive integer (value is "+n+")");var d=s.size(r);if(2!=d.length)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!=d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");for(var g=e.eye(d[0]).valueOf(),m=r;n>=1;)1==(1&n)&&(g=e.multiply(m,g)),n>>=1,m=e.multiply(m,m);return g}if(r instanceof a)return e.matrix(h(r.valueOf(),n));if(l(r)||null===r)return h(+r,n);if(l(n)||null===n)return h(r,+n);throw new e.error.UnsupportedTypeError("pow",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){return parseFloat(p(e,t))}var n=r(17),i=e.type.BigNumber,o=r(16),a=e.collection,s=n.number.isNumber,u=n.number.isInteger,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isCollection,p=n.number.toFixed;e.round=function h(r,n){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("round",arguments.length,1,2);if(void 0==n){if(s(r))return Math.round(r);if(c(r))return new o(Math.round(r.re),Math.round(r.im));if(r instanceof i)return r.toDecimalPlaces(0);if(f(r))return a.deepMap(r,h);if(l(r)||null===r)return Math.round(r);throw new e.error.UnsupportedTypeError("round",e["typeof"](r))}if(!s(n)||!u(n)){if(!(n instanceof i)){if(l(n)||null===r)return h(r,+n);throw new TypeError("Number of decimals in function round must be an integer")}n=parseFloat(n.valueOf())}if(0>n||n>15)throw new Error("Number of decimals in function round must be in te range of 0-15");if(s(r))return t(r,n);if(c(r))return new o(t(r.re,n),t(r.im,n));if(r instanceof i)return r.toDecimalPlaces(n);if(f(r)||f(n))return a.deepMap2(r,n,h);if(l(r)||null===r)return h(+r,n);throw new e.error.UnsupportedTypeError("round",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isCollection;e.sign=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("sign",arguments.length,1);if(s(t))return a.sign(t);if(l(t)){var r=Math.sqrt(t.re*t.re+t.im*t.im);return new i(t.re/r,t.im/r)}if(t instanceof n)return new n(t.cmp(0));if(c(t))return o.deepMap(t,f,!0);if(u(t)||null===t)return a.sign(t);throw new e.error.UnsupportedTypeError("sign",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.sqrt=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("sqrt",arguments.length,1);if(a(t))return t>=0?Math.sqrt(t):c(new i(t,0));if(u(t)){var r,f,p=Math.sqrt(t.re*t.re+t.im*t.im);return r=t.re>=0?.5*Math.sqrt(2*(p+t.re)):Math.abs(t.im)/Math.sqrt(2*(p-t.re)),f=t.re<=0?.5*Math.sqrt(2*(p-t.re)):Math.abs(t.im)/Math.sqrt(2*(p+t.re)),t.im>=0?new i(r,f):new i(r,-f)}if(t instanceof n)return t.isNegative()?c(t.toNumber()):t.sqrt();if(l(t))return o.deepMap(t,c,!0);if(s(t)||null===t)return c(+t);throw new e.error.UnsupportedTypeError("sqrt",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection;e.square=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("square",arguments.length,1);if(a(t))return t*t;if(u(t))return e.multiply(t,t);if(t instanceof n)return t.times(t);if(l(t))return o.deepMap(t,c,!0);if(s(t)||null===t)return t*t;throw new e.error.UnsupportedTypeError("square",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=(e.type.Matrix,r(19)),a=e.collection,s=t["boolean"].isBoolean,u=t.number.isNumber,l=i.isComplex,c=o.isUnit,f=a.isCollection;e.subtract=function p(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("subtract",arguments.length,2);if(u(t)){if(u(r))return t-r;if(l(r))return new i(t-r.re,-r.im)}else if(l(t)){if(u(r))return new i(t.re-r,t.im);if(l(r))return new i(t.re-r.re,t.im-r.im)}if(t instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?t.minus(r):p(t.toNumber(),r);if(r instanceof n)return u(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?t.minus(r):p(t,r.toNumber());if(c(t)&&c(r)){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");var o=t.clone();return o.value-=r.value,o.fixPrefix=!1,o}if(f(t)||f(r))return a.deepMap2(t,r,p);if(s(t)||null===t)return p(+t,r);if(s(r)||null===r)return p(t,+r);throw new e.error.UnsupportedTypeError("subtract",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=n.string.isString,f=o.isComplex,p=a.isUnit,h=s.isCollection;e.unaryMinus=function d(r){if(1!=arguments.length)throw new e.error.ArgumentsError("unaryMinus",arguments.length,1);if(u(r))return-r;if(f(r))return new o(-r.re,-r.im);if(r instanceof i)return r.neg();if(p(r)){var n=r.clone();return n.value=-r.value,n}if(h(r))return s.deepMap(r,d,!0);if(l(r)||c(r)||null===r)return"bignumber"==t.number?new i(-r):-r;throw new e.error.UnsupportedTypeError("unaryMinus",e["typeof"](r))},e.unary=function(){throw new Error("Function unary is deprecated. Use unaryMinus instead.")}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=n.string.isString,f=o.isComplex,p=a.isUnit,h=s.isCollection;e.unaryPlus=function d(r){if(1!=arguments.length)throw new e.error.ArgumentsError("unaryPlus",arguments.length,1);if(u(r))return r;if(f(r))return r.clone();if(r instanceof i)return r;if(p(r))return r.clone();if(h(r))return s.deepMap(r,d,!0);if(l(r)||c(r)||null===r)return"bignumber"==t.number?new i(+r):+r;throw new e.error.UnsupportedTypeError("unaryPlus",e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){function n(r,n){for(var i,o,a,s=0,u=1,l=1,c=0;n;)o=Math.floor(r/n),a=r%n,i=s,s=u-o*s,u=i,i=l,l=c-o*l,c=i,r=n,n=a;var f;return f=0>r?[-r,-u,-c]:[r,r?u:0,c],"array"===t.matrix?f:e.matrix(f)}function i(r,n){for(var i,o,s,u=new a(0),l=new a(0),c=new a(1),f=new a(1),p=new a(0);!n.isZero();)o=r.div(n).floor(),s=r.mod(n),i=l,l=c.minus(o.times(l)),c=i,i=f,f=p.minus(o.times(f)),p=i,r=n,n=s;var h;return h=r.lt(u)?[r.neg(),c.neg(),p.neg()]:[r,r.isZero()?0:c,p],"array"===t.matrix?h:e.matrix(h)}var o=r(17),a=(e.type.Matrix,e.type.BigNumber),s=o.number.isNumber,u=o["boolean"].isBoolean,l=o.number.isInteger;e.xgcd=function c(t,r){if(2==arguments.length){if(s(t)&&s(r)){if(!l(t)||!l(r))throw new Error("Parameters in function xgcd must be integer numbers");return n(t,r)}if(t instanceof a)return s(r)?r=a.convert(r):(u(r)||null===r)&&(r=new a(r?1:0)),r instanceof a?i(t,r):c(t.toNumber(),r);if(r instanceof a)return s(t)?t=a.convert(t):(u(t)||null===t)&&(t=new a(t?1:0)),t instanceof a?i(t,r):c(t.toNumber(),r);if(u(t)||null===t)return c(+t,r);if(u(r)||null===r)return c(t,+r);throw new e.error.UnsupportedTypeError("xgcd",e["typeof"](t),e["typeof"](r))}throw new SyntaxError("Function xgcd expects two arguments")}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=(e.type.Matrix,r(19),e.collection),a=n["boolean"].isBoolean,s=n.number.isInteger,u=n.number.isNumber,l=o.isCollection,c=n.bignumber.and;e.bitAnd=function f(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("bitAnd",arguments.length,2);if(u(t)&&u(r)){if(!s(t)||!s(r))throw new Error("Parameters in function bitAnd must be integer numbers");return t&r}if(l(t)||l(r))return o.deepMap2(t,r,f);if(a(t)||null===t)return f(+t,r);if(a(r)||null===r)return f(t,+r);if(t instanceof i)return u(r)&&(r=i.convert(r)),r instanceof i?c(t,r):f(t.toNumber(),r);if(r instanceof i)return u(t)&&(t=i.convert(t)),t instanceof i?c(t,r):f(t,r.toNumber());throw new e.error.UnsupportedTypeError("bitAnd",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=(e.type.Matrix,r(19),e.collection),a=n["boolean"].isBoolean,s=n.number.isInteger,u=n.number.isNumber,l=o.isCollection,c=n.bignumber.not;e.bitNot=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("bitNot",arguments.length,1);if(u(t)){if(!s(t))throw new Error("Parameter in function bitNot must be integer numbers");return~t}if(t instanceof i)return c(t);if(l(t))return o.deepMap(t,f);if(a(t)||null===t)return f(+t);throw new e.error.UnsupportedTypeError("bitNot",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=(e.type.Matrix,r(19),e.collection),a=n["boolean"].isBoolean,s=n.number.isInteger,u=n.number.isNumber,l=o.isCollection,c=n.bignumber.or;e.bitOr=function f(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("bitOr",arguments.length,2);if(u(t)&&u(r)){if(!s(t)||!s(r))throw new Error("Parameters in function bitOr must be integer numbers");return t|r}if(l(t)||l(r))return o.deepMap2(t,r,f);if(a(t)||null===t)return f(+t,r);if(a(r)||null===r)return f(t,+r);if(t instanceof i)return u(r)&&(r=i.convert(r)),r instanceof i?c(t,r):f(t.toNumber(),r);if(r instanceof i)return u(t)&&(t=i.convert(t)),t instanceof i?c(t,r):f(t,r.toNumber());throw new e.error.UnsupportedTypeError("bitOr",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=(e.type.Matrix,r(19),e.collection),a=n["boolean"].isBoolean,s=n.number.isInteger,u=n.number.isNumber,l=o.isCollection,c=n.bignumber.xor;e.bitXor=function f(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("bitXor",arguments.length,2);if(u(t)&&u(r)){if(!s(t)||!s(r))throw new Error("Parameters in function bitXor must be integer numbers");return t^r}if(l(t)||l(r))return o.deepMap2(t,r,f);if(a(t)||null===t)return f(+t,r);if(a(r)||null===r)return f(t,+r);if(t instanceof i)return u(r)&&(r=i.convert(r)),r instanceof i?c(t,r):f(t.toNumber(),r);if(r instanceof i)return u(t)&&(t=i.convert(t)),t instanceof i?c(t,r):f(t,r.toNumber());throw new e.error.UnsupportedTypeError("bitXor",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=(e.type.Matrix,r(19),e.collection),a=n["boolean"].isBoolean,s=n.number.isInteger,u=n.number.isNumber,l=o.isCollection,c=n.bignumber.leftShift;e.leftShift=function f(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("leftShift",arguments.length,2);if(u(t)){if(u(r)){if(!s(t)||!s(r))throw new Error("Parameters in function leftShift must be integer numbers");return t<<r}if(r instanceof i)return c(i.convert(t),r)}if(u(r)){if(isFinite(r)&&!s(r))throw new Error("Parameters in function leftShift must be integer numbers");if(t instanceof i){if(t.isFinite()&&!t.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");return t.isNaN()||isNaN(r)||0>r?new i(0/0):0==r||t.isZero()?t:r!=1/0||t.isFinite()?55>r?t.times(Math.pow(2,r)+""):(r=i.convert(r),c(t,r)):new i(0/0)}}if(l(t)&&u(r))return o.deepMap2(t,r,f);if(a(t)||null===t)return f(+t,r);if(a(r)||null===r)return f(t,+r);if(t instanceof i)return r instanceof i?c(t,r):f(t.toNumber(),r);if(r instanceof i)return f(t,r.toNumber());throw new e.error.UnsupportedTypeError("leftShift",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=(e.type.Matrix,r(19),e.collection),a=n["boolean"].isBoolean,s=n.number.isInteger,u=n.number.isNumber,l=o.isCollection,c=n.bignumber.rightShift;e.rightArithShift=function f(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("rightArithShift",arguments.length,2);if(u(t)){if(u(r)){if(!s(t)||!s(r))throw new Error("Parameters in function rightArithShift must be integer numbers");return t>>r}if(r instanceof i)return c(i.convert(t),r)}if(u(r)){if(isFinite(r)&&!s(r))throw new Error("Parameters in function rightArithShift must be integer numbers");if(t instanceof i){if(t.isFinite()&&!t.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");return t.isNaN()||isNaN(r)||0>r?new i(0/0):r==1/0?new i(t.isNegative()?-1:t.isFinite()?0:0/0):55>r?t.div(Math.pow(2,r)+"").floor():(r=i.convert(r),c(t,r))}}if(l(t)&&u(r))return o.deepMap2(t,r,f);if(a(t)||null===t)return f(+t,r);if(a(r)||null===r)return f(t,+r);if(t instanceof i)return r instanceof i?c(t,r):f(t.toNumber(),r);if(r instanceof i)return f(t,r.toNumber());throw new e.error.UnsupportedTypeError("rightArithShift",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=(e.type.Matrix,r(19),e.collection),o=n["boolean"].isBoolean,a=n.number.isInteger,s=n.number.isNumber,u=i.isCollection;e.rightLogShift=function l(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("rightLogShift",arguments.length,2);if(s(t)&&s(r)){if(!a(t)||!a(r))throw new Error("Parameters in function rightLogShift must be integer numbers");return t>>>r}if(u(t)&&s(r))return i.deepMap2(t,r,l);if(o(t)||null===t)return l(+t,r);if(o(r)||null===r)return l(t,+r);throw new e.error.UnsupportedTypeError("rightLogShift",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=t.number.isNumber,o=t.number.isPositiveInteger;e.stirlingS2=function(t,r){var a=arguments.length;if(2!=a)throw new e.error.ArgumentsError("stirlingS2",arguments.length,2);if(i(t)&&i(r)||t instanceof n){if(!o(t)||!o(r))throw new TypeError("Positive integer value expected in function stirlingS2");if(r>t)throw new TypeError("k must be less than or equal to n");t instanceof n&&(r=n.convert(r));for(var s=e.factorial(r),u=(e.divide(1,s),0),l=0;r>=l;l++){var c=e.pow(-1,e.subtract(r,l)),f=e.combinations(r,l),p=Math.pow(l,t);u=e.chain(f).multiply(p).multiply(c).add(u).done()}return e.divide(u,s)}throw new TypeError("Integer values are expected in stirlingS2")}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=t.number.isNumber,o=t.number.isPositiveInteger;e.bellNumbers=function(t){var r=0,a=arguments.length;if(1!=a)throw new e.error.ArgumentsError("bellNumbers",arguments.length,1);if(i(t)||t instanceof n){if(!o(t))throw new TypeError("Positive integer value expected in function bellNumbers");for(var s=0;t>=s;s++)r=e.add(r,e.stirlingS2(t,s));return r}throw new e.error.UnsupportedTypeError("bellNumbers",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=t.number.isNumber,o=t.number.isInteger;e.composition=function(t,r){var s=arguments.length;if(2!=s)throw new e.error.ArgumentsError("composition",arguments.length,2);if(i(t)&&i(r)||t instanceof n){if(!o(t)||0>t||!o(r)||0>r)throw new TypeError("Positive integer value expected in function composition");if(r>t)throw new TypeError("k must be less than or equal to n");return e.combinations(t-1,r-1)}if(t instanceof n){if(r=n.convert(r),!(r instanceof n&&a(t)&&a(r)))throw new TypeError("Positive integer value expected in function composition");if(r.gt(t))throw new TypeError("k must be less than n in function composition");return e.combinations(t.minus(1),r.minus(1))}throw new TypeError("Integer values are expected in composition")};var a=function(e){return e.isInteger()&&e.gte(0)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=o.isCollection,l=i.isComplex;e.arg=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("arg",arguments.length,1);if(a(t))return Math.atan2(0,t);if(l(t))return Math.atan2(t.im,t.re);if(u(t))return o.deepMap(t,c);if(s(t)||null===t)return c(+t);if(t instanceof n)return c(t.toNumber());throw new e.error.UnsupportedTypeError("arg",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.object,s=t.number.isNumber,u=t["boolean"].isBoolean,l=o.isCollection,c=i.isComplex;e.conj=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("conj",arguments.length,1);return s(t)?t:t instanceof n?new n(t):c(t)?new i(t.re,-t.im):l(t)?o.deepMap(t,f):u(t)||null===t?+t:a.clone(t)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.object,s=t.number.isNumber,u=t["boolean"].isBoolean,l=o.isCollection,c=i.isComplex;e.re=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("re",arguments.length,1);return s(t)?t:t instanceof n?new n(t):c(t)?t.re:l(t)?o.deepMap(t,f):u(t)||null===t?+t:a.clone(t)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=o.isCollection,l=i.isComplex;e.im=function c(t){if(1!=arguments.length)throw new e.error.ArgumentsError("im",arguments.length,1);return a(t)?0:t instanceof n?new n(0):l(t)?t.im:u(t)?o.deepMap(t,c):(s(t)||null===t,0)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection;e.and=function p(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("and",arguments.length,2);if((s(t)||u(t)||null===t)&&(s(r)||u(r)||null===r))return!(!t||!r);if(l(t))return 0==t.re&&0==t.im?!1:p(!0,r);if(l(r))return 0==r.re&&0==r.im?!1:p(t,!0);if(t instanceof n)return t.isZero()||t.isNaN()?!1:p(!0,r);if(r instanceof n)return r.isZero()||r.isNaN()?!1:p(t,!0);if(c(t))return null===t.value||0==t.value?!1:p(!0,r);if(c(r))return null===r.value||0==r.value?!1:p(t,!0);if(f(t)||f(r))return a.deepMap2(t,r,p);throw new e.error.UnsupportedTypeError("and",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection;e.not=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("not",arguments.length,1);if(s(t)||u(t)||null===t)return!t;if(l(t))return 0==t.re&&0==t.im;if(t instanceof n)return t.isZero()||t.isNaN();if(c(t))return null===t.value||0==t.value;if(f(t))return a.deepMap(t,p);throw new e.error.UnsupportedTypeError("not",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection;e.or=function p(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("or",arguments.length,2);if((s(t)||u(t)||null===t)&&(s(r)||u(r)||null===r))return!(!t&&!r);if(l(t))return 0==t.re&&0==t.im?p(!1,r):!0;if(l(r))return 0==r.re&&0==r.im?p(t,!1):!0;if(t instanceof n)return t.isZero()||t.isNaN()?p(!1,r):!0;if(r instanceof n)return r.isZero()||r.isNaN()?p(t,!1):!0;if(c(t))return null===t.value||0==t.value?p(!1,r):!0;

if(c(r))return null===r.value||0==r.value?p(t,!1):!0;if(f(t)||f(r))return a.deepMap2(t,r,p);throw new e.error.UnsupportedTypeError("or",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection;e.xor=function p(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("xor",arguments.length,2);if((s(t)||u(t)||null===t)&&(s(r)||u(r)||null===r))return!!(!!t^!!r);if(l(t))return p(!(0==t.re&&0==t.im),r);if(l(r))return p(t,!(0==r.re&&0==r.im));if(t instanceof n)return p(!(t.isZero()||t.isNaN()),r);if(r instanceof n)return p(t,!(r.isZero()||r.isNaN()));if(c(t))return p(!(null===t.value||0==t.value),r);if(c(r))return p(t,!(null===r.value||0==r.value));if(f(t)||f(r))return a.deepMap2(t,r,p);throw new e.error.UnsupportedTypeError("xor",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){function t(r,n,i,o){if(i>o){if(r.length!=n.length)throw new e.error.DimensionError(r.length,n.length);for(var a=[],s=0;s<r.length;s++)a[s]=t(r[s],n[s],i,o+1);return a}return r.concat(n)}var n=r(17),i=r(7),o=e.type.Matrix,a=e.collection,s=n.object,u=n.array,l=n.number.isNumber,c=n.number.isInteger,f=a.isCollection;e.concat=function(r){var n,a,p=arguments.length,h=-1,d=!1,g=[];for(n=0;p>n;n++){var m=arguments[n];if(m instanceof o&&(d=!0),n==p-1&&(l(m)||m instanceof i)){if(a=h,h=m.valueOf(),!c(h))throw new TypeError("Integer number expected for dimension");if(0>h)throw new e.error.IndexError(h);if(n>0&&h>a)throw new e.error.IndexError(h,a+1)}else{if(!f(m))throw new e.error.UnsupportedTypeError("concat",e["typeof"](m));var v=s.clone(m).valueOf(),y=u.size(m.valueOf());if(g[n]=v,a=h,h=y.length-1,n>0&&h!=a)throw new e.error.DimensionError(a+1,h+1)}}if(0==g.length)throw new SyntaxError("At least one matrix expected");for(var x=g.shift();g.length;)x=t(x,g.shift(),h,0);return d?e.matrix(x):x}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){var i=n.size(t),o=n.size(r);if(1!=i.length||1!=o.length||3!=i[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");return[e.subtract(e.multiply(t[1],r[2]),e.multiply(t[2],r[1])),e.subtract(e.multiply(t[2],r[0]),e.multiply(t[0],r[2])),e.subtract(e.multiply(t[0],r[1]),e.multiply(t[1],r[0]))]}var n=r(3),i=e.type.Matrix;e.cross=function(r,n){if(r instanceof i){if(n instanceof i)return e.matrix(t(r.toArray(),n.toArray()));if(Array.isArray(n))return e.matrix(t(r.toArray(),n))}else if(Array.isArray(r)){if(n instanceof i)return e.matrix(t(r,n.toArray()));if(Array.isArray(n))return t(r,n)}throw new e.error.UnsupportedTypeError("cross",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r,n){if(1==r)return o.clone(t[0][0]);if(2==r)return e.subtract(e.multiply(t[0][0],t[1][1]),e.multiply(t[1][0],t[0][1]));for(var i=function(t){var r,n,i=new Array(t.length),o=0;for(r=1;r<t.length;r++)o=e.add(o,t[r][r]);for(r=0;r<t.length;r++){for(i[r]=new Array(t.length),i[r][r]=e.unaryMinus(o),n=0;r>n;n++)i[r][n]=0;for(n=r+1;n<t.length;n++)i[r][n]=t[r][n];r+1<t.length&&(o=e.subtract(o,t[r+1][r+1]))}return i},a=t,s=0;r-1>s;s++)a=e.multiply(i(a),t);return r%2==0?e.unaryMinus(a[0][0]):a[0][0]}var n=r(17),i=e.type.Matrix,o=n.object,a=n.string;e.det=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("det",arguments.length,1);var n;switch(r instanceof i?n=r.size():r instanceof Array?(r=e.matrix(r),n=r.size()):n=[],n.length){case 0:return o.clone(r);case 1:if(1==n[0])return o.clone(r.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");case 2:var s=n[0],u=n[1];if(s==u)return t(r.clone().valueOf(),s,u);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(n)+")")}}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=e.type.Matrix,o=t.object,a=t.array,s=a.isArray,u=t.number.isNumber,l=t.string.isString,c=t.number.isInteger;e.diag=function(t,r,f){if(0===arguments.length||arguments.length>3)throw new e.error.ArgumentsError("diag",arguments.length,1,3);switch(arguments.length){case 1:r=0,f=void 0;break;case 2:l(arguments[1])&&(f=arguments[1],r=0)}if(!(t instanceof i||s(t)))throw new TypeError("First parameter in function diag must be a Matrix or Array");if(r instanceof n&&(r=r.toNumber()),!u(r)||!c(r))throw new TypeError("Second parameter in function diag must be an integer");if(f&&!l(f))throw new TypeError("Third parameter in function diag must be a String");var p,h,d,g,m,v,y=r>0?r:0,x=0>r?-r:0;if(t instanceof i?(g=t.valueOf(),f=f||t.storage(),p=t.size()):(g=t,p=a.size(t)),f){if(1===p.length){h=g[0]instanceof n?new n(0):0;var w=[g.length+x,g.length+y],b=i.storage(f);return b.diagonal(w,g,r,h)}if(2===p.length)return d=t.diagonal(r),e.matrix(d,f);throw new RangeError("Matrix for function diag must be 2 dimensional")}switch(p.length){case 1:h=g[0]instanceof n?new n(0):0;var E=[];for(a.resize(E,[g.length+x,g.length+y],h),v=g.length,m=0;v>m;m++)E[m+x][m+y]=o.clone(g[m]);return E;case 2:for(d=[],v=Math.min(p[0]-x,p[1]-y),m=0;v>m;m++)d[m]=o.clone(g[m+x][m+y]);return d;default:throw new RangeError("Matrix for function diag must be 2 dimensional")}}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=e.type.Matrix,a=e.collection,s=n.array,u=n.number.isNumber,l=n.number.isInteger,c=n.string.isString,f=Array.isArray;e.eye=function(r,n){var p,h=a.argsToArray(arguments);if(h.length>0&&c(h[h.length-1])?(p=h[h.length-1],h=a.argsToArray(h.slice(0,h.length-1))):r instanceof o?p=r.storage():f(r)||"matrix"!==t.matrix||(p="default"),1==h.length)h[1]=h[0];else if(h.length>2)throw new e.error.ArgumentsError("eye",h.length,0,2);var d=!1;h=h.map(function(e){if(e instanceof i&&(d=!0,e=e.toNumber()),!u(e)||!l(e)||0>e)throw new Error("Parameters in function eye must be positive integers");return e});var g=d?new i(1):1,m=d?new i(0):0;if(p){if(0===h.length)return e.matrix(p);var v=o.storage(p);return v.diagonal(h,g,0,m)}var y=[];if(h.length>0){y=s.resize(y,h,m);for(var x=e.min(h),w=0;x>w;w++)y[w][w]=g}return y}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.Matrix,o=n.object,a=n.array,s=Array.isArray;e.flatten=function(t){if(1!==arguments.length)throw new e.error.ArgumentsError("flatten",arguments.length,1);if(t instanceof i){var r=o.clone(t.toArray()),n=a.flatten(r);return e.matrix(n)}if(s(t))return a.flatten(o.clone(t));throw new e.error.UnsupportedTypeError("flatten",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r,n){var i,o,a,s,u;if(1==r){if(s=t[0][0],0==s)throw Error("Cannot calculate inverse, determinant is zero");return[[e._divide(1,s)]]}if(2==r){var l=e.det(t);if(0==l)throw Error("Cannot calculate inverse, determinant is zero");return[[e._divide(t[1][1],l),e._divide(e.unaryMinus(t[0][1]),l)],[e._divide(e.unaryMinus(t[1][0]),l),e._divide(t[0][0],l)]]}var c=t.concat();for(i=0;r>i;i++)c[i]=c[i].concat();for(var f=e.eye(r).valueOf(),p=0;n>p;p++){for(i=p;r>i&&0==c[i][p];)i++;if(i==r||0==c[i][p])throw Error("Cannot calculate inverse, determinant is zero");i!=p&&(u=c[p],c[p]=c[i],c[i]=u,u=f[p],f[p]=f[i],f[i]=u);var h=c[p],d=f[p];for(i=0;r>i;i++){var g=c[i],m=f[i];if(i!=p){if(0!=g[p]){for(a=e._divide(e.unaryMinus(g[p]),h[p]),o=p;n>o;o++)g[o]=e.add(g[o],e.multiply(a,h[o]));for(o=0;n>o;o++)m[o]=e.add(m[o],e.multiply(a,d[o]))}}else{for(a=h[p],o=p;n>o;o++)g[o]=e._divide(g[o],a);for(o=0;n>o;o++)m[o]=e._divide(m[o],a)}}}return f}var n=r(17),i=e.type.Matrix;e.inv=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("inv",arguments.length,1);var o=e.size(r).valueOf();switch(o.length){case 0:return e._divide(1,r);case 1:if(1==o[0])return r instanceof i?e.matrix([e._divide(1,r.valueOf()[0])]):[e._divide(1,r[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(o)+")");case 2:var a=o[0],s=o[1];if(a==s)return r instanceof i?e.matrix(t(r.valueOf(),a,s),r.storage()):t(r,a,s);throw new RangeError("Matrix must be square (size: "+n.string.format(o)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(o)+")")}}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=e.type.Matrix,a=e.collection,s=n.array,u=n.number.isNumber,l=n.number.isInteger,c=n.string.isString,f=Array.isArray;e.ones=function(r,n){var p,h=a.argsToArray(arguments);h.length>0&&c(h[h.length-1])?(p=h[h.length-1],h=a.argsToArray(h.slice(0,h.length-1))):r instanceof o?p=r.storage():f(r)||"matrix"!==t.matrix||(p="default");var d=!1;h=h.map(function(e){if(e instanceof i&&(d=!0,e=e.toNumber()),!u(e)||!l(e)||0>e)throw new Error("Parameters in function eye must be positive integers");return e});var g=d?new i(1):1;if(p){var m=e.matrix(p);return h.length>0?m.resize(h,g):m}var v=[];return h.length>0?s.resize(v,h,g):v}}},function(e,t,r){"use strict";e.exports=function(e,t){function n(e,t,r){var n=[],i=e;if(r>0)for(;t>i;)n.push(i),i+=r;else if(0>r)for(;i>t;)n.push(i),i+=r;return n}function i(e,t,r){var n=[],i=e;if(r>0)for(;t>=i;)n.push(i),i+=r;else if(0>r)for(;i>=t;)n.push(i),i+=r;return n}function o(e,t,r){var n=[],i=e.clone(),o=new l(0);if(r.gt(o))for(;i.lt(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gt(t);)n.push(i),i=i.plus(r);return n}function a(e,t,r){var n=[],i=e.clone(),o=new l(0);if(r.gt(o))for(;i.lte(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gte(t);)n.push(i),i=i.plus(r);return n}function s(e){var r=e.split(":"),n=null;if("bignumber"===t.number)try{n=r.map(function(e){return new l(e)})}catch(i){return null}else{n=r.map(function(e){return Number(e)});var o=n.some(function(e){return isNaN(e)});if(o)return null}switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var u=r(17),l=e.type.BigNumber,c=(e.type.Matrix,e.collection,u["boolean"].isBoolean),f=u.string.isString,p=u.number.isNumber;e.range=function(r){var u,h,d,g=Array.prototype.slice.call(arguments),m=!1;switch(c(g[g.length-1])&&(m=g.pop()?!0:!1),g.length){case 1:if(!f(g[0]))throw new TypeError("Two or three numbers or a single string expected in function range");var v=s(g[0]);if(!v)throw new SyntaxError('String "'+g[0]+'" is no valid range');u=v.start,h=v.end,d=v.step;break;case 2:u=g[0],h=g[1],d=1;break;case 3:u=g[0],h=g[1],d=g[2];break;case 4:throw new TypeError("Parameter includeEnd must be a boolean");default:throw new e.error.ArgumentsError("range",arguments.length,2,4)}if(!(p(u)||u instanceof l))throw new TypeError("Parameter start must be a number");if(!(p(h)||h instanceof l))throw new TypeError("Parameter end must be a number");if(!(p(d)||d instanceof l))throw new TypeError("Parameter step must be a number");if(u instanceof l||h instanceof l||d instanceof l){var y=!0;u instanceof l||(u=l.convert(u)),h instanceof l||(h=l.convert(h)),d instanceof l||(d=l.convert(d)),u instanceof l&&h instanceof l&&d instanceof l||(y=!1,u instanceof l&&(u=u.toNumber()),h instanceof l&&(h=h.toNumber()),d instanceof l&&(d=d.toNumber()))}var x=y?m?a:o:m?i:n,w=x(u,h,d);return"array"===t.matrix?w:e.matrix(w)}}},function(e,t,r){"use strict";e.exports=function(e,t){function n(t,r,n){if(void 0!==n){if(!c(n)||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==r.length)throw new e.error.DimensionError(r.length,1);var i=r[0];if(!f(i)||!p(i))throw new TypeError("Invalid size, must contain positive integers (size: "+l.format(r)+")");if(t.length>i)return t.substring(0,i);if(t.length<i){for(var o=t,a=0,s=i-t.length;s>a;a++)o+=n;return o}return t}var i=r(17),o=e.type.BigNumber,a=e.type.Matrix,s=i.array,u=i.object.clone,l=i.string,c=i.string.isString,f=i.number.isNumber,p=i.number.isInteger,h=s.isArray;e.resize=function(r,i,l){if(2!=arguments.length&&3!=arguments.length)throw new e.error.ArgumentsError("resize",arguments.length,2,3);if(i instanceof a&&(i=i.valueOf()),i.length&&i[0]instanceof o&&(i=i.map(function(e){return e instanceof o?e.toNumber():e})),r instanceof a)return r.resize(i,l,!0);if(c(r))return n(r,i,l);var f=h(r)?!1:"array"!==t.matrix;if(0==i.length){for(;h(r);)r=r[0];return u(r)}h(r)||(r=[r]),r=u(r);var p=s.resize(r,i,l);return f?e.matrix(p):p}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.type.Matrix,u=n.array,l=n.number.isNumber,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit;e.size=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("size",arguments.length,1);var n="array"===t.matrix;if(l(r)||p(r)||h(r)||c(r)||null==r||r instanceof i)return n?[]:e.matrix([]);if(f(r))return n?[r.length]:e.matrix([r.length]);if(Array.isArray(r))return u.size(r);if(r instanceof s)return e.matrix(r.size());throw new e.error.UnsupportedTypeError("size",e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.Matrix,i=t.object,o=t.array,a=Array.isArray;e.squeeze=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("squeeze",arguments.length,1);if(a(t))return o.squeeze(i.clone(t));if(t instanceof n){var r=o.squeeze(t.toArray());return a(r)?e.matrix(r):r}return i.clone(t)}}},function(e,t,r){"use strict";e.exports=function(e,t){function n(t,r){var n,o;if(p(t))return n=e.matrix(t),o=n.subset(r),o&&o.valueOf();if(t instanceof u)return t.subset(r);if(f(t))return i(t,r);throw new e.error.UnsupportedTypeError("subset",e["typeof"](t))}function i(t,r){if(!(r instanceof l))throw new TypeError("Index expected");if(1!=r.size().length)throw new e.error.DimensionError(r.size().length,1);var n=t.length;c.validateIndex(r.min()[0],n),c.validateIndex(r.max()[0],n);var i=r.range(0),o="";return i.forEach(function(e){o+=t.charAt(e)}),o}function o(t,r,n,i){var o;if(p(t))return o=e.matrix(e.clone(t)),o.subset(r,n,i),o.valueOf();if(t instanceof u)return t.clone().subset(r,n,i);if(f(t))return a(t,r,n,i);throw new e.error.UnsupportedTypeError("subset",e["typeof"](t))}function a(t,r,n,i){if(!(r instanceof l))throw new TypeError("Index expected");if(1!=r.size().length)throw new e.error.DimensionError(r.size().length,1);if(void 0!==i){if(!f(i)||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var o=r.range(0),a=o.size()[0];if(a!=n.length)throw new e.error.DimensionError(o.size()[0],n.length);var s=t.length;c.validateIndex(r.min()[0]),c.validateIndex(r.max()[0]);for(var u=[],p=0;s>p;p++)u[p]=t.charAt(p);if(o.forEach(function(e,t){u[e]=n.charAt(t)}),u.length>s)for(p=s-1,a=u.length;a>p;p++)u[p]||(u[p]=i);return u.join("")}var s=r(17),u=e.type.Matrix,l=r(25),c=s.array,f=s.string.isString,p=Array.isArray;e.subset=function(t,r,i,a){switch(arguments.length){case 2:return n(arguments[0],arguments[1]);case 3:case 4:return o(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw new e.error.ArgumentsError("subset",arguments.length,2,4)}}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.Matrix,i=t.object,o=t.array,a=t.string;e.trace=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("trace",arguments.length,1);if(t instanceof n)return t.trace();var r;switch(r=t instanceof Array?o.size(t):[],r.length){case 0:return i.clone(t);case 1:if(1==r[0])return i.clone(t[0]);throw new RangeError("Array must be square (size: "+a.format(r)+")");case 2:var s=r[0],u=r[1];if(s==u){for(var l=0,c=0;c<t.length;c++)l=e.add(l,t[c][c]);return l}throw new RangeError("Array must be square (size: "+a.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(r)+")")}}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.Matrix,i=t.object,o=t.string;e.transpose=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("transpose",arguments.length,1);var r=e.size(t).valueOf();switch(r.length){case 0:return i.clone(t);case 1:return i.clone(t);case 2:if(t instanceof n)return t.transpose();var a,s=r[1],u=r[0],l=t.valueOf(),c=[],f=i.clone;if(0===s)throw new RangeError("Cannot transpose a 2D matrix with no rows(size: "+o.format(r)+")");for(var p=0;s>p;p++){a=c[p]=[];for(var h=0;u>h;h++)a[h]=f(l[h][p])}return c;default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(r)+")")}}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=e.type.Matrix,a=e.collection,s=n.array,u=n.number.isNumber,l=n.number.isInteger,c=n.string.isString,f=Array.isArray;e.zeros=function(r){var n,p=a.argsToArray(arguments);p.length>0&&c(p[p.length-1])?(n=p[p.length-1],p=a.argsToArray(p.slice(0,p.length-1))):r instanceof o?n=r.storage():f(r)||"matrix"!==t.matrix||(n="default");var h=!1;p=p.map(function(e){if(e instanceof i&&(h=!0,e=e.toNumber()),!u(e)||!l(e)||0>e)throw new Error("Parameters in function zeros must be positive integers");return e});var d=h?new i(0):0;if(n){var g=e.matrix(n);return p.length>0?g.resize(p,d):g}var m=[];return p.length>0?s.resize(m,p,d):m}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=e.collection,a=n.number.isNumber,s=n["boolean"].isBoolean,u=(n.number.isInteger,o.isCollection);e.factorial=function p(r){var h,d,g;if(1!=arguments.length)throw new e.error.ArgumentsError("factorial",arguments.length,1);if(a(r))return r!==Number.POSITIVE_INFINITY?e.gamma(r+1):Math.sqrt(2*Math.PI);if(r instanceof i){if(!l(r))return r.isNegative()||r.isFinite()?e.gamma(r.plus(1)):n.bignumber.tau(t.precision).sqrt();if(r=r.toNumber(),r<f.length)return i.convert(f[r]).toSD(t.precision);var m=t.precision+(0|Math.log(r)),v=i.constructor({precision:m});if(r-=f.length,g=c[m]){if(g[r])return new i(g[r].toPrecision(t.precision));d=g[g.length-1]}else g=c[m]=[],d=new v(f[f.length-1]).toSD(m);var y=new v(1);h=new v(g.length+f.length);for(var x=g.length;r>x;++x)g[x]=d=d.times(h),h=h.plus(y);return g[r]=d.times(h),new i(g[r].toPrecision(t.precision))}if(s(r)||null===r)return 1;if(u(r))return o.deepMap(r,p);throw new e.error.UnsupportedTypeError("factorial",e["typeof"](r))};var l=function(e){return e.isInteger()&&(!e.isNegative()||e.isZero())},c=[],f=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4]}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=e.collection,s=n["boolean"].isBoolean,u=o.isComplex,l=n.number.isNumber,c=n.number.isInteger,f=a.isCollection;e.gamma=function h(t){var r,n,d=4.7421875;if(1!=arguments.length)throw new e.error.ArgumentsError("gamma",arguments.length,1);if(l(t)){if(c(t)){if(0>=t)return isFinite(t)?1/0:0/0;if(t>171)return 1/0;for(var g=t-2,m=t-1;g>1;)m*=g,g--;return 0==m&&(m=1),m}if(.5>t)return Math.PI/(Math.sin(Math.PI*t)*h(1-t));if(t>=171.35)return 1/0;if(t>85){var v=t*t,y=v*t,x=y*t,w=x*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*v)-139/(51840*y)-571/(2488320*x)+163879/(209018880*w)+5246819/(75246796800*w*t))}--t,n=p[0];for(var b=1;b<p.length;++b)n+=p[b]/(t+b);return r=t+d+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*n}if(u(t)){if(0==t.im)return h(t.re);t=new o(t.re-1,t.im),n=new o(p[0],0);for(var b=1;b<p.length;++b){var E=t.re+b,_=E*E+t.im*t.im;0!=_?(n.re+=p[b]*E/_,n.im+=-(p[b]*t.im)/_):n.re=p[b]<0?-(1/0):1/0}r=new o(t.re+d+.5,t.im);var N=Math.sqrt(2*Math.PI);t.re+=.5;var S=e.pow(r,t);0==S.im?S.re*=N:0==S.re?S.im*=N:(S.re*=N,S.im*=N);var T=Math.exp(-r.re);return r.re=T*Math.cos(-r.im),r.im=T*Math.sin(-r.im),e.multiply(e.multiply(S,r),n)}if(t instanceof i){if(t.isInteger())return t.isNegative()||t.isZero()?new i(1/0):e.factorial(t.minus(1));if(!t.isFinite())return new i(t.isNegative()?0/0:1/0)}if(s(t)||null===t)return t?1:1/0;if(f(t))return a.deepMap(t,h);throw new e.error.UnsupportedTypeError("gamma",e["typeof"](t))};var p=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22]}},function(e,t,r){"use strict";e.exports=function(e){var t=r(284)(e);e.random=t("uniform").random}},function(e,t,r){"use strict";e.exports=function(e){function t(t){if(!s.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var r=Array.prototype.slice.call(arguments,1),o=s[t].apply(this,r);return function(t){var r={random:function(t,r,i){var s,l,c;if(arguments.length>3)throw new e.error.ArgumentsError("random",arguments.length,0,3);if(1===arguments.length?a(t)?s=t:c=t:2===arguments.length?a(t)?(s=t,c=r):(l=t,c=r):(s=t,l=r,c=i),void 0===c&&(c=1),void 0===l&&(l=0),void 0!==s){var f=u(s.valueOf(),l,c,o);return s instanceof n?e.matrix(f):f}return o(l,c)},randomInt:function(t,r,i){var o,l,c;if(arguments.length>3||arguments.length<1)throw new e.error.ArgumentsError("randomInt",arguments.length,1,3);if(1===arguments.length?a(t)?o=t:c=t:2===arguments.length?a(t)?(o=t,c=r):(l=t,c=r):(o=t,l=r,c=i),void 0===l&&(l=0),void 0!==o){var f=u(o.valueOf(),l,c,s);return o instanceof n?e.matrix(f):f}return s(l,c)},pickRandom:function(t){if(1!==arguments.length)throw new e.error.ArgumentsError("pickRandom",arguments.length,1);if(t instanceof n)t=t.valueOf();else if(!Array.isArray(t))throw new e.error.UnsupportedTypeError("pickRandom",e["typeof"](t));if(i.size(t).length>1)throw new Error("Only one dimensional vectors supported");return t[Math.floor(Math.random()*t.length)]}},o=function(e,r){return e+t()*(r-e)},s=function(e,r){return Math.floor(e+t()*(r-e))},u=function(e,t,r,n){var i,o,a=[];if(e=e.slice(0),e.length>1)for(o=0,i=e.shift();i>o;o++)a.push(u(e,t,r,n));else for(o=0,i=e.shift();i>o;o++)a.push(n(t,r));return a};return r}(o)}var n=e.type.Matrix,i=r(3),o=e.collection,a=o.isCollection,s={uniform:function(){return Math.random},normal:function(){return function(){for(var e,t,r=-1;0>r||r>1;)e=Math.random(),t=Math.random(),r=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return r}}};return t}},function(e,t,r){"use strict";e.exports=function(e){var t=r(284)(e);e.randomInt=t("uniform").randomInt}},function(e,t,r){"use strict";e.exports=function(e){var t=r(284)(e);e.pickRandom=t("uniform").pickRandom}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=t.number.isNumber,o=t.number.isInteger;e.permutations=function(t,r){var s,u,l=arguments.length;if(l>2)throw new e.error.ArgumentsError("permutations",arguments.length,2);if(i(t)){if(!o(t)||0>t)throw new TypeError("Positive integer value expected in function permutations");if(1==l)return e.factorial(t);if(2==l&&i(r)){if(!o(r)||0>r)throw new TypeError("Positive integer value expected in function permutations");if(r>t)throw new TypeError("second argument k must be less than or equal to first argument n");for(s=1,u=t-r+1;t>=u;u++)s*=u;return s}}if(t instanceof n){if(void 0===r&&a(t))return e.factorial(t);if(r=n.convert(r),!(r instanceof n&&a(t)&&a(r)))throw new TypeError("Positive integer value expected in function permutations");if(r.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(s=new n(1),u=t.minus(r).plus(1);u.lte(t);u=u.plus(1))s=s.times(u);return s}throw new e.error.UnsupportedTypeError("permutations",e["typeof"](t))};var a=function(e){return e.isInteger()&&e.gte(0)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=(e.collection,t.number.isNumber),o=t.number.isInteger;e.combinations=function(t,r){var s,u,l,c,f=arguments.length;if(2!=f)throw new e.error.ArgumentsError("combinations",arguments.length,2);if(i(t)){if(!o(t)||0>t)throw new TypeError("Positive integer value enpected in function combinations");if(r>t)throw new TypeError("k must be less than or equal to n");for(s=Math.max(r,t-r),u=1,l=1;t-s>=l;l++)u=u*(s+l)/l;return u}if(t instanceof n){if(r=n.convert(r),!(r instanceof n&&a(t)&&a(r)))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(t))throw new TypeError("k must be less than n in function combinations");for(s=t.minus(r),r.lt(s)&&(s=r),u=new n(1),l=new n(1),c=t.minus(s);l.lte(c);l=l.plus(1))u=u.times(s.plus(l)).dividedBy(l);return u}throw new e.error.UnsupportedTypeError("combinations",e["typeof"](t))};var a=function(e){return e.isInteger()&&e.gte(0)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=(e.type.BigNumber,Array.isArray,e.collection),i=(t.number.isInteger,t.number.isPositiveInteger);e.multinomial=function(t){var r=arguments.length;if(1!=r)throw new e.error.ArgumentsError("multinomial",arguments.length,1);if(!Array.isArray(t))throw new e.error.UnsupportedTypeError("multinomial",e["typeof"](t));var o=0,a=1;return n.deepForEach(t,function(t){if(!i(t))throw new TypeError("Positive integer value expected in function multinomial");o=e.add(o,t),a=e.multiply(a,e.factorial(t))}),e.divide(e.factorial(o),a)}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.compare=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("compare",arguments.length,2);if(u(r)&&u(n))return l(r,n,t.epsilon)?0:r>n?1:-1;if(r instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?new i(r.cmp(n)):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):(c(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?new i(r.cmp(n)):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return r.value>n.value?1:r.value<n.value?-1:0}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return r>n?1:n>r?-1:0;if(c(r)||null===r)return g(+r,n);if(c(n)||null===n)return g(r,+n);if(p(r)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("compare",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(r,n){if(i(r)){if(i(n)){var o=r.length;if(o!==n.length)return!1;for(var a=0;o>a;a++)if(!t(r[a],n[a]))return!1;return!0}return!1}return i(n)?!1:e.equal(r,n)}var r=e.collection,n=r.isCollection,i=Array.isArray;e.deepEqual=function(r,i){if(2!=arguments.length)throw new e.error.ArgumentsError("deepEqual",arguments.length,2);return n(r)||n(i)?t(r.valueOf(),i.valueOf()):e.equal(r,i)}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.equal=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("equal",arguments.length,2);if(u(r)){if(u(n))return l(r,n,t.epsilon);if(p(n))return l(r,n.re,t.epsilon)&&l(n.im,0,t.epsilon)}if(p(r)){if(u(n))return l(r.re,n,t.epsilon)&&l(r.im,0,t.epsilon);if(p(n))return l(r.re,n.re,t.epsilon)&&l(r.im,n.im,t.epsilon)}if(r instanceof i)return u(n)?n=i.convert(n):c(n)&&(n=new i(n?1:0)),n instanceof i?r.eq(n):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):c(r)&&(r=new i(r?1:0)),r instanceof i?r.eq(n):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return r.value==n.value}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return r==n;if(c(r))return g(+r,n);if(c(n))return g(r,+n);if(null===r)return null===n;if(null===n)return null===r;if(void 0===r)return void 0===n;if(void 0===n)return void 0===r;throw new e.error.UnsupportedTypeError("equal",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.larger=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("larger",arguments.length,2);if(u(r)&&u(n))return!l(r,n,t.epsilon)&&r>n;if(r instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r.gt(n):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):(c(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?r.gt(n):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return r.value>n.value}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return r>n;if(c(r)||null===r)return g(+r,n);if(c(n)||null===n)return g(r,+n);if(p(r)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("larger",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.largerEq=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("largerEq",arguments.length,2);if(u(r)&&u(n))return l(r,n,t.epsilon)||r>n;if(r instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r.gte(n):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):(c(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?r.gte(n):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return r.value>=n.value}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return r>=n;if(c(r)||null===r)return g(+r,n);if(c(n)||null===n)return g(r,+n);if(p(r)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("largerEq",e["typeof"](r),e["typeof"](n))},e.largereq=function(){throw new Error("Function largereq is renamed to largerEq")}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.smaller=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("smaller",arguments.length,2);if(u(r)&&u(n))return!l(r,n,t.epsilon)&&n>r;if(r instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r.lt(n):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):(c(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?r.lt(n):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return r.value<n.value}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return n>r;if(c(r)||null===r)return g(+r,n);if(c(n)||null===n)return g(r,+n);if(p(r)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("smaller",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.smallerEq=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("smallerEq",arguments.length,2);if(u(r)&&u(n))return l(r,n,t.epsilon)||n>r;if(r instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r.lte(n):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):(c(r)||null===r)&&(r=new i(r?1:0)),r instanceof i?r.lte(n):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");

return r.value<=n.value}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return n>=r;if(c(r)||null===r)return g(+r,n);if(c(n)||null===n)return g(r,+n);if(p(r)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("smallerEq",e["typeof"](r),e["typeof"](n))},e.smallereq=function(){throw new Error("Function smallereq is renamed to smallerEq")}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n.number.nearlyEqual,c=n["boolean"].isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,d=s.isCollection;e.unequal=function g(r,n){if(2!=arguments.length)throw new e.error.ArgumentsError("unequal",arguments.length,2);if(u(r)){if(u(n))return!l(r,n,t.epsilon);if(p(n))return!l(r,n.re,t.epsilon)||!l(n.im,0,t.epsilon)}if(p(r)){if(u(n))return!l(r.re,n,t.epsilon)||!l(r.im,0,t.epsilon);if(p(n))return!l(r.re,n.re,t.epsilon)||!l(r.im,n.im,t.epsilon)}if(r instanceof i)return u(n)?n=i.convert(n):c(n)&&(n=new i(n?1:0)),n instanceof i?!r.eq(n):g(r.toNumber(),n);if(n instanceof i)return u(r)?r=i.convert(r):c(r)&&(r=new i(r?1:0)),r instanceof i?!r.eq(n):g(r,n.toNumber());if(h(r)&&h(n)){if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return r.value!=n.value}if(d(r)||d(n))return s.deepMap2(r,n,g);if(f(r)||f(n))return r!=n;if(c(r))return g(+r,n);if(c(n))return g(r,+n);if(null===r)return null!==n;if(null===n)return null!==r;if(void 0===r)return void 0!==n;if(void 0===n)return void 0!==r;throw new e.error.UnsupportedTypeError("unequal",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){return e.smaller(t,r)?t:r}function r(t){var r=void 0;if(n.deepForEach(t,function(t){(void 0===r||e.smaller(t,r))&&(r=t)}),void 0===r)throw new Error("Cannot calculate min of an empty array");return r}var n=(e.type.Matrix,e.collection),i=n.isCollection;e.min=function(e){if(0==arguments.length)throw new SyntaxError("Function min requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return r(e);if(2==arguments.length)return n.reduce(arguments[0],arguments[1],t);throw new SyntaxError("Wrong number of parameters")}return r(arguments)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){return e.larger(t,r)?t:r}function r(t){var r=void 0;if(n.deepForEach(t,function(t){(void 0===r||e.larger(t,r))&&(r=t)}),void 0===r)throw new Error("Cannot calculate max of an empty array");return r}var n=(e.type.Matrix,e.collection),i=n.isCollection;e.max=function(e){if(0==arguments.length)throw new SyntaxError("Function max requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return r(e);if(2==arguments.length)return n.reduce(arguments[0],arguments[1],t);throw new SyntaxError("Wrong number of parameters")}return r(arguments)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){var n=i.reduce(t,r,e.add),o=s(t)?a(t):t.size();return e.divide(n,o[r])}function n(t){var r=0,n=0;if(i.deepForEach(t,function(t){r=e.add(r,t),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return e.divide(r,n)}var i=(e.type.Matrix,e.collection),o=i.isCollection,a=r(3).size,s=Array.isArray;e.mean=function(e){if(0==arguments.length)throw new SyntaxError("Function mean requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return t(arguments[0],arguments[1]);throw new SyntaxError("Wrong number of parameters")}return n(arguments)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){r||(t=u(t));var o=t.length;if(0==o)throw new Error("Cannot calculate median of an empty array");if(o%2==0){for(var s=o/2-1,l=e.partitionSelect(t,s+1),c=t[s],f=0;s>f;++f)e.compare(t[f],c)>0&&(c=t[f]);if(!(a(c)||c instanceof i||c instanceof n))throw new e.error.UnsupportedTypeError("median",e["typeof"](c));if(!(a(l)||l instanceof i||l instanceof n))throw new e.error.UnsupportedTypeError("median",e["typeof"](l));return e.divide(e.add(c,l),2)}var p=e.partitionSelect(t,(o-1)/2);if(!(a(p)||p instanceof i||p instanceof n))throw new e.error.UnsupportedTypeError("median",e["typeof"](p));return p}var n=(e.type.Matrix,r(19)),i=e.type.BigNumber,o=e.collection,a=r(5).isNumber,s=o.isCollection,u=r(3).flatten;e.median=function(e){if(0==arguments.length)throw new SyntaxError("Function median requires one or more parameters (0 provided)");if(s(e)){if(1==arguments.length)return t(e.valueOf(),!1);throw 2==arguments.length?new Error("median(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];return t(r,!0)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t){var n=void 0;if(r.deepForEach(t,function(t){n=void 0===n?t:e.multiply(n,t)}),void 0===n)throw new Error("Cannot calculate prod of an empty array");return n}var r=(e.type.Matrix,e.collection),n=r.isCollection;e.prod=function(e){if(0==arguments.length)throw new SyntaxError("Function prod requires one or more parameters (0 provided)");if(n(e)){if(1==arguments.length)return t(e);throw 2==arguments.length?new Error("prod(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return t(arguments)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r,i){var o=d(t),a=o.length;if(0===a)throw new Error("Cannot calculate quantile of an empty sequence");if(p(r)){var s=r*(a-1),u=s%1;if(0===u){var l=i?o[s]:e.partitionSelect(o,s);return n(l),l}var c,f,m=Math.floor(s);if(i)c=o[m],f=o[m+1];else{f=e.partitionSelect(o,m+1),c=o[m];for(var v=0;m>v;++v)e.compare(o[v],c)>0&&(c=o[v])}return n(c,f),h(g(c,1-u),g(f,u))}var s=r.times(a-1);if(s.isInteger()){s=s.toNumber();var l=i?o[s]:e.partitionSelect(o,s);return n(l),l}var c,f,m=s.floor(),u=s.minus(m),y=m.toNumber();if(i)c=o[y],f=o[y+1];else{f=e.partitionSelect(o,y+1),c=o[y];for(var v=0;y>v;++v)e.compare(o[v],c)>0&&(c=o[v])}n(c,f);var x=u.constructor.ONE;return h(g(c,x.minus(u)),g(f,u))}function n(t,r){if(!(p(t)||t instanceof a||t instanceof s))throw new e.error.UnsupportedTypeError("quantileSeq",e["typeof"](t));if(!(void 0===r||p(r)||r instanceof a||r instanceof s))throw new e.error.UnsupportedTypeError("quantileSeq",e["typeof"](r))}var i=r(17),o=e.collection,a=e.type.BigNumber,s=r(19),u=Array.isArray,l=i["boolean"].isBoolean,c=o.isCollection,f=i.number.isInteger,p=i.number.isNumber,h=e.add,d=i.array.flatten,g=e.multiply;e.quantileSeq=function(r,n,i){var o,s,h;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(c(r)){if(i=i||!1,l(i)){if(s=r.valueOf(),p(n)){if(0>n)throw new Error("N/prob must be non-negative");if(1>=n)return t(s,n,i);if(n>1){if(!f(n))throw new Error("N must be a positive integer");var d=n+1;o=new Array(n);for(var g=0;n>g;)o[g]=t(s,++g/d,i);return o}}if(n instanceof a){if(n.isNegative())throw new Error("N/prob must be non-negative");if(h=n.constructor.ONE,n.lte(h))return t(s,n,i);if(n.gt(h)){if(!n.isInteger())throw new Error("N must be a positive integer");var m=n.toNumber();if(m>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var d=new a(m+1);o=new Array(m);for(var g=0;m>g;)o[g]=t(s,new a(++g).div(d),i);return o}}if(u(n)){o=new Array(n.length);for(var g=0;g<o.length;++g){var v=n[g];if(p(v)){if(0>v||v>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(v instanceof a))throw new e.error.UnsupportedTypeError("quantileSeq",e["typeof"](v));if(h=v.constructor.ONE,v.isNegative()||v.gt(h))throw new Error("Probability must be between 0 and 1, inclusive")}o[g]=t(s,v,i)}return o}throw new e.error.UnsupportedTypeError("quantileSeq",e["typeof"](n))}throw new e.error.UnsupportedTypeError("quantileSeq",e["typeof"](i))}throw new e.error.UnsupportedTypeError("quantileSeq",e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){e.std=function(t,r){if(0==arguments.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");var n=e["var"].apply(null,arguments);return e.sqrt(n)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t){var n=void 0;if(r.deepForEach(t,function(t){n=void 0===n?t:e.add(n,t)}),void 0===n)throw new Error("Cannot calculate sum of an empty array");return n}var r=(e.type.Matrix,e.collection),n=r.isCollection;e.sum=function(e){if(0==arguments.length)throw new SyntaxError("Function sum requires one or more parameters (0 provided)");if(n(e)){if(1==arguments.length)return t(e);throw 2==arguments.length?new Error("sum(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return t(arguments)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r){var o=0,a=0;if(i.deepForEach(t,function(t){o=e.add(o,t),a++}),0===a)throw new Error("Cannot calculate var of an empty array");var s=e.divide(o,a);switch(o=0,i.deepForEach(t,function(t){var r=e.subtract(t,s);o=e.add(o,e.multiply(r,r))}),r){case"uncorrected":return e.divide(o,a);case"biased":return e.divide(o,a+1);case"unbiased":var u=o instanceof n?new n(0):0;return 1==a?u:e.divide(o,a-1);default:throw new Error('Unknown normalization "'+r+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var n=(e.type.Matrix,e.type.BigNumber),i=e.collection,o=i.isCollection,a=r(9).isString,s="unbiased";e["var"]=function(e,r){if(0==arguments.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return t(e,s);if(2==arguments.length){if(!a(r))throw new Error("String expected for parameter normalization");return t(e,r)}throw new SyntaxError("Wrong number of parameters")}return t(arguments,s)}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection,c=t.bignumber.arccos_arcsec;e.acos=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("acos",arguments.length,1);if(a(t))return t>=-1&&1>=t?Math.acos(t):f(new i(t,0));if(u(t)){var r=new i(t.im*t.im-t.re*t.re+1,-2*t.re*t.im),p=e.sqrt(r),h=new i(p.re-t.im,p.im+t.re),d=e.log(h);return new i(1.5707963267948966-d.im,d.re)}if(l(t))return o.deepMap(t,f);if(s(t)||null===t)return Math.acos(t);if(t instanceof n)return c(t,n,!1);throw new e.error.UnsupportedTypeError("acos",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=(o.isUnit,a.isCollection),f=t.bignumber.acosh_asinh_asech_acsch;e.acosh=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("acosh",arguments.length,1);if(s(t))return t>=1?Math.log(Math.sqrt(t*t-1)+t):-1>=t?new i(Math.log(Math.sqrt(t*t-1)-t),Math.PI):p(new i(t,0));if(l(t)){var r,o=e.acos(t);return o.im<=0?(r=o.re,o.re=-o.im,o.im=r):(r=o.im,o.im=-o.re,o.re=r),o}if(c(t))return a.deepMap(t,p);if(u(t)||null===t)return t?0:new i(0,1.5707963267948966);if(t instanceof n)return f(t,n,!1,!1);throw new e.error.UnsupportedTypeError("acosh",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection,c=t.bignumber.arctan_arccot;e.acot=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("acot",arguments.length,1);if(a(t))return t?Math.atan(1/t):f;if(u(t)){if(0==t.im)return new i(t.re?Math.atan(1/t.re):f,0);var r=t.re*t.re+t.im*t.im;return t=0!=r?new i(t.re=t.re/r,t.im=-t.im/r):new i(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),e.atan(t)}if(l(t))return o.deepMap(t,p);if(s(t)||null===t)return t?.7853981633974483:f;if(t instanceof n)return c(t,n,!0);throw new e.error.UnsupportedTypeError("acot",e["typeof"](t))};var f=1.5707963267948966}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=(o.isUnit,a.isCollection),f=t.bignumber.atanh_acoth;e.acoth=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("acoth",arguments.length,1);if(s(t))return t>=1||-1>=t?isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0:t?h(new i(t,0)):new i(0,p);if(l(t)){if(0==t.re&&0==t.im)return new i(0,p);var r=t.re*t.re+t.im*t.im;return t=0!=r?new i(t.re/r,-t.im/r):new i(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),e.atanh(t)}if(c(t))return a.deepMap(t,h);if(u(t)||null===t)return t?1/0:new i(0,p);if(t instanceof n)return f(t,n,!0);throw new e.error.UnsupportedTypeError("acoth",e["typeof"](t))};var p=1.5707963267948966}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection,c=t.bignumber.arcsin_arccsc;e.acsc=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("acsc",arguments.length,1);if(a(t))return-1>=t||t>=1?Math.asin(1/t):p(new i(t,0));if(u(t)){if(0==t.re&&0==t.im)return new i(f,1/0);var r=t.re*t.re+t.im*t.im;return t=0!=r?new i(t.re=t.re/r,t.im=-t.im/r):new i(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),e.asin(t)}if(l(t))return o.deepMap(t,p);if(s(t)||null===t)return t?f:new i(f,1/0);if(t instanceof n)return c(t,n,!0);throw new e.error.UnsupportedTypeError("acsc",e["typeof"](t))};var f=1.5707963267948966}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=(o.isUnit,a.isCollection),f=t.bignumber.acosh_asinh_asech_acsch;e.acsch=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("acsch",arguments.length,1);if(s(t))return t=1/t,Math.log(t+Math.sqrt(t*t+1));if(l(t)){if(0==t.im)return t=0!=t.re?Math.log(t.re+Math.sqrt(t.re*t.re+1)):1/0,new i(t,0);var r=t.re*t.re+t.im*t.im;return t=0!=r?new i(t.re/r,-t.im/r):new i(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),e.asinh(t)}if(c(t))return a.deepMap(t,p);if(u(t)||null===t)return t?.881373587019543:1/0;if(t instanceof n)return f(t,n,!0,!0);throw new e.error.UnsupportedTypeError("acsch",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection,c=t.bignumber.arccos_arcsec;e.asec=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("asec",arguments.length,1);if(a(t))return-1>=t||t>=1?Math.acos(1/t):f(new i(t,0));if(u(t)){if(0==t.re&&0==t.im)return new i(0,1/0);var r=t.re*t.re+t.im*t.im;return t=0!=r?new i(t.re=t.re/r,t.im=-t.im/r):new i(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),e.acos(t)}if(l(t))return o.deepMap(t,f);if(s(t)||null===t)return t?0:new i(0,1/0);if(t instanceof n)return c(t,n,!0);throw new e.error.UnsupportedTypeError("asec",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=(o.isUnit,a.isCollection),f=t.bignumber.acosh_asinh_asech_acsch;e.asech=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("asech",arguments.length,1);if(s(t)){if(1>=t&&t>=-1){t=1/t;var r=Math.sqrt(t*t-1);return t>0?Math.log(r+t):new i(Math.log(r-t),Math.PI)}return p(new i(t,0))}if(l(t)){if(0==t.re&&0==t.im)return new i(1/0,0);var o=t.re*t.re+t.im*t.im;return t=0!=o?new i(t.re/o,-t.im/o):new i(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),e.acosh(t)}if(c(t))return a.deepMap(t,p);if(u(t)||null===t)return t?0:1/0;if(t instanceof n)return f(t,n,!1,!0);throw new e.error.UnsupportedTypeError("asech",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection,c=t.bignumber.arcsin_arccsc;e.asin=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("asin",arguments.length,1);if(a(t))return t>=-1&&1>=t?Math.asin(t):f(new i(t,0));if(u(t)){var r=t.re,p=t.im,h=new i(p*p-r*r+1,-2*r*p),d=e.sqrt(h),g=new i(d.re-p,d.im+r),m=e.log(g);return new i(m.im,-m.re)}if(l(t))return o.deepMap(t,f,!0);if(s(t)||null===t)return Math.asin(t);if(t instanceof n)return c(t,n,!1);throw new e.error.UnsupportedTypeError("asin",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=(o.isUnit,a.isCollection),f=t.bignumber.acosh_asinh_asech_acsch;e.asinh=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("asinh",arguments.length,1);if(s(t))return Math.log(Math.sqrt(t*t+1)+t);if(l(t)){var r=t.im;t.im=-t.re,t.re=r;var i=e.asin(t);return t.re=-t.im,t.im=r,r=i.re,i.re=-i.im,i.im=r,i}if(c(t))return a.deepMap(t,p,!0);if(u(t)||null===t)return t?.881373587019543:0;if(t instanceof n)return f(t,n,!0,!1);throw new e.error.UnsupportedTypeError("asinh",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=i.isComplex,l=o.isCollection,c=t.bignumber.arctan_arccot;e.atan=function f(t){if(1!=arguments.length)throw new e.error.ArgumentsError("atan",arguments.length,1);if(a(t))return Math.atan(t);if(u(t)){if(0==t.re){if(1==t.im)return new i(0,1/0);if(-1==t.im)return new i(0,-(1/0))}var r=t.re,p=t.im,h=r*r+(1-p)*(1-p),d=new i((1-p*p-r*r)/h,-2*r/h),g=e.log(d);return new i(-.5*g.im,.5*g.re)}if(l(t))return o.deepMap(t,f,!0);if(s(t)||null===t)return Math.atan(t);if(t instanceof n)return c(t,n,!1);throw new e.error.UnsupportedTypeError("atan",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=e.collection,a=t.number.isNumber,s=t["boolean"].isBoolean,u=(i.isComplex,o.isCollection),l=t.bignumber.arctan2;e.atan2=function c(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("atan2",arguments.length,2);if(a(t)){if(a(r))return Math.atan2(t,r);if(r instanceof n)return l(new n(t),r,n)}if(u(t)||u(r))return o.deepMap2(t,r,c);if(s(t)||null===t)return c(t?1:0,r);if(s(r)||null===r)return c(t,r?1:0);if(t instanceof n)return a(r)?l(t,new n(r),n):r instanceof n?l(t,r,n):c(t.toNumber(),r);if(r instanceof n)return t instanceof n?l(t,r,n):c(t,r.toNumber());throw new e.error.UnsupportedTypeError("atan2",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=(o.isUnit,a.isCollection),f=t.bignumber.atanh_acoth;e.atanh=function p(t){if(1!=arguments.length)throw new e.error.ArgumentsError("atanh",arguments.length,1);if(s(t))return 1>=t&&t>=-1?Math.log((1+t)/(1-t))/2:p(new i(t,0));if(l(t)){var r=t.re>1&&0==t.im,o=1-t.re,h=1+t.re,d=o*o+t.im*t.im;t=0!=d?new i((h*o-t.im*t.im)/d,(t.im*o+h*t.im)/d):new i(-1!=t.re?t.re/0:0,0!=t.im?t.im/0:0);var g=t.re;return t.re=Math.log(Math.sqrt(t.re*t.re+t.im*t.im))/2,t.im=Math.atan2(t.im,g)/2,r&&(t.im=-t.im),t}if(c(t))return a.deepMap(t,p,!0);if(u(t)||null===t)return t?1/0:0;if(t instanceof n)return f(t,n,!1);throw new e.error.UnsupportedTypeError("atanh",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.cos=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("cos",arguments.length,1);if(u(t))return Math.cos(t);if(c(t))return new o(Math.cos(t.re)*e.cosh(-t.im),Math.sin(t.re)*e.sinh(-t.im));if(f(t)){if(!t.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return Math.cos(t.value)}if(p(t))return s.deepMap(t,d);if(l(t)||null===t)return Math.cos(t);if(t instanceof i)return h(t,i,0,!1);throw new e.error.UnsupportedTypeError("cos",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection,p=t.bignumber.cosh_sinh_csch_sech;e.cosh=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("cosh",arguments.length,1);if(s(t))return(Math.exp(t)+Math.exp(-t))/2;if(l(t)){var r=Math.exp(t.re),d=Math.exp(-t.re);return new i(Math.cos(t.im)*(r+d)/2,Math.sin(t.im)*(r-d)/2)}if(c(t)){if(!t.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return h(t.value)}if(f(t))return a.deepMap(t,h);if(u(t)||null===t)return h(t?1:0);if(t instanceof n)return p(t,n,!1,!1);throw new e.error.UnsupportedTypeError("cosh",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.tan_cot;e.cot=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("cot",arguments.length,1);if(u(t))return 1/Math.tan(t);if(c(t)){var r=Math.exp(-4*t.im)-2*Math.exp(-2*t.im)*Math.cos(2*t.re)+1;return new o(2*Math.exp(-2*t.im)*Math.sin(2*t.re)/r,(Math.exp(-4*t.im)-1)/r)}if(f(t)){if(!t.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return 1/Math.tan(t.value)}if(p(t))return s.deepMap(t,d);if(l(t)||null===t)return d(+t);if(t instanceof i)return h(t,i,!0);throw new e.error.UnsupportedTypeError("cot",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection,p=t.bignumber.tanh_coth;e.coth=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("coth",arguments.length,1);if(s(t)){var r=Math.exp(2*t);return(r+1)/(r-1)}if(l(t)){var d=Math.exp(2*t.re),g=d*Math.cos(2*t.im),m=d*Math.sin(2*t.im),v=(g-1)*(g-1)+m*m;return new i(((g+1)*(g-1)+m*m)/v,-2*m/v)}if(c(t)){if(!t.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return h(t.value)}if(f(t))return a.deepMap(t,h);if(u(t)||null===t)return h(t?1:0);if(t instanceof n)return p(t,n,!0);throw new e.error.UnsupportedTypeError("coth",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.csc=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("csc",arguments.length,1);if(u(t))return 1/Math.sin(t);if(c(t)){var r=.25*(Math.exp(-2*t.im)+Math.exp(2*t.im))-.5*Math.cos(2*t.re);return new o(.5*Math.sin(t.re)*(Math.exp(-t.im)+Math.exp(t.im))/r,.5*Math.cos(t.re)*(Math.exp(-t.im)-Math.exp(t.im))/r)}if(f(t)){if(!t.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return 1/Math.sin(t.value)}if(p(t))return s.deepMap(t,d);if(l(t)||null===t)return d(+t);if(t instanceof i)return h(t,i,1,!0);throw new e.error.UnsupportedTypeError("csc",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number,u=t.number.isNumber,l=t["boolean"].isBoolean,c=i.isComplex,f=o.isUnit,p=a.isCollection,h=t.bignumber.cosh_sinh_csch_sech;e.csch=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("csch",arguments.length,1);if(u(t))return 0==t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*s.sign(t);if(c(t)){var r=Math.exp(t.re),g=Math.exp(-t.re),m=Math.cos(t.im)*(r-g),v=Math.sin(t.im)*(r+g),y=m*m+v*v;return new i(2*m/y,-2*v/y)}if(f(t)){if(!t.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return d(t.value)}if(p(t))return a.deepMap(t,d);if(l(t)||null===t)return d(t?1:0);if(t instanceof n)return h(t,n,!0,!0);throw new e.error.UnsupportedTypeError("csch",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.sec=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("sec",arguments.length,1);if(u(t))return 1/Math.cos(t);if(c(t)){var r=.25*(Math.exp(-2*t.im)+Math.exp(2*t.im))+.5*Math.cos(2*t.re);return new o(.5*Math.cos(t.re)*(Math.exp(-t.im)+Math.exp(t.im))/r,.5*Math.sin(t.re)*(Math.exp(t.im)-Math.exp(-t.im))/r)}if(f(t)){if(!t.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return 1/Math.cos(t.value)}if(p(t))return s.deepMap(t,d);if(l(t)||null===t)return d(+t);if(t instanceof i)return h(t,i,0,!0);throw new e.error.UnsupportedTypeError("sec",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection,p=t.bignumber.cosh_sinh_csch_sech;e.sech=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("sech",arguments.length,1);if(s(t))return 2/(Math.exp(t)+Math.exp(-t));if(l(t)){var r=Math.exp(t.re),d=Math.exp(-t.re),g=Math.cos(t.im)*(r+d),m=Math.sin(t.im)*(r-d),v=g*g+m*m;return new i(2*g/v,-2*m/v)}if(c(t)){if(!t.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return h(t.value)}if(f(t))return a.deepMap(t,h);if(u(t)||null===t)return h(t?1:0);if(t instanceof n)return p(t,n,!1,!0);throw new e.error.UnsupportedTypeError("sech",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.sin=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("sin",arguments.length,1);if(u(t))return Math.sin(t);if(c(t))return new o(Math.sin(t.re)*e.cosh(-t.im),Math.cos(t.re)*e.sinh(t.im));if(f(t)){if(!t.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return Math.sin(t.value)}if(p(t))return s.deepMap(t,d,!0);if(l(t)||null===t)return Math.sin(t);if(t instanceof i)return h(t,i,1,!1);throw new e.error.UnsupportedTypeError("sin",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection,p=t.bignumber.cosh_sinh_csch_sech;e.sinh=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("sinh",arguments.length,1);if(s(t))return Math.abs(t)<1?t+t*t*t/6+t*t*t*t*t/120:(Math.exp(t)-Math.exp(-t))/2;if(l(t)){var r=Math.cos(t.im),d=Math.sin(t.im),g=Math.exp(t.re),m=Math.exp(-t.re);return new i(r*(g-m)/2,d*(g+m)/2)}if(c(t)){if(!t.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return h(t.value)}if(f(t))return a.deepMap(t,h,!0);if(u(t)||null===t)return h(t?1:0);if(t instanceof n)return p(t,n,!0,!1);throw new e.error.UnsupportedTypeError("sinh",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(17),i=e.type.BigNumber,o=r(16),a=r(19),s=e.collection,u=n.number.isNumber,l=n["boolean"].isBoolean,c=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.tan_cot;e.tan=function d(t){if(1!=arguments.length)throw new e.error.ArgumentsError("tan",arguments.length,1);if(u(t))return Math.tan(t);if(c(t)){var r=Math.exp(-4*t.im)+2*Math.exp(-2*t.im)*Math.cos(2*t.re)+1;return new o(2*Math.exp(-2*t.im)*Math.sin(2*t.re)/r,(1-Math.exp(-4*t.im))/r)}if(f(t)){if(!t.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return Math.tan(t.value)}if(p(t))return s.deepMap(t,d,!0);if(l(t)||null===t)return Math.tan(t);if(t instanceof i)return h(t,i,!1);throw new e.error.UnsupportedTypeError("tan",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=e.type.BigNumber,i=r(16),o=r(19),a=e.collection,s=t.number.isNumber,u=t["boolean"].isBoolean,l=i.isComplex,c=o.isUnit,f=a.isCollection,p=t.bignumber.tanh_coth;e.tanh=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("tanh",arguments.length,1);if(s(t)){var r=Math.exp(2*t);return(r-1)/(r+1)}if(l(t)){var d=Math.exp(2*t.re),g=d*Math.cos(2*t.im),m=d*Math.sin(2*t.im),v=(g+1)*(g+1)+m*m;return new i(((g-1)*(g+1)+m*m)/v,2*m/v)}if(c(t)){if(!t.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return h(t.value)}if(f(t))return a.deepMap(t,h,!0);if(u(t)||null===t)return h(t?1:0);if(t instanceof n)return p(t,n,!1);throw new e.error.UnsupportedTypeError("tanh",e["typeof"](t))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=r(19),i=e.collection,o=t.string.isString,a=n.isUnit,s=i.isCollection;e.to=function u(t,r){if(2!=arguments.length)throw new e.error.ArgumentsError("to",arguments.length,2);if(a(t)&&(a(r)||o(r)))return t.to(r);if(s(t)||s(r))return i.deepMap2(t,r,u);throw new e.error.UnsupportedTypeError("to",e["typeof"](t),e["typeof"](r))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=t.object;e.clone=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("clone",arguments.length,1);return n.clone(t)}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){if("function"==typeof t)return e.filter(function(e){return t(e)});if(t instanceof RegExp)return e.filter(function(e){return t.test(e)});throw new TypeError("Function or RegExp expected")}var r=e.type.Matrix;e.filter=function(n,i){if(2!==arguments.length)throw new e.error.ArgumentsError("filter",arguments.length,2);if(n instanceof r){var o=n.size();if(o.length>1)throw new Error("Only one dimensional matrices supported");return e.matrix(t(n.toArray(),i))}if(Array.isArray(n))return t(n,i);throw new e.error.UnsupportedTypeError("filter",e["typeof"](n),e["typeof"](compare))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=t.string;e.format=function(t,r){var i=arguments.length;if(1!==i&&2!==i)throw new e.error.ArgumentsError("format",i,1,2);return n.format(t,r)}}},function(e,t,r){"use strict";e.exports=function(e){function t(t,r,n){(n.override||void 0===e[t])&&(n.wrap&&"function"==typeof r?(e[t]=function(){for(var t=[],n=0,i=arguments.length;i>n;n++){var o=arguments[n];t[n]=o&&o.valueOf()}return r.apply(e,t)},r&&r.transform&&(e[t].transform=r.transform)):e[t]=r,r&&r.transform&&(e.expression.transform[t]=r.transform),e.chaining.Chain.createProxy(t,r))}function n(e){return"function"==typeof e||s(e)||u(e)||l(e)||c(e)}var i=r(17),o=r(16),a=r(19),s=i.number.isNumber,u=i.string.isString,l=o.isComplex,c=a.isUnit;e["import"]=function f(i,o){var a=arguments.length;if(1!=a&&2!=a)throw new e.error.ArgumentsError("import",a,1,2);var s,l={override:o&&o.override||!1,wrap:o&&o.wrap||!1};if(u(i)){var c=r(337)(i);f(c,o)}else{if("object"!=typeof i)throw new TypeError("Object or module name expected");for(s in i)if(i.hasOwnProperty(s)){var p=i[s];n(p)?t(s,p,l):f(p,o)}}}}},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./clone":333,"./clone.js":333,"./filter":334,"./filter.js":334,"./forEach":338,"./forEach.js":338,"./format":335,"./format.js":335,"./import":336,"./import.js":336,"./map":339,"./map.js":339,"./partitionSelect":340,"./partitionSelect.js":340,"./print":341,"./print.js":341,"./sort":342,"./sort.js":342,"./typeof":343,"./typeof.js":343};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=337},function(e,t,r){"use strict";e.exports=function(e){
function t(e,t){var r=function(n,i){Array.isArray(n)?n.forEach(function(e,t){r(e,i.concat(t))}):t(n,i,e)};r(e,[])}var r=e.type.Matrix;e.forEach=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(n))return t(n,i);if(n instanceof r)return n.forEach(i);throw new e.error.UnsupportedTypeError("forEach",e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t){var r=function(n,i){return Array.isArray(n)?n.map(function(e,t){return r(e,i.concat(t))}):t(n,i,e)};return r(e,[])}var r=e.type.Matrix;e.map=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(n))return t(n,i);if(n instanceof r)return n.map(i);throw new e.error.UnsupportedTypeError("map",e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t,r){if(t>=e.length)throw new Error("k out of bounds");for(var n=0,i=e.length-1;i>n;){for(var o=n,a=i,s=e[Math.floor(Math.random()*(i-n+1))+n];a>o;)if(r(e[o],s)>=0){var u=e[a];e[a]=e[o],e[o]=u,--a}else++o;r(e[o],s)>0&&--o,o>=t?i=o:n=o+1}return e[t]}var n=r(17),i=e.type.Matrix,o=n.number.isNumber,a=n.number.isInteger;e.partitionSelect=function(r,n,s){var u;if(2===arguments.length)u=e.compare;else{if(3!==arguments.length)throw new e.error.ArgumentsError("partitionSelect",arguments.length,2,3);if("function"==typeof s)u=s;else if("asc"===s)u=e.compare;else{if("desc"!==s)throw new e.error.UnsupportedTypeError("partitionSelect",e["typeof"](s));u=function(t,r){return-e.compare(t,r)}}}if(o(n)){if(a(n)&&n>=0){if(r instanceof i){var l=r.size();if(l.length>1)throw new Error("Only one dimensional matrices supported");return t(r.valueOf(),n,u)}if(Array.isArray(r))return t(r,n,u);throw new e.error.UnsupportedTypeError("partitionSelect",e["typeof"](r))}throw new Error("k must be a non-negative integer")}throw new e.error.UnsupportedTypeError("partitionSelect",e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(17),n=t.string.isString;e.print=function(t,r,i){var o=arguments.length;if(2!=o&&3!=o)throw new e.error.ArgumentsError("print",o,2,3);if(!n(t))throw new TypeError("String expected as first parameter in function format");if(!(r instanceof Object))throw new TypeError("Object expected as second parameter in function format");return t.replace(/\$([\w\.]+)/g,function(t,o){for(var a=o.split("."),s=r[a.shift()];a.length&&void 0!==s;){var u=a.shift();s=u?s[u]:s+"."}return void 0!==s?n(s)?s:e.format(s,i):t})}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.type.Matrix;e.sort=function(r,n){var i=null;if(1===arguments.length)i=e.compare;else{if(2!==arguments.length)throw new e.error.ArgumentsError("sort",arguments.length,1,2);if("function"==typeof n)i=n;else if("asc"===n)i=e.compare;else{if("desc"!==n)throw new e.error.UnsupportedTypeError("sort",e["typeof"](r),e["typeof"](n));i=function(t,r){return-e.compare(t,r)}}}if(r instanceof t){var o=r.size();if(o.length>1)throw new Error("Only one dimensional matrices supported");return e.matrix(r.toArray().sort(i))}if(Array.isArray(r))return r.sort(i);throw new e.error.UnsupportedTypeError("sort",e["typeof"](r),e["typeof"](n))}}},function(e,t,r){"use strict";e.exports=function(e){var t=r(4),n=r(16),i=e.type.Matrix,o=r(19),a=r(25),s=r(24),u=r(27);e["typeof"]=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("typeof",arguments.length,1);var l=t.type(r);if("object"===l){if(r instanceof n)return"complex";if(r instanceof i)return"matrix";if(r instanceof o)return"unit";if(r instanceof a)return"index";if(r instanceof s)return"range";if(r instanceof u)return"help";if(r instanceof e.type.BigNumber)return"bignumber";if(r instanceof e.chaining.Chain)return"chain"}return l}}},function(e,t,r){"use strict";var n=r(7),i=r(345).transform,o=r(5).isNumber,a=r(3).argsToArray;e.exports=function(e){var t=function(){var t=a(arguments),r=t.length-1,s=t[r];o(s)?t[r]=s-1:s instanceof n&&(t[r]=s.minus(1));try{return e.concat.apply(e,t)}catch(u){throw i(u)}};return e.concat.transform=t,t}},function(e,t,r){var n=(r(13),r(14));t.transform=function(e){return e instanceof n?new n(e.index+1,e.min+1,e.max+1):e}},function(e,t,r){"use strict";var n=r(45),i=(r(18).isBoolean,r(3).argsToArray,r(22));e.exports=function(e){var t=e.filter,r=function(e,r,o){if(2!==e.length)throw new i("filter",arguments.length,2);var a,s=e[0].compile(r).eval(o);if(e[1]instanceof n)a=e[1].compile(r).eval(o);else{var u=o||{},l=e[1].filter(function(e){return e instanceof n&&!(e.name in r)&&!(e.name in u)})[0],c=Object.create(u),f=e[1].compile(r);if(!l)throw new Error("No undefined variable found in filter equation");var p=l.name;a=function(e){return c[p]=e,f.eval(c)}}return t(s,a)};return r.rawArgs=!0,e.filter.transform=r,r}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t,r){var n=function(e,i){Array.isArray(e)?e.forEach(function(e,t){n(e,i.concat(t+1))}):t(e,i,r)};n(e,[])}var r=e.type.Matrix,n=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(n))t(n,i,n);else{if(!(n instanceof r))throw new e.error.UnsupportedTypeError("forEach",e["typeof"](n));t(n.valueOf(),i,n)}};return e.forEach.transform=n,n}},function(e,t,r){"use strict";var n=r(7),i=r(24),o=r(25),a=r(5).isNumber;e.exports=function(e){var t=function(){for(var e=[],t=0,r=arguments.length;r>t;t++){var s=arguments[t];if(s instanceof i)s.start--,s.end-=s.step>0?0:2;else if(a(s))s--;else{if(!(s instanceof n))throw new TypeError("Ranges must be a Number or Range");s=s.toNumber()-1}e[t]=s}var u=new o;return o.apply(u,e),u};return e.index.transform=t,t}},function(e,t,r){"use strict";e.exports=function(e){function t(e,t,r){var n=function(e,i){return Array.isArray(e)?e.map(function(e,t){return n(e,i.concat(t+1))}):t(e,i,r)};return n(e,[])}var r=e.type.Matrix,n=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(n))return t(n,i,n);if(n instanceof r)return e.matrix(t(n.valueOf(),i,n));throw new e.error.UnsupportedTypeError("map",e["typeof"](n))};return e.map.transform=n,n}},function(e,t,r){"use strict";var n=r(7),i=r(345).transform,o=r(5).isNumber,a=r(3).argsToArray;e.exports=function(e){var t=e.collection.isCollection,r=function(){var r=a(arguments);if(2==r.length&&t(r[0])){var s=r[1];o(s)?r[1]=s-1:s instanceof n&&(r[1]=s.minus(1))}try{return e.max.apply(e,r)}catch(u){throw i(u)}};return e.max.transform=r,r}},function(e,t,r){"use strict";var n=r(7),i=r(345).transform,o=r(5).isNumber,a=r(3).argsToArray;e.exports=function(e){var t=e.collection.isCollection,r=function(){var r=a(arguments);if(2==r.length&&t(r[0])){var s=r[1];o(s)?r[1]=s-1:s instanceof n&&(r[1]=s.minus(1))}try{return e.mean.apply(e,r)}catch(u){throw i(u)}};return e.mean.transform=r,r}},function(e,t,r){"use strict";var n=r(7),i=r(345).transform,o=r(5).isNumber,a=r(3).argsToArray;e.exports=function(e){var t=e.collection.isCollection,r=function(){var r=a(arguments);if(2==r.length&&t(r[0])){var s=r[1];o(s)?r[1]=s-1:s instanceof n&&(r[1]=s.minus(1))}try{return e.min.apply(e,r)}catch(u){throw i(u)}};return e.min.transform=r,r}},function(e,t,r){"use strict";var n=r(18).isBoolean,i=r(3).argsToArray;e.exports=function(e){var t=function(){var t=i(arguments),r=t.length-1,o=t[r];return n(o)||t.push(!0),e.range.apply(e,t)};return e.range.transform=t,t}},function(e,t,r){"use strict";var n=r(345).transform,i=(r(18).isBoolean,r(3).argsToArray);e.exports=function(e){var t=function(){try{return e.subset.apply(e,i(arguments))}catch(t){throw n(t)}};return e.subset.transform=t,t}},function(e,t,r){"use strict";e.exports=function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.value=e instanceof t?e.value:e}function n(e,r){var n=Array.prototype.slice;t.prototype[e]="function"==typeof r?function(){var e=[this.value].concat(n.call(arguments,0));return new t(r.apply(this,e))}:new t(r)}var i=r(9);t.prototype.done=function(){return this.value},t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return i.format(this.value)},t.createProxy=n;for(var o in e)e.hasOwnProperty(o)&&n(o,e[o]);return t}}])});